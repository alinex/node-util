<!DOCTYPE html>
<html>
<head>
  <title>raphael-min.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../doc-style.css" />
  <script src="../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../", thisFile = "home/alex/github/node-util/report/metrics/assets/scripts/vendor/raphael-min.js", defaultSidebar = true;
  </script>
  <script src="../../../../../doc-script.js"></script>
</head>
<body>
  <nav>
<div class="logo"><a href="http://alinex.github.io" onmouseover="lllogo.src='https://alinex.github.io/images/Alinex-200.png'" onmouseout="lllogo.src='https://alinex.github.io/images/Alinex-black-200.png'">
  <img name="lllogo" src="https://alinex.github.io/images/Alinex-black-200.png" width="150" title="Alinex Universe Homepage" />
  </a>
  <img src="http://alinex.github.io/images/Alinex-200.png" style="display:none" alt="preloading" />
</div>
<div class="links">
  <a href="http://alinex.github.io/blog" class="btn btn-primary"><span class="glyphicon-cog"></span> Blog</a>
  <a href="http://alinex.github.io/code.html" class="btn btn-warning"><span class="glyphicon-pencil"></span> Code</a>
</div>
</nav><div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container" tabindex="0"><a id="fork" href="https://github.com/alinex/node-util" title="Fork me on GitHub"></a><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>raphael-min.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>
<p>┌────────────────────────────────────────────────────────────────────┐ \
│ Raphaël 2.1.0 - JavaScript Vector Library                          │ \
├────────────────────────────────────────────────────────────────────┤ \
│ Copyright © 2008-2012 Dmitry Baranovskiy (<a href='http://raphaeljs.com'>http://raphaeljs.com</a>)    │ \
│ Copyright © 2008-2012 Sencha Labs (<a href='http://sencha.com'>http://sencha.com</a>)              │ \
├────────────────────────────────────────────────────────────────────┤ \
│ Licensed under the MIT (<a href='http://raphaeljs.com/license.html'>http://raphaeljs.com/license.html</a>) license.│ \
└────────────────────────────────────────────────────────────────────┘ \</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="s2">&quot;0.3.4&quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="s2">&quot;hasOwnProperty&quot;</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="sr">/[\.\/]/</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="kd">function</span><span class="p">(){},</span><span class="nx">g</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">-</span><span class="nx">b</span><span class="p">},</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="p">{</span><span class="nx">n</span><span class="o">:</span><span class="p">{}},</span><span class="nx">k</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">j</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">listeners</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="p">[],</span><span class="nx">p</span><span class="o">=</span><span class="p">{},</span><span class="nx">q</span><span class="o">=</span><span class="p">[],</span><span class="nx">r</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="p">[];</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">t</span><span class="o">&lt;</span><span class="nx">u</span><span class="p">;</span><span class="nx">t</span><span class="o">++</span><span class="p">)</span><span class="s2">&quot;zIndex&quot;</span><span class="k">in</span> <span class="nx">f</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">zIndex</span><span class="p">),</span><span class="nx">f</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">zIndex</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">f</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">zIndex</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">[</span><span class="nx">t</span><span class="p">]));</span><span class="nx">o</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">g</span><span class="p">);</span><span class="k">while</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="nx">l</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">){</span><span class="nx">n</span><span class="o">=</span><span class="nx">p</span><span class="p">[</span><span class="nx">o</span><span class="p">[</span><span class="nx">l</span><span class="o">++</span><span class="p">]],</span><span class="nx">q</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="k">return</span> <span class="nx">q</span><span class="p">}}</span><span class="k">for</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">t</span><span class="o">&lt;</span><span class="nx">u</span><span class="p">;</span><span class="nx">t</span><span class="o">++</span><span class="p">){</span><span class="nx">n</span><span class="o">=</span><span class="nx">f</span><span class="p">[</span><span class="nx">t</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="s2">&quot;zIndex&quot;</span><span class="k">in</span> <span class="nx">n</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">zIndex</span><span class="o">==</span><span class="nx">o</span><span class="p">[</span><span class="nx">l</span><span class="p">]){</span><span class="nx">q</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="k">break</span><span class="p">;</span><span class="k">do</span><span class="p">{</span><span class="nx">l</span><span class="o">++</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">p</span><span class="p">[</span><span class="nx">o</span><span class="p">[</span><span class="nx">l</span><span class="p">]],</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="k">break</span><span class="p">}</span><span class="k">while</span><span class="p">(</span><span class="nx">n</span><span class="p">)}</span><span class="k">else</span> <span class="nx">p</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">zIndex</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">;</span><span class="k">else</span><span class="p">{</span><span class="nx">q</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="k">break</span><span class="p">}}</span><span class="nx">i</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">r</span><span class="p">;</span><span class="k">return</span> <span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="o">?</span><span class="nx">q</span><span class="o">:</span><span class="kc">null</span><span class="p">};</span><span class="nx">k</span><span class="p">.</span><span class="nx">listeners</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">j</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">k</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="nx">n</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">m</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">n</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="p">[</span><span class="nx">c</span><span class="p">[</span><span class="nx">b</span><span class="p">[</span><span class="nx">i</span><span class="p">]],</span><span class="nx">c</span><span class="p">[</span><span class="nx">e</span><span class="p">]],</span><span class="nx">h</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">h</span><span class="o">--</span><span class="p">)</span><span class="nx">f</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">h</span><span class="p">],</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="nx">p</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">f</span><span class="o">||</span><span class="p">[]))}</span><span class="nx">o</span><span class="o">=</span><span class="nx">n</span><span class="p">}</span><span class="k">return</span> <span class="nx">p</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">on</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">j</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">)</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">n</span><span class="p">,</span><span class="o">!</span><span class="nx">e</span><span class="p">[</span><span class="nx">c</span><span class="p">[</span><span class="nx">g</span><span class="p">]]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">c</span><span class="p">[</span><span class="nx">g</span><span class="p">]]</span><span class="o">=</span><span class="p">{</span><span class="nx">n</span><span class="o">:</span><span class="p">{}}),</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">c</span><span class="p">[</span><span class="nx">g</span><span class="p">]];</span><span class="nx">e</span><span class="p">.</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">f</span><span class="o">||</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">f</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">==</span><span class="nx">b</span><span class="p">)</span><span class="k">return</span> <span class="nx">f</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="o">+</span><span class="nx">a</span><span class="o">==+</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">zIndex</span><span class="o">=+</span><span class="nx">a</span><span class="p">)}},</span><span class="nx">k</span><span class="p">.</span><span class="nx">stop</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="o">=</span><span class="mi">1</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">nt</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="k">return</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;(?:\\.|\\/|^)&quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;(?:\\.|\\/|$)&quot;</span><span class="p">)).</span><span class="nx">test</span><span class="p">(</span><span class="nx">h</span><span class="p">);</span><span class="k">return</span> <span class="nx">h</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">off</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">unbind</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">l</span><span class="p">;</span><span class="nx">k</span><span class="o">++</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">m</span><span class="o">&lt;</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">m</span><span class="o">+=</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="p">[</span><span class="nx">m</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="nx">g</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">m</span><span class="p">].</span><span class="nx">n</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">!=</span><span class="nx">e</span><span class="p">)</span><span class="nx">g</span><span class="p">[</span><span class="nx">f</span><span class="p">[</span><span class="nx">k</span><span class="p">]]</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="nx">f</span><span class="p">[</span><span class="nx">k</span><span class="p">]]);</span><span class="k">else</span> <span class="k">for</span><span class="p">(</span><span class="nx">h</span> <span class="k">in</span> <span class="nx">g</span><span class="p">)</span><span class="nx">g</span><span class="p">[</span><span class="nx">c</span><span class="p">](</span><span class="nx">h</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="nx">h</span><span class="p">]);</span><span class="nx">o</span><span class="p">.</span><span class="nx">splice</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">i</span><span class="p">)}</span><span class="k">for</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">l</span><span class="p">;</span><span class="nx">k</span><span class="o">++</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">k</span><span class="p">];</span><span class="k">while</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">f</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">m</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">;</span><span class="nx">m</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">f</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span><span class="o">==</span><span class="nx">b</span><span class="p">){</span><span class="nx">g</span><span class="p">.</span><span class="nx">f</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">break</span><span class="p">}</span><span class="o">!</span><span class="nx">g</span><span class="p">.</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">g</span><span class="p">.</span><span class="nx">f</span><span class="p">}</span><span class="k">for</span><span class="p">(</span><span class="nx">h</span> <span class="k">in</span> <span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">[</span><span class="nx">c</span><span class="p">](</span><span class="nx">h</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">[</span><span class="nx">h</span><span class="p">].</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">[</span><span class="nx">h</span><span class="p">].</span><span class="nx">f</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">m</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">;</span><span class="nx">m</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span><span class="o">==</span><span class="nx">b</span><span class="p">){</span><span class="nx">p</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">break</span><span class="p">}</span><span class="o">!</span><span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">[</span><span class="nx">h</span><span class="p">].</span><span class="nx">f</span><span class="p">}}</span><span class="k">else</span><span class="p">{</span><span class="k">delete</span> <span class="nx">g</span><span class="p">.</span><span class="nx">f</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">h</span> <span class="k">in</span> <span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span><span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">[</span><span class="nx">c</span><span class="p">](</span><span class="nx">h</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">[</span><span class="nx">h</span><span class="p">].</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">[</span><span class="nx">h</span><span class="p">].</span><span class="nx">f</span><span class="p">}</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">n</span><span class="p">}}},</span><span class="nx">k</span><span class="p">.</span><span class="nx">once</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">);</span><span class="nx">k</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">};</span><span class="k">return</span> <span class="nx">k</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)},</span><span class="nx">k</span><span class="p">.</span><span class="nx">version</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;You are running Eve &quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">},</span><span class="k">typeof</span> <span class="nx">module</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="o">?</span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="o">=</span><span class="nx">k</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">define</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">?</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;eve&quot;</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">k</span><span class="p">})</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">eve</span><span class="o">=</span><span class="nx">k</span><span class="p">})(</span><span class="k">this</span><span class="p">),</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">cF</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">)</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">el</span><span class="p">.</span><span class="nx">paper</span><span class="o">==</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">cy</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">b</span><span class="o">--</span><span class="p">,</span><span class="mi">1</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">cE</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="p">[],</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">ms</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="p">{},</span><span class="nx">v</span><span class="o">=</span><span class="p">{},</span><span class="nx">w</span><span class="o">=</span><span class="p">{};</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="nx">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">y</span><span class="o">&lt;</span><span class="nx">z</span><span class="p">;</span><span class="nx">y</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="nx">cy</span><span class="p">[</span><span class="nx">y</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">id</span><span class="o">==</span><span class="nx">d</span><span class="p">.</span><span class="nx">id</span><span class="o">&amp;&amp;</span><span class="nx">x</span><span class="p">.</span><span class="nx">anim</span><span class="o">==</span><span class="nx">b</span><span class="p">){</span><span class="nx">x</span><span class="p">.</span><span class="nx">percent</span><span class="o">!=</span><span class="nx">e</span><span class="o">?</span><span class="p">(</span><span class="nx">cy</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">y</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">l</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="nx">k</span><span class="o">=</span><span class="nx">x</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">totalOrigin</span><span class="p">);</span><span class="k">break</span><span class="p">}}</span><span class="k">else</span> <span class="nx">f</span><span class="o">=+</span><span class="nx">v</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">percents</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">y</span><span class="o">&lt;</span><span class="nx">z</span><span class="p">;</span><span class="nx">y</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">percents</span><span class="p">[</span><span class="nx">y</span><span class="p">]</span><span class="o">==</span><span class="nx">e</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">percents</span><span class="p">[</span><span class="nx">y</span><span class="p">]</span><span class="o">&gt;</span><span class="nx">f</span><span class="o">*</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">percents</span><span class="p">[</span><span class="nx">y</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">percents</span><span class="p">[</span><span class="nx">y</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="o">/</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="nx">p</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">percents</span><span class="p">[</span><span class="nx">y</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="nx">j</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">anim</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="k">break</span><span class="p">}</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">anim</span><span class="p">[</span><span class="nx">b</span><span class="p">.</span><span class="nx">percents</span><span class="p">[</span><span class="nx">y</span><span class="p">]])}</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">j</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">k</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">A</span> <span class="k">in</span> <span class="nx">j</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">A</span><span class="p">))</span><span class="k">if</span><span class="p">(</span><span class="nx">U</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">A</span><span class="p">)</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">A</span><span class="p">)){</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">A</span><span class="p">),</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="nx">T</span><span class="p">[</span><span class="nx">A</span><span class="p">]),</span><span class="nx">v</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="nx">A</span><span class="p">];</span><span class="k">switch</span><span class="p">(</span><span class="nx">U</span><span class="p">[</span><span class="nx">A</span><span class="p">]){</span><span class="k">case</span> <span class="nx">C</span><span class="o">:</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="nx">v</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">-</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">])</span><span class="o">/</span><span class="nx">t</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;colour&quot;</span><span class="o">:</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">]);</span><span class="kd">var</span> <span class="nx">B</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">v</span><span class="p">[</span><span class="nx">A</span><span class="p">]);</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">r</span><span class="o">:</span><span class="p">(</span><span class="nx">B</span><span class="p">.</span><span class="nx">r</span><span class="o">-</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">].</span><span class="nx">r</span><span class="p">)</span><span class="o">/</span><span class="nx">t</span><span class="p">,</span><span class="nx">g</span><span class="o">:</span><span class="p">(</span><span class="nx">B</span><span class="p">.</span><span class="nx">g</span><span class="o">-</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">].</span><span class="nx">g</span><span class="p">)</span><span class="o">/</span><span class="nx">t</span><span class="p">,</span><span class="nx">b</span><span class="o">:</span><span class="p">(</span><span class="nx">B</span><span class="p">.</span><span class="nx">b</span><span class="o">-</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">].</span><span class="nx">b</span><span class="p">)</span><span class="o">/</span><span class="nx">t</span><span class="p">};</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;path&quot;</span><span class="o">:</span><span class="kd">var</span> <span class="nx">D</span><span class="o">=</span><span class="nx">bR</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">],</span><span class="nx">v</span><span class="p">[</span><span class="nx">A</span><span class="p">]),</span><span class="nx">E</span><span class="o">=</span><span class="nx">D</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="nx">D</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="nx">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">y</span><span class="o">&lt;</span><span class="nx">z</span><span class="p">;</span><span class="nx">y</span><span class="o">++</span><span class="p">){</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">G</span><span class="o">=</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">F</span><span class="o">&lt;</span><span class="nx">G</span><span class="p">;</span><span class="nx">F</span><span class="o">++</span><span class="p">)</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">][</span><span class="nx">F</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="nx">E</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">F</span><span class="p">]</span><span class="o">-</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">][</span><span class="nx">F</span><span class="p">])</span><span class="o">/</span><span class="nx">t</span><span class="p">}</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;transform&quot;</span><span class="o">:</span><span class="kd">var</span> <span class="nx">H</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">,</span><span class="nx">I</span><span class="o">=</span><span class="nx">ca</span><span class="p">(</span><span class="nx">H</span><span class="p">[</span><span class="nx">A</span><span class="p">],</span><span class="nx">v</span><span class="p">[</span><span class="nx">A</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">I</span><span class="p">){</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="nx">I</span><span class="p">.</span><span class="nx">from</span><span class="p">,</span><span class="nx">v</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="nx">I</span><span class="p">.</span><span class="nx">to</span><span class="p">,</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">].</span><span class="nx">real</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">y</span><span class="o">&lt;</span><span class="nx">z</span><span class="p">;</span><span class="nx">y</span><span class="o">++</span><span class="p">){</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">][</span><span class="mi">0</span><span class="p">]];</span><span class="k">for</span><span class="p">(</span><span class="nx">F</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">G</span><span class="o">=</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">F</span><span class="o">&lt;</span><span class="nx">G</span><span class="p">;</span><span class="nx">F</span><span class="o">++</span><span class="p">)</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">][</span><span class="nx">F</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="nx">v</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">][</span><span class="nx">F</span><span class="p">]</span><span class="o">-</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">][</span><span class="nx">F</span><span class="p">])</span><span class="o">/</span><span class="nx">t</span><span class="p">}}</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">J</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">matrix</span><span class="o">||</span><span class="k">new</span> <span class="nx">cb</span><span class="p">,</span><span class="nx">K</span><span class="o">=</span><span class="p">{</span><span class="nx">_</span><span class="o">:</span><span class="p">{</span><span class="nx">transform</span><span class="o">:</span><span class="nx">H</span><span class="p">.</span><span class="nx">transform</span><span class="p">},</span><span class="nx">getBBox</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(</span><span class="mi">1</span><span class="p">)}};</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="nx">J</span><span class="p">.</span><span class="nx">a</span><span class="p">,</span><span class="nx">J</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="nx">J</span><span class="p">.</span><span class="nx">c</span><span class="p">,</span><span class="nx">J</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span><span class="nx">J</span><span class="p">.</span><span class="nx">e</span><span class="p">,</span><span class="nx">J</span><span class="p">.</span><span class="nx">f</span><span class="p">],</span><span class="nx">b$</span><span class="p">(</span><span class="nx">K</span><span class="p">,</span><span class="nx">v</span><span class="p">[</span><span class="nx">A</span><span class="p">]),</span><span class="nx">v</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="nx">K</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">,</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="p">[(</span><span class="nx">K</span><span class="p">.</span><span class="nx">matrix</span><span class="p">.</span><span class="nx">a</span><span class="o">-</span><span class="nx">J</span><span class="p">.</span><span class="nx">a</span><span class="p">)</span><span class="o">/</span><span class="nx">t</span><span class="p">,(</span><span class="nx">K</span><span class="p">.</span><span class="nx">matrix</span><span class="p">.</span><span class="nx">b</span><span class="o">-</span><span class="nx">J</span><span class="p">.</span><span class="nx">b</span><span class="p">)</span><span class="o">/</span><span class="nx">t</span><span class="p">,(</span><span class="nx">K</span><span class="p">.</span><span class="nx">matrix</span><span class="p">.</span><span class="nx">c</span><span class="o">-</span><span class="nx">J</span><span class="p">.</span><span class="nx">c</span><span class="p">)</span><span class="o">/</span><span class="nx">t</span><span class="p">,(</span><span class="nx">K</span><span class="p">.</span><span class="nx">matrix</span><span class="p">.</span><span class="nx">d</span><span class="o">-</span><span class="nx">J</span><span class="p">.</span><span class="nx">d</span><span class="p">)</span><span class="o">/</span><span class="nx">t</span><span class="p">,(</span><span class="nx">K</span><span class="p">.</span><span class="nx">matrix</span><span class="p">.</span><span class="nx">e</span><span class="o">-</span><span class="nx">J</span><span class="p">.</span><span class="nx">e</span><span class="p">)</span><span class="o">/</span><span class="nx">t</span><span class="p">,(</span><span class="nx">K</span><span class="p">.</span><span class="nx">matrix</span><span class="p">.</span><span class="nx">f</span><span class="o">-</span><span class="nx">J</span><span class="p">.</span><span class="nx">f</span><span class="p">)</span><span class="o">/</span><span class="nx">t</span><span class="p">]}</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;csv&quot;</span><span class="o">:</span><span class="kd">var</span> <span class="nx">L</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">A</span><span class="p">])[</span><span class="nx">s</span><span class="p">](</span><span class="nx">c</span><span class="p">),</span><span class="nx">M</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">])[</span><span class="nx">s</span><span class="p">](</span><span class="nx">c</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">A</span><span class="o">==</span><span class="s2">&quot;clip-rect&quot;</span><span class="p">){</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="nx">M</span><span class="p">,</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">y</span><span class="o">=</span><span class="nx">M</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">y</span><span class="o">--</span><span class="p">)</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="nx">L</span><span class="p">[</span><span class="nx">y</span><span class="p">]</span><span class="o">-</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">])</span><span class="o">/</span><span class="nx">t</span><span class="p">}</span><span class="nx">v</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="nx">L</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">default</span><span class="o">:</span><span class="nx">L</span><span class="o">=</span><span class="p">[][</span><span class="nx">n</span><span class="p">](</span><span class="nx">j</span><span class="p">[</span><span class="nx">A</span><span class="p">]),</span><span class="nx">M</span><span class="o">=</span><span class="p">[][</span><span class="nx">n</span><span class="p">](</span><span class="nx">u</span><span class="p">[</span><span class="nx">A</span><span class="p">]),</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">y</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">A</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">y</span><span class="o">--</span><span class="p">)</span><span class="nx">w</span><span class="p">[</span><span class="nx">A</span><span class="p">][</span><span class="nx">y</span><span class="p">]</span><span class="o">=</span><span class="p">((</span><span class="nx">L</span><span class="p">[</span><span class="nx">y</span><span class="p">]</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="nx">M</span><span class="p">[</span><span class="nx">y</span><span class="p">]</span><span class="o">||</span><span class="mi">0</span><span class="p">))</span><span class="o">/</span><span class="nx">t</span><span class="p">}}</span><span class="kd">var</span> <span class="nx">O</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">easing</span><span class="p">,</span><span class="nx">P</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">easing_formulas</span><span class="p">[</span><span class="nx">O</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">P</span><span class="p">){</span><span class="nx">P</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">O</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="nx">N</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">P</span><span class="o">&amp;&amp;</span><span class="nx">P</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">5</span><span class="p">){</span><span class="kd">var</span> <span class="nx">R</span><span class="o">=</span><span class="nx">P</span><span class="p">;</span><span class="nx">P</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">cC</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="o">+</span><span class="nx">R</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="o">+</span><span class="nx">R</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="o">+</span><span class="nx">R</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="o">+</span><span class="nx">R</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">t</span><span class="p">)}}</span><span class="k">else</span> <span class="nx">P</span><span class="o">=</span><span class="nx">bf</span><span class="p">}</span><span class="nx">q</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">start</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">start</span><span class="o">||+</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">),</span><span class="nx">x</span><span class="o">=</span><span class="p">{</span><span class="nx">anim</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">percent</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">timestamp</span><span class="o">:</span><span class="nx">q</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="nx">q</span><span class="o">+</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">del</span><span class="o">||</span><span class="mi">0</span><span class="p">),</span><span class="nx">status</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">initstatus</span><span class="o">:</span><span class="nx">f</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">stop</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">ms</span><span class="o">:</span><span class="nx">t</span><span class="p">,</span><span class="nx">easing</span><span class="o">:</span><span class="nx">P</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">u</span><span class="p">,</span><span class="nx">diff</span><span class="o">:</span><span class="nx">w</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="nx">v</span><span class="p">,</span><span class="nx">el</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">callback</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">callback</span><span class="p">,</span><span class="nx">prev</span><span class="o">:</span><span class="nx">p</span><span class="p">,</span><span class="nx">next</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">repeat</span><span class="o">:</span><span class="nx">i</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">times</span><span class="p">,</span><span class="nx">origin</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">attr</span><span class="p">(),</span><span class="nx">totalOrigin</span><span class="o">:</span><span class="nx">h</span><span class="p">},</span><span class="nx">cy</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="o">&amp;&amp;!</span><span class="nx">k</span><span class="o">&amp;&amp;!</span><span class="nx">l</span><span class="p">){</span><span class="nx">x</span><span class="p">.</span><span class="nx">stop</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">x</span><span class="p">.</span><span class="nx">start</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="o">-</span><span class="nx">t</span><span class="o">*</span><span class="nx">f</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span><span class="k">return</span> <span class="nx">cA</span><span class="p">()}</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">start</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="o">-</span><span class="nx">x</span><span class="p">.</span><span class="nx">ms</span><span class="o">*</span><span class="nx">f</span><span class="p">),</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">cz</span><span class="p">(</span><span class="nx">cA</span><span class="p">)}</span><span class="k">else</span> <span class="nx">k</span><span class="p">.</span><span class="nx">initstatus</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">start</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="o">-</span><span class="nx">k</span><span class="p">.</span><span class="nx">ms</span><span class="o">*</span><span class="nx">f</span><span class="p">;</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.anim.start.&quot;</span><span class="o">+</span><span class="nx">d</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">cD</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="p">[],</span><span class="nx">d</span><span class="o">=</span><span class="p">{};</span><span class="k">this</span><span class="p">.</span><span class="nx">ms</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">times</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span> <span class="k">in</span> <span class="nx">a</span><span class="p">)</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="nx">Q</span><span class="p">(</span><span class="nx">e</span><span class="p">)]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">e</span><span class="p">],</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">Q</span><span class="p">(</span><span class="nx">e</span><span class="p">)));</span><span class="nx">c</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">bd</span><span class="p">)}</span><span class="k">this</span><span class="p">.</span><span class="nx">anim</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">percents</span><span class="o">=</span><span class="nx">c</span><span class="p">}</span><span class="kd">function</span> <span class="nx">cC</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">function</span> <span class="nx">o</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="mi">8</span><span class="p">;</span><span class="nx">k</span><span class="o">++</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">m</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">-</span><span class="nx">a</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">z</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">;</span><span class="nx">j</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">h</span><span class="p">)</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="nx">g</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">z</span><span class="p">(</span><span class="nx">j</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">1</span><span class="nx">e</span><span class="o">-</span><span class="mi">6</span><span class="p">)</span><span class="k">break</span><span class="p">;</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">-</span><span class="nx">f</span><span class="o">/</span><span class="nx">j</span><span class="p">}</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">)</span><span class="k">return</span> <span class="nx">c</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&gt;</span><span class="nx">d</span><span class="p">)</span><span class="k">return</span> <span class="nx">d</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">m</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">z</span><span class="p">(</span><span class="nx">f</span><span class="o">-</span><span class="nx">a</span><span class="p">)</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">;</span><span class="nx">a</span><span class="o">&gt;</span><span class="nx">f</span><span class="o">?</span><span class="nx">c</span><span class="o">=</span><span class="nx">e</span><span class="o">:</span><span class="nx">d</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="p">(</span><span class="nx">d</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="nx">c</span><span class="p">}</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">n</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">o</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span><span class="p">((</span><span class="nx">l</span><span class="o">*</span><span class="nx">c</span><span class="o">+</span><span class="nx">k</span><span class="p">)</span><span class="o">*</span><span class="nx">c</span><span class="o">+</span><span class="nx">j</span><span class="p">)</span><span class="o">*</span><span class="nx">c</span><span class="p">}</span><span class="kd">function</span> <span class="nx">m</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="p">((</span><span class="nx">i</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="nx">h</span><span class="p">)</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="nx">g</span><span class="p">)</span><span class="o">*</span><span class="nx">a</span><span class="p">}</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="mi">3</span><span class="o">*</span><span class="nx">b</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="nx">d</span><span class="o">-</span><span class="nx">b</span><span class="p">)</span><span class="o">-</span><span class="nx">g</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="nx">g</span><span class="o">-</span><span class="nx">h</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="mi">3</span><span class="o">*</span><span class="nx">c</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">-</span><span class="nx">j</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="nx">j</span><span class="o">-</span><span class="nx">k</span><span class="p">;</span><span class="k">return</span> <span class="nx">n</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">200</span><span class="o">*</span><span class="nx">f</span><span class="p">))}</span><span class="kd">function</span> <span class="nx">cq</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">q</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">q</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="s2">&quot; × &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">}</span><span class="kd">function</span> <span class="nx">cp</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">q</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">}</span><span class="kd">function</span> <span class="nx">cb</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="nx">a</span><span class="o">!=</span><span class="kc">null</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="o">=+</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="o">=+</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">c</span><span class="o">=+</span><span class="nx">c</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="o">=+</span><span class="nx">d</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">e</span><span class="o">=+</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span><span class="o">=+</span><span class="nx">f</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">bH</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_path2curve</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_path2curve</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">d</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">p</span><span class="o">&lt;</span><span class="nx">q</span><span class="p">;</span><span class="nx">p</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">p</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="nx">e</span><span class="o">=</span><span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">f</span><span class="o">=</span><span class="nx">j</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="k">else</span><span class="p">{</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;C&quot;</span><span class="o">?</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="p">[</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span><span class="nx">e</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="nx">f</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span><span class="o">:</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="p">[</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">],</span><span class="nx">e</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">j</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">s</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="nx">g</span><span class="o">=</span><span class="nx">k</span><span class="o">=</span><span class="nx">u</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">h</span><span class="o">=</span><span class="nx">l</span><span class="o">=</span><span class="nx">u</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="k">else</span><span class="p">{</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;C&quot;</span><span class="o">?</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="p">[</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span><span class="nx">g</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="nx">h</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span><span class="o">:</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="p">[</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">],</span><span class="nx">g</span><span class="o">=</span><span class="nx">k</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">l</span><span class="p">);</span><span class="kd">var</span> <span class="nx">v</span><span class="o">=</span><span class="nx">bG</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="nx">o</span><span class="o">+=</span><span class="nx">v</span><span class="p">;</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">w</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="nx">v</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">w</span><span class="o">&lt;</span><span class="nx">x</span><span class="p">;</span><span class="nx">w</span><span class="o">++</span><span class="p">)</span><span class="nx">v</span><span class="p">[</span><span class="nx">w</span><span class="p">].</span><span class="nx">segment1</span><span class="o">=</span><span class="nx">p</span><span class="p">,</span><span class="nx">v</span><span class="p">[</span><span class="nx">w</span><span class="p">].</span><span class="nx">segment2</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="nx">v</span><span class="p">[</span><span class="nx">w</span><span class="p">].</span><span class="nx">bez1</span><span class="o">=</span><span class="nx">m</span><span class="p">,</span><span class="nx">v</span><span class="p">[</span><span class="nx">w</span><span class="p">].</span><span class="nx">bez2</span><span class="o">=</span><span class="nx">n</span><span class="p">;</span><span class="nx">o</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">v</span><span class="p">)}}}}}</span><span class="k">return</span> <span class="nx">o</span><span class="p">}</span><span class="kd">function</span> <span class="nx">bG</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">bezierBBox</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">bezierBBox</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">isBBoxIntersect</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">))</span><span class="k">return</span> <span class="nx">d</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="p">[];</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">bB</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">bB</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">i</span><span class="o">=~~</span><span class="p">(</span><span class="nx">g</span><span class="o">/</span><span class="mi">5</span><span class="p">),</span><span class="nx">j</span><span class="o">=~~</span><span class="p">(</span><span class="nx">h</span><span class="o">/</span><span class="mi">5</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="p">[],</span><span class="nx">l</span><span class="o">=</span><span class="p">[],</span><span class="nx">m</span><span class="o">=</span><span class="p">{},</span><span class="nx">n</span><span class="o">=</span><span class="nx">d</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">findDotsAtSegment</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">o</span><span class="o">/</span><span class="nx">i</span><span class="p">));</span><span class="nx">k</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">t</span><span class="o">:</span><span class="nx">o</span><span class="o">/</span><span class="nx">i</span><span class="p">})}</span><span class="k">for</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">j</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">)</span><span class="nx">p</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">findDotsAtSegment</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">o</span><span class="o">/</span><span class="nx">j</span><span class="p">)),</span><span class="nx">l</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">t</span><span class="o">:</span><span class="nx">o</span><span class="o">/</span><span class="nx">j</span><span class="p">});</span><span class="k">for</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">q</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">q</span><span class="o">&lt;</span><span class="nx">j</span><span class="p">;</span><span class="nx">q</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="nx">o</span><span class="p">],</span><span class="nx">s</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="nx">o</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="nx">t</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="nx">q</span><span class="p">],</span><span class="nx">u</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="nx">q</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="nx">v</span><span class="o">=</span><span class="nx">z</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="nx">r</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span><span class="o">&lt;</span><span class="p">.</span><span class="mi">001</span><span class="o">?</span><span class="s2">&quot;y&quot;</span><span class="o">:</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="nx">z</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span><span class="o">&lt;</span><span class="p">.</span><span class="mi">001</span><span class="o">?</span><span class="s2">&quot;y&quot;</span><span class="o">:</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="nx">bD</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">u</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">u</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">x</span><span class="p">.</span><span class="nx">x</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span><span class="o">==</span><span class="nx">x</span><span class="p">.</span><span class="nx">y</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span><span class="k">continue</span><span class="p">;</span><span class="nx">m</span><span class="p">[</span><span class="nx">x</span><span class="p">.</span><span class="nx">x</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span><span class="o">=</span><span class="nx">x</span><span class="p">.</span><span class="nx">y</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="kd">var</span> <span class="nx">y</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">t</span><span class="o">+</span><span class="nx">z</span><span class="p">((</span><span class="nx">x</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span><span class="o">-</span><span class="nx">r</span><span class="p">[</span><span class="nx">v</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span><span class="o">-</span><span class="nx">r</span><span class="p">[</span><span class="nx">v</span><span class="p">]))</span><span class="o">*</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">t</span><span class="o">-</span><span class="nx">r</span><span class="p">.</span><span class="nx">t</span><span class="p">),</span><span class="nx">A</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">t</span><span class="o">+</span><span class="nx">z</span><span class="p">((</span><span class="nx">x</span><span class="p">[</span><span class="nx">w</span><span class="p">]</span><span class="o">-</span><span class="nx">t</span><span class="p">[</span><span class="nx">w</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="nx">w</span><span class="p">]</span><span class="o">-</span><span class="nx">t</span><span class="p">[</span><span class="nx">w</span><span class="p">]))</span><span class="o">*</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">t</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">t</span><span class="p">);</span><span class="nx">y</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">y</span><span class="o">&lt;=</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">A</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">A</span><span class="o">&lt;=</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">?</span><span class="nx">n</span><span class="o">++:</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="nx">x</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">x</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">t1</span><span class="o">:</span><span class="nx">y</span><span class="p">,</span><span class="nx">t2</span><span class="o">:</span><span class="nx">A</span><span class="p">}))}}</span><span class="k">return</span> <span class="nx">n</span><span class="p">}</span><span class="kd">function</span> <span class="nx">bF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">bG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">bE</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">bG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">bD</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span><span class="o">&lt;</span><span class="nx">y</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">)</span><span class="o">||</span><span class="nx">y</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span><span class="o">&gt;</span><span class="nx">x</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">)</span><span class="o">||</span><span class="nx">x</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">)</span><span class="o">&lt;</span><span class="nx">y</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">)</span><span class="o">||</span><span class="nx">y</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">)</span><span class="o">&gt;</span><span class="nx">x</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">))){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="o">*</span><span class="nx">d</span><span class="o">-</span><span class="nx">b</span><span class="o">*</span><span class="nx">c</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="nx">g</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">*</span><span class="nx">h</span><span class="o">-</span><span class="nx">f</span><span class="o">*</span><span class="nx">g</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="o">*</span><span class="nx">d</span><span class="o">-</span><span class="nx">b</span><span class="o">*</span><span class="nx">c</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">f</span><span class="o">-</span><span class="nx">h</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="nx">b</span><span class="o">-</span><span class="nx">d</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">*</span><span class="nx">h</span><span class="o">-</span><span class="nx">f</span><span class="o">*</span><span class="nx">g</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">f</span><span class="o">-</span><span class="nx">h</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="nx">b</span><span class="o">-</span><span class="nx">d</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="nx">g</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">k</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="o">/</span><span class="nx">k</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">j</span><span class="o">/</span><span class="nx">k</span><span class="p">,</span><span class="nx">n</span><span class="o">=+</span><span class="nx">l</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="nx">o</span><span class="o">=+</span><span class="nx">m</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">&lt;+</span><span class="nx">y</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">||</span><span class="nx">n</span><span class="o">&gt;+</span><span class="nx">x</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">||</span><span class="nx">n</span><span class="o">&lt;+</span><span class="nx">y</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">||</span><span class="nx">n</span><span class="o">&gt;+</span><span class="nx">x</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">||</span><span class="nx">o</span><span class="o">&lt;+</span><span class="nx">y</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">||</span><span class="nx">o</span><span class="o">&gt;+</span><span class="nx">x</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">||</span><span class="nx">o</span><span class="o">&lt;+</span><span class="nx">y</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">||</span><span class="nx">o</span><span class="o">&gt;+</span><span class="nx">x</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="k">return</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">l</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">m</span><span class="p">}}}</span><span class="kd">function</span> <span class="nx">bC</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">||</span><span class="nx">bB</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">)</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">j</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">j</span><span class="o">-</span><span class="nx">k</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">.</span><span class="mi">01</span><span class="p">;</span><span class="nx">m</span><span class="o">=</span><span class="nx">bB</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">l</span><span class="p">);</span><span class="k">while</span><span class="p">(</span><span class="nx">z</span><span class="p">(</span><span class="nx">m</span><span class="o">-</span><span class="nx">i</span><span class="p">)</span><span class="o">&gt;</span><span class="nx">n</span><span class="p">)</span><span class="nx">k</span><span class="o">/=</span><span class="mi">2</span><span class="p">,</span><span class="nx">l</span><span class="o">+=</span><span class="p">(</span><span class="nx">m</span><span class="o">&lt;</span><span class="nx">i</span><span class="o">?</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="nx">k</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">bB</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">l</span><span class="p">);</span><span class="k">return</span> <span class="nx">l</span><span class="p">}}</span><span class="kd">function</span> <span class="nx">bB</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">i</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">i</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">i</span><span class="p">;</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">i</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.1252</span><span class="p">,.</span><span class="mi">1252</span><span class="p">,</span><span class="o">-</span><span class="mf">0.3678</span><span class="p">,.</span><span class="mi">3678</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5873</span><span class="p">,.</span><span class="mi">5873</span><span class="p">,</span><span class="o">-</span><span class="mf">0.7699</span><span class="p">,.</span><span class="mi">7699</span><span class="p">,</span><span class="o">-</span><span class="mf">0.9041</span><span class="p">,.</span><span class="mi">9041</span><span class="p">,</span><span class="o">-</span><span class="mf">0.9816</span><span class="p">,.</span><span class="mi">9816</span><span class="p">],</span><span class="nx">m</span><span class="o">=</span><span class="p">[.</span><span class="mi">2491</span><span class="p">,.</span><span class="mi">2491</span><span class="p">,.</span><span class="mi">2335</span><span class="p">,.</span><span class="mi">2335</span><span class="p">,.</span><span class="mi">2032</span><span class="p">,.</span><span class="mi">2032</span><span class="p">,.</span><span class="mi">1601</span><span class="p">,.</span><span class="mi">1601</span><span class="p">,.</span><span class="mi">1069</span><span class="p">,.</span><span class="mi">1069</span><span class="p">,.</span><span class="mi">0472</span><span class="p">,.</span><span class="mi">0472</span><span class="p">],</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">k</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">j</span><span class="o">*</span><span class="nx">l</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span><span class="o">+</span><span class="nx">j</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="nx">bA</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">bA</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">),</span><span class="nx">s</span><span class="o">=</span><span class="nx">q</span><span class="o">*</span><span class="nx">q</span><span class="o">+</span><span class="nx">r</span><span class="o">*</span><span class="nx">r</span><span class="p">;</span><span class="nx">n</span><span class="o">+=</span><span class="nx">m</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span><span class="o">*</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">s</span><span class="p">)}</span><span class="k">return</span> <span class="nx">j</span><span class="o">*</span><span class="nx">n</span><span class="p">}</span><span class="kd">function</span> <span class="nx">bA</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=-</span><span class="mi">3</span><span class="o">*</span><span class="nx">b</span><span class="o">+</span><span class="mi">9</span><span class="o">*</span><span class="nx">c</span><span class="o">-</span><span class="mi">9</span><span class="o">*</span><span class="nx">d</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="o">*</span><span class="nx">f</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="nx">b</span><span class="o">-</span><span class="mi">12</span><span class="o">*</span><span class="nx">c</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="nx">d</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="o">*</span><span class="nx">g</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="nx">b</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="nx">c</span><span class="p">}</span><span class="kd">function</span> <span class="nx">by</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">-</span><span class="mi">2</span><span class="o">*!</span><span class="nx">b</span><span class="o">&gt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">d</span><span class="o">+=</span><span class="mi">2</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="p">[{</span><span class="nx">x</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="nx">y</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="o">-</span><span class="mi">1</span><span class="p">]},{</span><span class="nx">x</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="p">],</span><span class="nx">y</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="o">+</span><span class="mi">1</span><span class="p">]},{</span><span class="nx">x</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="nx">y</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="o">+</span><span class="mi">3</span><span class="p">]},{</span><span class="nx">x</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="o">+</span><span class="mi">4</span><span class="p">],</span><span class="nx">y</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="o">+</span><span class="mi">5</span><span class="p">]}];</span><span class="nx">b</span><span class="o">?</span><span class="nx">d</span><span class="o">?</span><span class="nx">e</span><span class="o">-</span><span class="mi">4</span><span class="o">==</span><span class="nx">d</span><span class="o">?</span><span class="nx">f</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">y</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span><span class="o">:</span><span class="nx">e</span><span class="o">-</span><span class="mi">2</span><span class="o">==</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">y</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]},</span><span class="nx">f</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">y</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]})</span><span class="o">:</span><span class="nx">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">e</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="nx">y</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">]}</span><span class="o">:</span><span class="nx">e</span><span class="o">-</span><span class="mi">4</span><span class="o">==</span><span class="nx">d</span><span class="o">?</span><span class="nx">f</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:</span><span class="nx">d</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="p">],</span><span class="nx">y</span><span class="o">:+</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="o">+</span><span class="mi">1</span><span class="p">]}),</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s2">&quot;C&quot;</span><span class="p">,(</span><span class="o">-</span><span class="nx">f</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="nx">f</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="o">+</span><span class="nx">f</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="p">)</span><span class="o">/</span><span class="mi">6</span><span class="p">,(</span><span class="o">-</span><span class="nx">f</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">y</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="nx">f</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">y</span><span class="o">+</span><span class="nx">f</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">y</span><span class="p">)</span><span class="o">/</span><span class="mi">6</span><span class="p">,(</span><span class="nx">f</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="nx">f</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="o">-</span><span class="nx">f</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">x</span><span class="p">)</span><span class="o">/</span><span class="mi">6</span><span class="p">,(</span><span class="nx">f</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">y</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="nx">f</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">y</span><span class="o">-</span><span class="nx">f</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">y</span><span class="p">)</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span><span class="nx">f</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span><span class="nx">f</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">y</span><span class="p">])}</span><span class="k">return</span> <span class="nx">c</span><span class="p">}</span><span class="kd">function</span> <span class="nx">bx</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hex</span><span class="p">}</span><span class="kd">function</span> <span class="nx">bv</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">function</span> <span class="nx">d</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;␀&quot;</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">cache</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">cache</span><span class="o">||</span><span class="p">{},</span><span class="nx">i</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">count</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">count</span><span class="o">||</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">f</span><span class="p">)){</span><span class="nx">bu</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">f</span><span class="p">);</span><span class="k">return</span> <span class="nx">c</span><span class="o">?</span><span class="nx">c</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">f</span><span class="p">])</span><span class="o">:</span><span class="nx">h</span><span class="p">[</span><span class="nx">f</span><span class="p">]}</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;=</span><span class="mi">1</span><span class="nx">e3</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">h</span><span class="p">[</span><span class="nx">i</span><span class="p">.</span><span class="nx">shift</span><span class="p">()],</span><span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">),</span><span class="nx">h</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">c</span><span class="o">?</span><span class="nx">c</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">f</span><span class="p">])</span><span class="o">:</span><span class="nx">h</span><span class="p">[</span><span class="nx">f</span><span class="p">]}</span><span class="k">return</span> <span class="nx">d</span><span class="p">}</span><span class="kd">function</span> <span class="nx">bu</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">===</span><span class="nx">b</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">])}</span><span class="kd">function</span> <span class="nx">bm</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nb">Object</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">!==</span><span class="nx">a</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">;</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">new</span> <span class="nx">a</span><span class="p">.</span><span class="nx">constructor</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span> <span class="k">in</span> <span class="nx">a</span><span class="p">)</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">c</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">bm</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">]));</span><span class="k">return</span> <span class="nx">b</span><span class="p">}</span><span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;function&quot;</span><span class="p">))</span><span class="k">return</span> <span class="nx">b</span><span class="o">?</span><span class="nx">c</span><span class="p">()</span><span class="o">:</span><span class="nx">eve</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;raphael.DOMload&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">E</span><span class="p">))</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">create</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">C</span><span class="p">))).</span><span class="nx">add</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="s2">&quot;function&quot;</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span><span class="k">return</span> <span class="nx">b</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">create</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">))</span><span class="o">:</span><span class="nx">eve</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;raphael.DOMload&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">create</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">))})}</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">create</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="nx">a</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)}</span><span class="nx">a</span><span class="p">.</span><span class="nx">version</span><span class="o">=</span><span class="s2">&quot;2.1.0&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">eve</span><span class="o">=</span><span class="nx">eve</span><span class="p">;</span><span class="kd">var</span> <span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="sr">/[, ]+/</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="p">{</span><span class="nx">circle</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">rect</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">path</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">ellipse</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">text</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">image</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="nx">e</span><span class="o">=</span><span class="sr">/\{(\d+)\}/g</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="s2">&quot;prototype&quot;</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="s2">&quot;hasOwnProperty&quot;</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="p">{</span><span class="nx">doc</span><span class="o">:</span><span class="nb">document</span><span class="p">,</span><span class="nx">win</span><span class="o">:</span><span class="nb">window</span><span class="p">},</span><span class="nx">i</span><span class="o">=</span><span class="p">{</span><span class="nx">was</span><span class="o">:</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">call</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">,</span><span class="s2">&quot;Raphael&quot;</span><span class="p">),</span><span class="nx">is</span><span class="o">:</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">Raphael</span><span class="p">},</span><span class="nx">j</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">ca</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">customAttributes</span><span class="o">=</span><span class="p">{}},</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="s2">&quot;appendChild&quot;</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="s2">&quot;apply&quot;</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="s2">&quot;concat&quot;</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="s2">&quot;createTouch&quot;</span><span class="k">in</span> <span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nb">String</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="s2">&quot;split&quot;</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="s2">&quot;click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel&quot;</span><span class="p">[</span><span class="nx">s</span><span class="p">](</span><span class="nx">q</span><span class="p">),</span><span class="nx">u</span><span class="o">=</span><span class="p">{</span><span class="nx">mousedown</span><span class="o">:</span><span class="s2">&quot;touchstart&quot;</span><span class="p">,</span><span class="nx">mousemove</span><span class="o">:</span><span class="s2">&quot;touchmove&quot;</span><span class="p">,</span><span class="nx">mouseup</span><span class="o">:</span><span class="s2">&quot;touchend&quot;</span><span class="p">},</span><span class="nx">v</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="nb">Math</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">max</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">min</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">abs</span><span class="p">,</span><span class="nx">A</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">pow</span><span class="p">,</span><span class="nx">B</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span><span class="nx">C</span><span class="o">=</span><span class="s2">&quot;number&quot;</span><span class="p">,</span><span class="nx">D</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="nx">E</span><span class="o">=</span><span class="s2">&quot;array&quot;</span><span class="p">,</span><span class="nx">F</span><span class="o">=</span><span class="s2">&quot;toString&quot;</span><span class="p">,</span><span class="nx">G</span><span class="o">=</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span><span class="nx">H</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">,</span><span class="nx">I</span><span class="o">=</span><span class="p">{},</span><span class="nx">J</span><span class="o">=</span><span class="s2">&quot;push&quot;</span><span class="p">,</span><span class="nx">K</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_ISURL</span><span class="o">=</span><span class="sr">/^url\([&#39;&quot;]?([^\)]+?)[&#39;&quot;]?\)$/i</span><span class="p">,</span><span class="nx">L</span><span class="o">=</span><span class="sr">/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i</span><span class="p">,</span><span class="nx">M</span><span class="o">=</span><span class="p">{</span><span class="kc">NaN</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="kc">Infinity</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;-Infinity&quot;</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="nx">N</span><span class="o">=</span><span class="sr">/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/</span><span class="p">,</span><span class="nx">O</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">round</span><span class="p">,</span><span class="nx">P</span><span class="o">=</span><span class="s2">&quot;setAttribute&quot;</span><span class="p">,</span><span class="nx">Q</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">,</span><span class="nx">R</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">,</span><span class="nx">S</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">,</span><span class="nx">T</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_availableAttrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;arrow-end&quot;</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="s2">&quot;arrow-start&quot;</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">blur</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;clip-rect&quot;</span><span class="o">:</span><span class="s2">&quot;0 0 1e9 1e9&quot;</span><span class="p">,</span><span class="nx">cursor</span><span class="o">:</span><span class="s2">&quot;default&quot;</span><span class="p">,</span><span class="nx">cx</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">cy</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;#fff&quot;</span><span class="p">,</span><span class="s2">&quot;fill-opacity&quot;</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">font</span><span class="o">:</span><span class="s1">&#39;10px &quot;Arial&quot;&#39;</span><span class="p">,</span><span class="s2">&quot;font-family&quot;</span><span class="o">:</span><span class="s1">&#39;&quot;Arial&quot;&#39;</span><span class="p">,</span><span class="s2">&quot;font-size&quot;</span><span class="o">:</span><span class="s2">&quot;10&quot;</span><span class="p">,</span><span class="s2">&quot;font-style&quot;</span><span class="o">:</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span><span class="s2">&quot;font-weight&quot;</span><span class="o">:</span><span class="mi">400</span><span class="p">,</span><span class="nx">gradient</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">href</span><span class="o">:</span><span class="s2">&quot;http://raphaeljs.com/&quot;</span><span class="p">,</span><span class="s2">&quot;letter-spacing&quot;</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">opacity</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">path</span><span class="o">:</span><span class="s2">&quot;M0,0&quot;</span><span class="p">,</span><span class="nx">r</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">rx</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">ry</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">src</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;#000&quot;</span><span class="p">,</span><span class="s2">&quot;stroke-dasharray&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="o">:</span><span class="s2">&quot;butt&quot;</span><span class="p">,</span><span class="s2">&quot;stroke-linejoin&quot;</span><span class="o">:</span><span class="s2">&quot;butt&quot;</span><span class="p">,</span><span class="s2">&quot;stroke-miterlimit&quot;</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;stroke-opacity&quot;</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;stroke-width&quot;</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">target</span><span class="o">:</span><span class="s2">&quot;_blank&quot;</span><span class="p">,</span><span class="s2">&quot;text-anchor&quot;</span><span class="o">:</span><span class="s2">&quot;middle&quot;</span><span class="p">,</span><span class="nx">title</span><span class="o">:</span><span class="s2">&quot;Raphael&quot;</span><span class="p">,</span><span class="nx">transform</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">},</span><span class="nx">U</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_availableAnimAttrs</span><span class="o">=</span><span class="p">{</span><span class="nx">blur</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="s2">&quot;clip-rect&quot;</span><span class="o">:</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span><span class="nx">cx</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">cy</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;colour&quot;</span><span class="p">,</span><span class="s2">&quot;fill-opacity&quot;</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="s2">&quot;font-size&quot;</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">opacity</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">path</span><span class="o">:</span><span class="s2">&quot;path&quot;</span><span class="p">,</span><span class="nx">r</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">rx</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">ry</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;colour&quot;</span><span class="p">,</span><span class="s2">&quot;stroke-opacity&quot;</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="s2">&quot;stroke-width&quot;</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">transform</span><span class="o">:</span><span class="s2">&quot;transform&quot;</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">x</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">C</span><span class="p">},</span><span class="nx">V</span><span class="o">=</span><span class="sr">/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g</span><span class="p">,</span><span class="nx">W</span><span class="o">=</span><span class="sr">/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/</span><span class="p">,</span><span class="nx">X</span><span class="o">=</span><span class="p">{</span><span class="nx">hs</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">rg</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="nx">Y</span><span class="o">=</span><span class="sr">/,?([achlmqrstvxz]),?/gi</span><span class="p">,</span><span class="nx">Z</span><span class="o">=</span><span class="sr">/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig</span><span class="p">,</span><span class="nx">$</span><span class="o">=</span><span class="sr">/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig</span><span class="p">,</span><span class="nx">_</span><span class="o">=</span><span class="sr">/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig</span><span class="p">,</span><span class="nx">ba</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_radial_gradient</span><span class="o">=</span><span class="sr">/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/</span><span class="p">,</span><span class="nx">bb</span><span class="o">=</span><span class="p">{},</span><span class="nx">bc</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">key</span><span class="o">-</span><span class="nx">b</span><span class="p">.</span><span class="nx">key</span><span class="p">},</span><span class="nx">bd</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">Q</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">-</span><span class="nx">Q</span><span class="p">(</span><span class="nx">b</span><span class="p">)},</span><span class="nx">be</span><span class="o">=</span><span class="kd">function</span><span class="p">(){},</span><span class="nx">bf</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">bg</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_rectPath</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="k">return</span><span class="p">[[</span><span class="s2">&quot;M&quot;</span><span class="p">,</span><span class="nx">a</span><span class="o">+</span><span class="nx">e</span><span class="p">,</span><span class="nx">b</span><span class="p">],[</span><span class="s2">&quot;l&quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">-</span><span class="nx">e</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="p">],[</span><span class="s2">&quot;l&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">-</span><span class="nx">e</span><span class="o">*</span><span class="mi">2</span><span class="p">],[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="p">],[</span><span class="s2">&quot;l&quot;</span><span class="p">,</span><span class="nx">e</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="nx">c</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="nx">e</span><span class="p">,</span><span class="o">-</span><span class="nx">e</span><span class="p">],[</span><span class="s2">&quot;l&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="nx">d</span><span class="p">],[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="o">-</span><span class="nx">e</span><span class="p">],[</span><span class="s2">&quot;z&quot;</span><span class="p">]];</span><span class="k">return</span><span class="p">[[</span><span class="s2">&quot;M&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">],[</span><span class="s2">&quot;l&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="s2">&quot;l&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">],[</span><span class="s2">&quot;l&quot;</span><span class="p">,</span><span class="o">-</span><span class="nx">c</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="s2">&quot;z&quot;</span><span class="p">]]},</span><span class="nx">bh</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span><span class="p">[[</span><span class="s2">&quot;M&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">],[</span><span class="s2">&quot;m&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="nx">d</span><span class="p">],[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="nx">d</span><span class="p">],[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">d</span><span class="p">],[</span><span class="s2">&quot;z&quot;</span><span class="p">]]},</span><span class="nx">bi</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_getPath</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)},</span><span class="nx">circle</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">attrs</span><span class="p">;</span><span class="k">return</span> <span class="nx">bh</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">cx</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">cy</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">r</span><span class="p">)},</span><span class="nx">ellipse</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">attrs</span><span class="p">;</span><span class="k">return</span> <span class="nx">bh</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">cx</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">cy</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">rx</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">ry</span><span class="p">)},</span><span class="nx">rect</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">attrs</span><span class="p">;</span><span class="k">return</span> <span class="nx">bg</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">r</span><span class="p">)},</span><span class="nx">image</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">attrs</span><span class="p">;</span><span class="k">return</span> <span class="nx">bg</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">height</span><span class="p">)},</span><span class="nx">text</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_getBBox</span><span class="p">();</span><span class="k">return</span> <span class="nx">bg</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">height</span><span class="p">)}},</span><span class="nx">bj</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">mapPath</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">bR</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">g</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">f</span><span class="o">+=</span><span class="mi">2</span><span class="p">)</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">f</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="nx">f</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">f</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="nx">f</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span><span class="nx">i</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="nx">f</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">}</span><span class="k">return</span> <span class="nx">a</span><span class="p">};</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">SVGAngle</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">implementation</span><span class="p">.</span><span class="nx">hasFeature</span><span class="p">(</span><span class="s2">&quot;http://www.w3.org/TR/SVG11/feature#BasicStructure&quot;</span><span class="p">,</span><span class="s2">&quot;1.1&quot;</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;SVG&quot;</span><span class="o">:</span><span class="s2">&quot;VML&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;VML&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">bk</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">bl</span><span class="p">;</span><span class="nx">bk</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s1">&#39;&lt;v:shape adj=&quot;1&quot;/&gt;&#39;</span><span class="p">,</span><span class="nx">bl</span><span class="o">=</span><span class="nx">bk</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">,</span><span class="nx">bl</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">behavior</span><span class="o">=</span><span class="s2">&quot;url(#default#VML)&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">bl</span><span class="o">||</span><span class="k">typeof</span> <span class="nx">bl</span><span class="p">.</span><span class="nx">adj</span><span class="o">!=</span><span class="s2">&quot;object&quot;</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">p</span><span class="p">;</span><span class="nx">bk</span><span class="o">=</span><span class="kc">null</span><span class="p">}</span><span class="nx">a</span><span class="p">.</span><span class="nx">svg</span><span class="o">=!</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">vml</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;VML&quot;</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_Paper</span><span class="o">=</span><span class="nx">j</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">fn</span><span class="o">=</span><span class="nx">k</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">_oid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">v</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">==</span><span class="s2">&quot;finite&quot;</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="nx">M</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="o">+</span><span class="nx">a</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">==</span><span class="s2">&quot;array&quot;</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="o">==</span><span class="s2">&quot;null&quot;</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">===</span><span class="kc">null</span><span class="o">||</span><span class="nx">b</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">!==</span><span class="kc">null</span><span class="o">||</span><span class="nx">b</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">===</span><span class="nb">Object</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="nx">b</span><span class="o">==</span><span class="s2">&quot;array&quot;</span><span class="o">&amp;&amp;</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="o">&amp;&amp;</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="nx">H</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">slice</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">==</span><span class="nx">b</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">angle</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">b</span><span class="o">-</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">c</span><span class="o">-</span><span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">h</span><span class="o">&amp;&amp;!</span><span class="nx">i</span><span class="p">)</span><span class="k">return</span> <span class="mi">0</span><span class="p">;</span><span class="k">return</span><span class="p">(</span><span class="mi">180</span><span class="o">+</span><span class="nx">w</span><span class="p">.</span><span class="nx">atan2</span><span class="p">(</span><span class="o">-</span><span class="nx">i</span><span class="p">,</span><span class="o">-</span><span class="nx">h</span><span class="p">)</span><span class="o">*</span><span class="mi">180</span><span class="o">/</span><span class="nx">B</span><span class="o">+</span><span class="mi">360</span><span class="p">)</span><span class="o">%</span><span class="mi">360</span><span class="p">}</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">angle</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">)</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">angle</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">)},</span><span class="nx">a</span><span class="p">.</span><span class="nx">rad</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">%</span><span class="mi">360</span><span class="o">*</span><span class="nx">B</span><span class="o">/</span><span class="mi">180</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">deg</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">*</span><span class="mi">180</span><span class="o">/</span><span class="nx">B</span><span class="o">%</span><span class="mi">360</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">snapTo</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;finite&quot;</span><span class="p">)</span><span class="o">?</span><span class="nx">d</span><span class="o">:</span><span class="mi">10</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">E</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">e</span><span class="o">--</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">z</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">&lt;=</span><span class="nx">d</span><span class="p">)</span><span class="k">return</span> <span class="nx">b</span><span class="p">[</span><span class="nx">e</span><span class="p">]}</span><span class="k">else</span><span class="p">{</span><span class="nx">b</span><span class="o">=+</span><span class="nx">b</span><span class="p">;</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">c</span><span class="o">%</span><span class="nx">b</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">)</span><span class="k">return</span> <span class="nx">c</span><span class="o">-</span><span class="nx">f</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="o">&gt;</span><span class="nx">b</span><span class="o">-</span><span class="nx">d</span><span class="p">)</span><span class="k">return</span> <span class="nx">c</span><span class="o">-</span><span class="nx">f</span><span class="o">+</span><span class="nx">b</span><span class="p">}</span><span class="k">return</span> <span class="nx">c</span><span class="p">};</span><span class="kd">var</span> <span class="nx">bn</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">createUUID</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&quot;</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()}}(</span><span class="sr">/[xy]/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">16</span><span class="o">|</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="o">==</span><span class="s2">&quot;x&quot;</span><span class="o">?</span><span class="nx">b</span><span class="o">:</span><span class="nx">b</span><span class="o">&amp;</span><span class="mi">3</span><span class="o">|</span><span class="mi">8</span><span class="p">;</span><span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">)});</span><span class="nx">a</span><span class="p">.</span><span class="nx">setWindow</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.setWindow&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nb">document</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">initWin</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">initWin</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">bo</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">vml</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="sr">/^\s+|\s+$/g</span><span class="p">,</span><span class="nx">d</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">new</span> <span class="nx">ActiveXObject</span><span class="p">(</span><span class="s2">&quot;htmlfile&quot;</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">&quot;&lt;body&gt;&quot;</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">close</span><span class="p">(),</span><span class="nx">d</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">body</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">f</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">createPopup</span><span class="p">().</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">}</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createTextRange</span><span class="p">();</span><span class="nx">bo</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">try</span><span class="p">{</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">p</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">queryCommandValue</span><span class="p">(</span><span class="s2">&quot;ForeColor&quot;</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="p">(</span><span class="nx">b</span><span class="o">&amp;</span><span class="mi">255</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="mi">16</span><span class="o">|</span><span class="nx">b</span><span class="o">&amp;</span><span class="mi">65280</span><span class="o">|</span><span class="p">(</span><span class="nx">b</span><span class="o">&amp;</span><span class="mi">16711680</span><span class="p">)</span><span class="o">&gt;&gt;&gt;</span><span class="mi">16</span><span class="p">;</span><span class="k">return</span><span class="s2">&quot;#&quot;</span><span class="o">+</span><span class="p">(</span><span class="s2">&quot;000000&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">)).</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;none&quot;</span><span class="p">}})}</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">title</span><span class="o">=</span><span class="s2">&quot;Raphaël Colour Picker&quot;</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">bo</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">defaultView</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">p</span><span class="p">).</span><span class="nx">getPropertyValue</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">)})}</span><span class="k">return</span> <span class="nx">bo</span><span class="p">(</span><span class="nx">b</span><span class="p">)},</span><span class="nx">bp</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;hsb(&quot;</span><span class="o">+</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">},</span><span class="nx">bq</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;hsl(&quot;</span><span class="o">+</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">l</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">},</span><span class="nx">br</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hex</span><span class="p">},</span><span class="nx">bs</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">c</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">&quot;r&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="s2">&quot;g&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="s2">&quot;b&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">r</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">D</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">b</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">||</span><span class="nx">c</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">||</span><span class="nx">d</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span><span class="nx">b</span><span class="o">/=</span><span class="mi">255</span><span class="p">,</span><span class="nx">c</span><span class="o">/=</span><span class="mi">255</span><span class="p">,</span><span class="nx">d</span><span class="o">/=</span><span class="mi">255</span><span class="p">;</span><span class="k">return</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">]},</span><span class="nx">bt</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="nx">b</span><span class="o">*=</span><span class="mi">255</span><span class="p">,</span><span class="nx">c</span><span class="o">*=</span><span class="mi">255</span><span class="p">,</span><span class="nx">d</span><span class="o">*=</span><span class="mi">255</span><span class="p">;</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="p">{</span><span class="nx">r</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">g</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">hex</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">toString</span><span class="o">:</span><span class="nx">br</span><span class="p">};</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="s2">&quot;finite&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">f</span><span class="p">};</span><span class="nx">a</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">&quot;h&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="s2">&quot;s&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="s2">&quot;b&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">?</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">hsb2rgb</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">r</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">hex</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">hex</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">&quot;h&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="s2">&quot;s&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="s2">&quot;l&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">?</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">hsl2rgb</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">r</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">hex</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">hex</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;string&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">b</span><span class="p">)),</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">&quot;r&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="s2">&quot;g&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="s2">&quot;b&quot;</span><span class="k">in</span> <span class="nx">b</span><span class="o">?</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">rgb2hsl</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">h</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">s</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">l</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">l</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">rgb2hsb</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">v</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="p">{</span><span class="nx">hex</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">},</span><span class="nx">b</span><span class="p">.</span><span class="nx">r</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">h</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">s</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">v</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">l</span><span class="o">=-</span><span class="mi">1</span><span class="p">)),</span><span class="nx">b</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="nx">br</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">hsb2rgb</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">&quot;h&quot;</span><span class="k">in</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="s2">&quot;s&quot;</span><span class="k">in</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="s2">&quot;b&quot;</span><span class="k">in</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">o</span><span class="p">),</span><span class="nx">a</span><span class="o">*=</span><span class="mi">360</span><span class="p">;</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">%</span><span class="mi">360</span><span class="o">/</span><span class="mi">60</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">c</span><span class="o">*</span><span class="nx">b</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">i</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">z</span><span class="p">(</span><span class="nx">a</span><span class="o">%</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)),</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="o">=</span><span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="o">-</span><span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="o">=~~</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="o">+=</span><span class="p">[</span><span class="nx">i</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">][</span><span class="nx">a</span><span class="p">],</span><span class="nx">f</span><span class="o">+=</span><span class="p">[</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="nx">a</span><span class="p">],</span><span class="nx">g</span><span class="o">+=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">h</span><span class="p">][</span><span class="nx">a</span><span class="p">];</span><span class="k">return</span> <span class="nx">bt</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">d</span><span class="p">)},</span><span class="nx">a</span><span class="p">.</span><span class="nx">hsl2rgb</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">&quot;h&quot;</span><span class="k">in</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="s2">&quot;s&quot;</span><span class="k">in</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="s2">&quot;l&quot;</span><span class="k">in</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">l</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">h</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">||</span><span class="nx">b</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">||</span><span class="nx">c</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span><span class="nx">a</span><span class="o">/=</span><span class="mi">360</span><span class="p">,</span><span class="nx">b</span><span class="o">/=</span><span class="mi">100</span><span class="p">,</span><span class="nx">c</span><span class="o">/=</span><span class="mi">100</span><span class="p">;</span><span class="nx">a</span><span class="o">*=</span><span class="mi">360</span><span class="p">;</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">%</span><span class="mi">360</span><span class="o">/</span><span class="mi">60</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nx">b</span><span class="o">*</span><span class="p">(</span><span class="nx">c</span><span class="o">&lt;</span><span class="p">.</span><span class="mi">5</span><span class="o">?</span><span class="nx">c</span><span class="o">:</span><span class="mi">1</span><span class="o">-</span><span class="nx">c</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">i</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">z</span><span class="p">(</span><span class="nx">a</span><span class="o">%</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)),</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="o">=</span><span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="o">-</span><span class="nx">i</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">a</span><span class="o">=~~</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="o">+=</span><span class="p">[</span><span class="nx">i</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">][</span><span class="nx">a</span><span class="p">],</span><span class="nx">f</span><span class="o">+=</span><span class="p">[</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="nx">a</span><span class="p">],</span><span class="nx">g</span><span class="o">+=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">h</span><span class="p">][</span><span class="nx">a</span><span class="p">];</span><span class="k">return</span> <span class="nx">bt</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">d</span><span class="p">)},</span><span class="nx">a</span><span class="p">.</span><span class="nx">rgb2hsb</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">bs</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">;</span><span class="nx">f</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="o">-</span><span class="nx">y</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">g</span><span class="o">==</span><span class="mi">0</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">f</span><span class="o">==</span><span class="nx">a</span><span class="o">?</span><span class="p">(</span><span class="nx">b</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">/</span><span class="nx">g</span><span class="o">:</span><span class="nx">f</span><span class="o">==</span><span class="nx">b</span><span class="o">?</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="nx">a</span><span class="p">)</span><span class="o">/</span><span class="nx">g</span><span class="o">+</span><span class="mi">2</span><span class="o">:</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="nx">b</span><span class="p">)</span><span class="o">/</span><span class="nx">g</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="p">(</span><span class="nx">d</span><span class="o">+</span><span class="mi">360</span><span class="p">)</span><span class="o">%</span><span class="mi">6</span><span class="o">*</span><span class="mi">60</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">g</span><span class="o">==</span><span class="mi">0</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">g</span><span class="o">/</span><span class="nx">f</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">h</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">s</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">b</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">toString</span><span class="o">:</span><span class="nx">bp</span><span class="p">}},</span><span class="nx">a</span><span class="p">.</span><span class="nx">rgb2hsl</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">bs</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="nx">g</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">y</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">g</span><span class="o">-</span><span class="nx">h</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">i</span><span class="o">==</span><span class="mi">0</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">g</span><span class="o">==</span><span class="nx">a</span><span class="o">?</span><span class="p">(</span><span class="nx">b</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">/</span><span class="nx">i</span><span class="o">:</span><span class="nx">g</span><span class="o">==</span><span class="nx">b</span><span class="o">?</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="nx">a</span><span class="p">)</span><span class="o">/</span><span class="nx">i</span><span class="o">+</span><span class="mi">2</span><span class="o">:</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="nx">b</span><span class="p">)</span><span class="o">/</span><span class="nx">i</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="p">(</span><span class="nx">d</span><span class="o">+</span><span class="mi">360</span><span class="p">)</span><span class="o">%</span><span class="mi">6</span><span class="o">*</span><span class="mi">60</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="p">(</span><span class="nx">g</span><span class="o">+</span><span class="nx">h</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">i</span><span class="o">==</span><span class="mi">0</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">f</span><span class="o">&lt;</span><span class="p">.</span><span class="mi">5</span><span class="o">?</span><span class="nx">i</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nx">f</span><span class="p">)</span><span class="o">:</span><span class="nx">i</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">f</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">h</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">s</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">l</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">toString</span><span class="o">:</span><span class="nx">bq</span><span class="p">}},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_path2string</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span><span class="s2">&quot;$1&quot;</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">bw</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_preload</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;img&quot;</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="s2">&quot;position:absolute;left:-9999em;top:-9999em&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">onload</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">onload</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">)},</span><span class="nx">c</span><span class="p">.</span><span class="nx">onerror</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">)},</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">a</span><span class="p">};</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="o">||!!</span><span class="p">((</span><span class="nx">b</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">b</span><span class="p">)).</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="k">return</span><span class="p">{</span><span class="nx">r</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">g</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">hex</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">error</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">toString</span><span class="o">:</span><span class="nx">bx</span><span class="p">};</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">==</span><span class="s2">&quot;none&quot;</span><span class="p">)</span><span class="k">return</span><span class="p">{</span><span class="nx">r</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">g</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">hex</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">toString</span><span class="o">:</span><span class="nx">bx</span><span class="p">};</span><span class="o">!</span><span class="nx">X</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">charAt</span><span class="p">()</span><span class="o">!=</span><span class="s2">&quot;#&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">bo</span><span class="p">(</span><span class="nx">b</span><span class="p">));</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">L</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="p">){</span><span class="nx">k</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="nx">R</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">substring</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="mi">16</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">R</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">substring</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">16</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">R</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">16</span><span class="p">)),</span><span class="nx">k</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="nx">R</span><span class="p">((</span><span class="nx">i</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">+</span><span class="nx">i</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">R</span><span class="p">((</span><span class="nx">i</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="nx">i</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">R</span><span class="p">((</span><span class="nx">i</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">+</span><span class="nx">i</span><span class="p">,</span><span class="mi">16</span><span class="p">)),</span><span class="nx">k</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="nx">s</span><span class="p">](</span><span class="nx">W</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">*=</span><span class="mf">2.55</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">j</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">*=</span><span class="mf">2.55</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="nx">j</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">*=</span><span class="mf">2.55</span><span class="p">),</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;rgba&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">])),</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">/=</span><span class="mi">100</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">5</span><span class="p">]){</span><span class="nx">j</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="nx">s</span><span class="p">](</span><span class="nx">W</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">*=</span><span class="mf">2.55</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">j</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">*=</span><span class="mf">2.55</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="nx">j</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">*=</span><span class="mf">2.55</span><span class="p">),(</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;deg&quot;</span><span class="o">||</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;°&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">/=</span><span class="mi">360</span><span class="p">),</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;hsba&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">])),</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">/=</span><span class="mi">100</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">hsb2rgb</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">6</span><span class="p">]){</span><span class="nx">j</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="mi">6</span><span class="p">][</span><span class="nx">s</span><span class="p">](</span><span class="nx">W</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">*=</span><span class="mf">2.55</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">j</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">*=</span><span class="mf">2.55</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="nx">j</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">*=</span><span class="mf">2.55</span><span class="p">),(</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;deg&quot;</span><span class="o">||</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;°&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">/=</span><span class="mi">360</span><span class="p">),</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;hsla&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">])),</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">/=</span><span class="mi">100</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">hsl2rgb</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">)}</span><span class="nx">k</span><span class="o">=</span><span class="p">{</span><span class="nx">r</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">g</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">b</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">toString</span><span class="o">:</span><span class="nx">bx</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">hex</span><span class="o">=</span><span class="s2">&quot;#&quot;</span><span class="o">+</span><span class="p">(</span><span class="mi">16777216</span><span class="o">|</span><span class="nx">f</span><span class="o">|</span><span class="nx">e</span><span class="o">&lt;&lt;</span><span class="mi">8</span><span class="o">|</span><span class="nx">d</span><span class="o">&lt;&lt;</span><span class="mi">16</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">).</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="s2">&quot;finite&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="nx">h</span><span class="p">);</span><span class="k">return</span> <span class="nx">k</span><span class="p">}</span><span class="k">return</span><span class="p">{</span><span class="nx">r</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">g</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">hex</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">error</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">toString</span><span class="o">:</span><span class="nx">bx</span><span class="p">}},</span><span class="nx">a</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">hsb</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">hsb2rgb</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">).</span><span class="nx">hex</span><span class="p">}),</span><span class="nx">a</span><span class="p">.</span><span class="nx">hsl</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">hsl2rgb</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">).</span><span class="nx">hex</span><span class="p">}),</span><span class="nx">a</span><span class="p">.</span><span class="nx">rgb</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;#&quot;</span><span class="o">+</span><span class="p">(</span><span class="mi">16777216</span><span class="o">|</span><span class="nx">c</span><span class="o">|</span><span class="nx">b</span><span class="o">&lt;&lt;</span><span class="mi">8</span><span class="o">|</span><span class="nx">a</span><span class="o">&lt;&lt;</span><span class="mi">16</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">).</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)}),</span><span class="nx">a</span><span class="p">.</span><span class="nx">getColor</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getColor</span><span class="p">.</span><span class="nx">start</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getColor</span><span class="p">.</span><span class="nx">start</span><span class="o">||</span><span class="p">{</span><span class="nx">h</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="o">:</span><span class="nx">a</span><span class="o">||</span><span class="p">.</span><span class="mi">75</span><span class="p">},</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">hsb2rgb</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">b</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">h</span><span class="o">+=</span><span class="p">.</span><span class="mi">075</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">h</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">s</span><span class="o">-=</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">s</span><span class="o">&lt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getColor</span><span class="p">.</span><span class="nx">start</span><span class="o">=</span><span class="p">{</span><span class="nx">h</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">b</span><span class="p">}));</span><span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">hex</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">getColor</span><span class="p">.</span><span class="nx">reset</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">delete</span> <span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">parsePathString</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">bz</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">arr</span><span class="p">)</span><span class="k">return</span> <span class="nx">bJ</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">arr</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">{</span><span class="nx">a</span><span class="o">:</span><span class="mi">7</span><span class="p">,</span><span class="nx">c</span><span class="o">:</span><span class="mi">6</span><span class="p">,</span><span class="nx">h</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">l</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">m</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">r</span><span class="o">:</span><span class="mi">4</span><span class="p">,</span><span class="nx">q</span><span class="o">:</span><span class="mi">4</span><span class="p">,</span><span class="nx">s</span><span class="o">:</span><span class="mi">4</span><span class="p">,</span><span class="nx">t</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">v</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">z</span><span class="o">:</span><span class="mi">0</span><span class="p">},</span><span class="nx">e</span><span class="o">=</span><span class="p">[];</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">E</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">E</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">bJ</span><span class="p">(</span><span class="nx">b</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="nx">r</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">Z</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="p">[],</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="nx">c</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">_</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="o">+</span><span class="nx">b</span><span class="p">)}),</span><span class="nx">g</span><span class="o">==</span><span class="s2">&quot;m&quot;</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">b</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">f</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))),</span><span class="nx">g</span><span class="o">=</span><span class="s2">&quot;l&quot;</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="o">==</span><span class="s2">&quot;m&quot;</span><span class="o">?</span><span class="s2">&quot;l&quot;</span><span class="o">:</span><span class="s2">&quot;L&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">==</span><span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">b</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">f</span><span class="p">));</span><span class="k">else</span> <span class="k">while</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;=</span><span class="nx">d</span><span class="p">[</span><span class="nx">g</span><span class="p">]){</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">b</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">f</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">[</span><span class="nx">g</span><span class="p">])));</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">[</span><span class="nx">g</span><span class="p">])</span><span class="k">break</span><span class="p">}}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_path2string</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">arr</span><span class="o">=</span><span class="nx">bJ</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">parseTransformString</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="p">{</span><span class="nx">r</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="nx">s</span><span class="o">:</span><span class="mi">4</span><span class="p">,</span><span class="nx">t</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">m</span><span class="o">:</span><span class="mi">6</span><span class="p">},</span><span class="nx">d</span><span class="o">=</span><span class="p">[];</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">E</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">E</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">bJ</span><span class="p">(</span><span class="nx">b</span><span class="p">)),</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="nx">r</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">$</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">f</span><span class="o">=</span><span class="nx">v</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">_</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="o">+</span><span class="nx">b</span><span class="p">)}),</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">b</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">e</span><span class="p">))}),</span><span class="nx">d</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_path2string</span><span class="p">;</span><span class="k">return</span> <span class="nx">d</span><span class="p">});</span><span class="kd">var</span> <span class="nx">bz</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">bz</span><span class="p">.</span><span class="nx">ps</span><span class="o">=</span><span class="nx">bz</span><span class="p">.</span><span class="nx">ps</span><span class="o">||</span><span class="p">{};</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">?</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">sleep</span><span class="o">=</span><span class="mi">100</span><span class="o">:</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">sleep</span><span class="o">:</span><span class="mi">100</span><span class="p">},</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span> <span class="k">in</span> <span class="nx">b</span><span class="p">)</span><span class="nx">b</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">c</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="o">!=</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">sleep</span><span class="o">--</span><span class="p">,</span><span class="o">!</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">sleep</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">])});</span><span class="k">return</span> <span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">]};</span><span class="nx">a</span><span class="p">.</span><span class="nx">findDotsAtSegment</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="nx">i</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">A</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="nx">l</span><span class="o">=</span><span class="nx">A</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="nx">m</span><span class="o">=</span><span class="nx">i</span><span class="o">*</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">m</span><span class="o">*</span><span class="nx">i</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">k</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="nx">l</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">c</span><span class="o">+</span><span class="nx">j</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="nx">n</span><span class="o">*</span><span class="nx">g</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">k</span><span class="o">*</span><span class="nx">b</span><span class="o">+</span><span class="nx">l</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">d</span><span class="o">+</span><span class="nx">j</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">f</span><span class="o">+</span><span class="nx">n</span><span class="o">*</span><span class="nx">h</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="nx">a</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="nx">m</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">c</span><span class="o">+</span><span class="nx">a</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">b</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="p">(</span><span class="nx">d</span><span class="o">-</span><span class="nx">b</span><span class="p">)</span><span class="o">+</span><span class="nx">m</span><span class="o">*</span><span class="p">(</span><span class="nx">f</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">d</span><span class="o">+</span><span class="nx">b</span><span class="p">),</span><span class="nx">s</span><span class="o">=</span><span class="nx">c</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">+</span><span class="nx">m</span><span class="o">*</span><span class="p">(</span><span class="nx">g</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="nx">c</span><span class="p">),</span><span class="nx">t</span><span class="o">=</span><span class="nx">d</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="p">(</span><span class="nx">f</span><span class="o">-</span><span class="nx">d</span><span class="p">)</span><span class="o">+</span><span class="nx">m</span><span class="o">*</span><span class="p">(</span><span class="nx">h</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">f</span><span class="o">+</span><span class="nx">d</span><span class="p">),</span><span class="nx">u</span><span class="o">=</span><span class="nx">j</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="nx">i</span><span class="o">*</span><span class="nx">c</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="nx">j</span><span class="o">*</span><span class="nx">b</span><span class="o">+</span><span class="nx">i</span><span class="o">*</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="nx">j</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="nx">i</span><span class="o">*</span><span class="nx">g</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="nx">j</span><span class="o">*</span><span class="nx">f</span><span class="o">+</span><span class="nx">i</span><span class="o">*</span><span class="nx">h</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="mi">90</span><span class="o">-</span><span class="nx">w</span><span class="p">.</span><span class="nx">atan2</span><span class="p">(</span><span class="nx">q</span><span class="o">-</span><span class="nx">s</span><span class="p">,</span><span class="nx">r</span><span class="o">-</span><span class="nx">t</span><span class="p">)</span><span class="o">*</span><span class="mi">180</span><span class="o">/</span><span class="nx">B</span><span class="p">;(</span><span class="nx">q</span><span class="o">&gt;</span><span class="nx">s</span><span class="o">||</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">z</span><span class="o">+=</span><span class="mi">180</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">p</span><span class="p">,</span><span class="nx">m</span><span class="o">:</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">q</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">r</span><span class="p">},</span><span class="nx">n</span><span class="o">:</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">s</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">t</span><span class="p">},</span><span class="nx">start</span><span class="o">:</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">u</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">v</span><span class="p">},</span><span class="nx">end</span><span class="o">:</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">y</span><span class="p">},</span><span class="nx">alpha</span><span class="o">:</span><span class="nx">z</span><span class="p">}},</span><span class="nx">a</span><span class="p">.</span><span class="nx">bezierBBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;array&quot;</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">]);</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">bQ</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">x2</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y2</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="nx">j</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="nx">j</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">y</span><span class="p">}},</span><span class="nx">a</span><span class="p">.</span><span class="nx">isPointInsideBBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">&gt;=</span><span class="nx">a</span><span class="p">.</span><span class="nx">x</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">&lt;=</span><span class="nx">a</span><span class="p">.</span><span class="nx">x2</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="o">&gt;=</span><span class="nx">a</span><span class="p">.</span><span class="nx">y</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="o">&lt;=</span><span class="nx">a</span><span class="p">.</span><span class="nx">y2</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">isBBoxIntersect</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">isPointInsideBBox</span><span class="p">;</span><span class="k">return</span> <span class="nx">d</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span><span class="o">||</span><span class="nx">d</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">x2</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span><span class="o">||</span><span class="nx">d</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y2</span><span class="p">)</span><span class="o">||</span><span class="nx">d</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">x2</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y2</span><span class="p">)</span><span class="o">||</span><span class="nx">d</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span><span class="o">||</span><span class="nx">d</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">x2</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span><span class="o">||</span><span class="nx">d</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">y2</span><span class="p">)</span><span class="o">||</span><span class="nx">d</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">x2</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">y2</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">.</span><span class="nx">x2</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="o">&gt;</span><span class="nx">c</span><span class="p">.</span><span class="nx">x</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">x</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">x2</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">x</span><span class="o">&gt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">.</span><span class="nx">y2</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="o">&gt;</span><span class="nx">c</span><span class="p">.</span><span class="nx">y</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">y</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">y2</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">y</span><span class="o">&gt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">)},</span><span class="nx">a</span><span class="p">.</span><span class="nx">pathIntersection</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">bH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="nx">a</span><span class="p">.</span><span class="nx">pathIntersectionNumber</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">bH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">)},</span><span class="nx">a</span><span class="p">.</span><span class="nx">isPointInsidePath</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">pathBBox</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">isPointInsideBBox</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">bH</span><span class="p">(</span><span class="nx">b</span><span class="p">,[[</span><span class="s2">&quot;M&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">],[</span><span class="s2">&quot;H&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">x2</span><span class="o">+</span><span class="mi">10</span><span class="p">]],</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">1</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_removedFactory</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.log&quot;</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="s2">&quot;Raphaël: you are calling to method “&quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;” of removed object&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">)}};</span><span class="kd">var</span> <span class="nx">bI</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">pathBBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">bz</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">bbox</span><span class="p">)</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">bbox</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">)</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">x2</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y2</span><span class="o">:</span><span class="mi">0</span><span class="p">};</span><span class="nx">a</span><span class="o">=</span><span class="nx">bR</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">f</span><span class="o">=</span><span class="p">[],</span><span class="nx">g</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="nx">c</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">d</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">bQ</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">g</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">g</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">g</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">g</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">g</span><span class="p">[</span><span class="mi">6</span><span class="p">]);</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">n</span><span class="p">](</span><span class="nx">j</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">x</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">f</span><span class="p">[</span><span class="nx">n</span><span class="p">](</span><span class="nx">j</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">y</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">d</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">6</span><span class="p">]}}</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="nx">y</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">l</span><span class="o">=</span><span class="nx">y</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">x</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="nx">x</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="p">),</span><span class="nx">q</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">k</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">l</span><span class="p">,</span><span class="nx">x2</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">y2</span><span class="o">:</span><span class="nx">p</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">o</span><span class="o">-</span><span class="nx">k</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">p</span><span class="o">-</span><span class="nx">l</span><span class="p">};</span><span class="nx">b</span><span class="p">.</span><span class="nx">bbox</span><span class="o">=</span><span class="nx">bm</span><span class="p">(</span><span class="nx">q</span><span class="p">);</span><span class="k">return</span> <span class="nx">q</span><span class="p">},</span><span class="nx">bJ</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">bm</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_path2string</span><span class="p">;</span><span class="k">return</span> <span class="nx">c</span><span class="p">},</span><span class="nx">bK</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_pathToRelative</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">bz</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">rel</span><span class="p">)</span><span class="k">return</span> <span class="nx">bJ</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">rel</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">E</span><span class="p">)</span><span class="o">||!</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">E</span><span class="p">))</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parsePathString</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">[],</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;M&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">i</span><span class="o">++</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s2">&quot;M&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">]));</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">j</span><span class="o">&lt;</span><span class="nx">k</span><span class="p">;</span><span class="nx">j</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">m</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="nx">v</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="mi">0</span><span class="p">])){</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">v</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="k">switch</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span><span class="k">case</span><span class="s2">&quot;a&quot;</span><span class="o">:</span><span class="nx">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">l</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">l</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">l</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">l</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">l</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">=+</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">-</span><span class="nx">e</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="nx">l</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">=+</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">-</span><span class="nx">f</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;v&quot;</span><span class="o">:</span><span class="nx">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=+</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="nx">f</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;m&quot;</span><span class="o">:</span><span class="nx">g</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">h</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="k">default</span><span class="o">:</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">o</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">l</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=+</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">-</span><span class="p">(</span><span class="nx">n</span><span class="o">%</span><span class="mi">2</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">f</span><span class="p">)).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">3</span><span class="p">)}}</span><span class="k">else</span><span class="p">{</span><span class="nx">l</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;m&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="nx">f</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">p</span><span class="o">&lt;</span><span class="nx">q</span><span class="p">;</span><span class="nx">p</span><span class="o">++</span><span class="p">)</span><span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="nx">p</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="nx">p</span><span class="p">]}</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="k">switch</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]){</span><span class="k">case</span><span class="s2">&quot;z&quot;</span><span class="o">:</span><span class="nx">e</span><span class="o">=</span><span class="nx">g</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">h</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;h&quot;</span><span class="o">:</span><span class="nx">e</span><span class="o">+=+</span><span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="nx">r</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;v&quot;</span><span class="o">:</span><span class="nx">f</span><span class="o">+=+</span><span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="nx">r</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span><span class="k">break</span><span class="p">;</span><span class="k">default</span><span class="o">:</span><span class="nx">e</span><span class="o">+=+</span><span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="nx">r</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="nx">f</span><span class="o">+=+</span><span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="nx">r</span><span class="o">-</span><span class="mi">1</span><span class="p">]}}</span><span class="nx">d</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_path2string</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">rel</span><span class="o">=</span><span class="nx">bJ</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="nx">bL</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_pathToAbsolute</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">bz</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">abs</span><span class="p">)</span><span class="k">return</span> <span class="nx">bJ</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">abs</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">E</span><span class="p">)</span><span class="o">||!</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">E</span><span class="p">))</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parsePathString</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="o">||!</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">return</span><span class="p">[[</span><span class="s2">&quot;M&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]];</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">[],</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;M&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=+</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="nx">f</span><span class="o">=+</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">i</span><span class="o">++</span><span class="p">,</span><span class="nx">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">]);</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;M&quot;</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="o">==</span><span class="s2">&quot;R&quot;</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="o">==</span><span class="s2">&quot;Z&quot;</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">m</span><span class="o">&lt;</span><span class="nx">o</span><span class="p">;</span><span class="nx">m</span><span class="o">++</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="p">[]),</span><span class="nx">l</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">m</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="nx">S</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">])){</span><span class="nx">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">S</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="k">switch</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span><span class="k">case</span><span class="s2">&quot;A&quot;</span><span class="o">:</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">k</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">k</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">k</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">k</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">k</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">=+</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">),</span><span class="nx">k</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">=+</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">+</span><span class="nx">f</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;V&quot;</span><span class="o">:</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=+</span><span class="nx">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="nx">f</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;H&quot;</span><span class="o">:</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=+</span><span class="nx">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;R&quot;</span><span class="o">:</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="p">[</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">l</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">q</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">q</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">;</span><span class="nx">q</span><span class="o">++</span><span class="p">)</span><span class="nx">p</span><span class="p">[</span><span class="nx">q</span><span class="p">]</span><span class="o">=+</span><span class="nx">p</span><span class="p">[</span><span class="nx">q</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">,</span><span class="nx">p</span><span class="p">[</span><span class="o">++</span><span class="nx">q</span><span class="p">]</span><span class="o">=+</span><span class="nx">p</span><span class="p">[</span><span class="nx">q</span><span class="p">]</span><span class="o">+</span><span class="nx">f</span><span class="p">;</span><span class="nx">d</span><span class="p">.</span><span class="nx">pop</span><span class="p">(),</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">n</span><span class="p">](</span><span class="nx">by</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span><span class="nx">j</span><span class="p">));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;M&quot;</span><span class="o">:</span><span class="nx">g</span><span class="o">=+</span><span class="nx">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">,</span><span class="nx">h</span><span class="o">=+</span><span class="nx">l</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="nx">f</span><span class="p">;</span><span class="k">default</span><span class="o">:</span><span class="k">for</span><span class="p">(</span><span class="nx">q</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">q</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">;</span><span class="nx">q</span><span class="o">++</span><span class="p">)</span><span class="nx">k</span><span class="p">[</span><span class="nx">q</span><span class="p">]</span><span class="o">=+</span><span class="nx">l</span><span class="p">[</span><span class="nx">q</span><span class="p">]</span><span class="o">+</span><span class="p">(</span><span class="nx">q</span><span class="o">%</span><span class="mi">2</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">f</span><span class="p">)}}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;R&quot;</span><span class="p">)</span><span class="nx">p</span><span class="o">=</span><span class="p">[</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">l</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span><span class="nx">d</span><span class="p">.</span><span class="nx">pop</span><span class="p">(),</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">n</span><span class="p">](</span><span class="nx">by</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span><span class="nx">j</span><span class="p">)),</span><span class="nx">k</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;R&quot;</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">l</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">));</span><span class="k">else</span> <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">)</span><span class="nx">k</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="nx">s</span><span class="p">];</span><span class="k">switch</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span><span class="k">case</span><span class="s2">&quot;Z&quot;</span><span class="o">:</span><span class="nx">e</span><span class="o">=</span><span class="nx">g</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">h</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;H&quot;</span><span class="o">:</span><span class="nx">e</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;V&quot;</span><span class="o">:</span><span class="nx">f</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;M&quot;</span><span class="o">:</span><span class="nx">g</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="nx">k</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="nx">h</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="nx">k</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span><span class="k">default</span><span class="o">:</span><span class="nx">e</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="nx">k</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="nx">f</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="nx">k</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">]}}</span><span class="nx">d</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_path2string</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">abs</span><span class="o">=</span><span class="nx">bJ</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="nx">bM</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span><span class="p">[</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">]},</span><span class="nx">bN</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">;</span><span class="k">return</span><span class="p">[</span><span class="nx">g</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="nx">h</span><span class="o">*</span><span class="nx">c</span><span class="p">,</span><span class="nx">g</span><span class="o">*</span><span class="nx">b</span><span class="o">+</span><span class="nx">h</span><span class="o">*</span><span class="nx">d</span><span class="p">,</span><span class="nx">g</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="nx">h</span><span class="o">*</span><span class="nx">c</span><span class="p">,</span><span class="nx">g</span><span class="o">*</span><span class="nx">f</span><span class="o">+</span><span class="nx">h</span><span class="o">*</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">]},</span><span class="nx">bO</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">){</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="nx">B</span><span class="o">*</span><span class="mi">120</span><span class="o">/</span><span class="mi">180</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">B</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="p">(</span><span class="o">+</span><span class="nx">e</span><span class="o">||</span><span class="mi">0</span><span class="p">),</span><span class="nx">m</span><span class="o">=</span><span class="p">[],</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="o">*</span><span class="nx">w</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">-</span><span class="nx">b</span><span class="o">*</span><span class="nx">w</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="o">*</span><span class="nx">w</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">+</span><span class="nx">b</span><span class="o">*</span><span class="nx">w</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">e</span><span class="p">}});</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">j</span><span class="p">){</span><span class="nx">o</span><span class="o">=</span><span class="nx">p</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="o">-</span><span class="nx">l</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">p</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="o">-</span><span class="nx">l</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span><span class="kd">var</span> <span class="nx">q</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">B</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="nx">e</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">B</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="nx">h</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="p">(</span><span class="nx">b</span><span class="o">-</span><span class="nx">i</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="nx">t</span><span class="o">*</span><span class="nx">t</span><span class="o">/</span><span class="p">(</span><span class="nx">c</span><span class="o">*</span><span class="nx">c</span><span class="p">)</span><span class="o">+</span><span class="nx">u</span><span class="o">*</span><span class="nx">u</span><span class="o">/</span><span class="p">(</span><span class="nx">d</span><span class="o">*</span><span class="nx">d</span><span class="p">);</span><span class="nx">v</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">v</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">v</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">v</span><span class="o">*</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">v</span><span class="o">*</span><span class="nx">d</span><span class="p">);</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="nx">c</span><span class="o">*</span><span class="nx">c</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="nx">d</span><span class="o">*</span><span class="nx">d</span><span class="p">,</span><span class="nx">A</span><span class="o">=</span><span class="p">(</span><span class="nx">f</span><span class="o">==</span><span class="nx">g</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">z</span><span class="p">((</span><span class="nx">x</span><span class="o">*</span><span class="nx">y</span><span class="o">-</span><span class="nx">x</span><span class="o">*</span><span class="nx">u</span><span class="o">*</span><span class="nx">u</span><span class="o">-</span><span class="nx">y</span><span class="o">*</span><span class="nx">t</span><span class="o">*</span><span class="nx">t</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">x</span><span class="o">*</span><span class="nx">u</span><span class="o">*</span><span class="nx">u</span><span class="o">+</span><span class="nx">y</span><span class="o">*</span><span class="nx">t</span><span class="o">*</span><span class="nx">t</span><span class="p">))),</span><span class="nx">C</span><span class="o">=</span><span class="nx">A</span><span class="o">*</span><span class="nx">c</span><span class="o">*</span><span class="nx">u</span><span class="o">/</span><span class="nx">d</span><span class="o">+</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="nx">h</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">D</span><span class="o">=</span><span class="nx">A</span><span class="o">*-</span><span class="nx">d</span><span class="o">*</span><span class="nx">t</span><span class="o">/</span><span class="nx">c</span><span class="o">+</span><span class="p">(</span><span class="nx">b</span><span class="o">+</span><span class="nx">i</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">E</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">asin</span><span class="p">(((</span><span class="nx">b</span><span class="o">-</span><span class="nx">D</span><span class="p">)</span><span class="o">/</span><span class="nx">d</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">)),</span><span class="nx">F</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">asin</span><span class="p">(((</span><span class="nx">i</span><span class="o">-</span><span class="nx">D</span><span class="p">)</span><span class="o">/</span><span class="nx">d</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span><span class="nx">E</span><span class="o">=</span><span class="nx">a</span><span class="o">&lt;</span><span class="nx">C</span><span class="o">?</span><span class="nx">B</span><span class="o">-</span><span class="nx">E</span><span class="o">:</span><span class="nx">E</span><span class="p">,</span><span class="nx">F</span><span class="o">=</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">C</span><span class="o">?</span><span class="nx">B</span><span class="o">-</span><span class="nx">F</span><span class="o">:</span><span class="nx">F</span><span class="p">,</span><span class="nx">E</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">E</span><span class="o">=</span><span class="nx">B</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="nx">E</span><span class="p">),</span><span class="nx">F</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">F</span><span class="o">=</span><span class="nx">B</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="nx">F</span><span class="p">),</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="o">&gt;</span><span class="nx">F</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">E</span><span class="o">=</span><span class="nx">E</span><span class="o">-</span><span class="nx">B</span><span class="o">*</span><span class="mi">2</span><span class="p">),</span><span class="o">!</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">F</span><span class="o">&gt;</span><span class="nx">E</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">F</span><span class="o">=</span><span class="nx">F</span><span class="o">-</span><span class="nx">B</span><span class="o">*</span><span class="mi">2</span><span class="p">)}</span><span class="k">else</span> <span class="nx">E</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">F</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">C</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">D</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="nx">F</span><span class="o">-</span><span class="nx">E</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">z</span><span class="p">(</span><span class="nx">G</span><span class="p">)</span><span class="o">&gt;</span><span class="nx">k</span><span class="p">){</span><span class="kd">var</span> <span class="nx">H</span><span class="o">=</span><span class="nx">F</span><span class="p">,</span><span class="nx">I</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">J</span><span class="o">=</span><span class="nx">i</span><span class="p">;</span><span class="nx">F</span><span class="o">=</span><span class="nx">E</span><span class="o">+</span><span class="nx">k</span><span class="o">*</span><span class="p">(</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">F</span><span class="o">&gt;</span><span class="nx">E</span><span class="o">?</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">C</span><span class="o">+</span><span class="nx">c</span><span class="o">*</span><span class="nx">w</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">F</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">D</span><span class="o">+</span><span class="nx">d</span><span class="o">*</span><span class="nx">w</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">F</span><span class="p">),</span><span class="nx">m</span><span class="o">=</span><span class="nx">bO</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">I</span><span class="p">,</span><span class="nx">J</span><span class="p">,[</span><span class="nx">F</span><span class="p">,</span><span class="nx">H</span><span class="p">,</span><span class="nx">C</span><span class="p">,</span><span class="nx">D</span><span class="p">])}</span><span class="nx">G</span><span class="o">=</span><span class="nx">F</span><span class="o">-</span><span class="nx">E</span><span class="p">;</span><span class="kd">var</span> <span class="nx">K</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">E</span><span class="p">),</span><span class="nx">L</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">E</span><span class="p">),</span><span class="nx">M</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">F</span><span class="p">),</span><span class="nx">N</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">F</span><span class="p">),</span><span class="nx">O</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">tan</span><span class="p">(</span><span class="nx">G</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span><span class="nx">P</span><span class="o">=</span><span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="o">*</span><span class="nx">c</span><span class="o">*</span><span class="nx">O</span><span class="p">,</span><span class="nx">Q</span><span class="o">=</span><span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="o">*</span><span class="nx">d</span><span class="o">*</span><span class="nx">O</span><span class="p">,</span><span class="nx">R</span><span class="o">=</span><span class="p">[</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">],</span><span class="nx">S</span><span class="o">=</span><span class="p">[</span><span class="nx">a</span><span class="o">+</span><span class="nx">P</span><span class="o">*</span><span class="nx">L</span><span class="p">,</span><span class="nx">b</span><span class="o">-</span><span class="nx">Q</span><span class="o">*</span><span class="nx">K</span><span class="p">],</span><span class="nx">T</span><span class="o">=</span><span class="p">[</span><span class="nx">h</span><span class="o">+</span><span class="nx">P</span><span class="o">*</span><span class="nx">N</span><span class="p">,</span><span class="nx">i</span><span class="o">-</span><span class="nx">Q</span><span class="o">*</span><span class="nx">M</span><span class="p">],</span><span class="nx">U</span><span class="o">=</span><span class="p">[</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">];</span><span class="nx">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nx">R</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="nx">S</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">S</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nx">R</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="nx">S</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">)</span><span class="k">return</span><span class="p">[</span><span class="nx">S</span><span class="p">,</span><span class="nx">T</span><span class="p">,</span><span class="nx">U</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">m</span><span class="p">);</span><span class="nx">m</span><span class="o">=</span><span class="p">[</span><span class="nx">S</span><span class="p">,</span><span class="nx">T</span><span class="p">,</span><span class="nx">U</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">m</span><span class="p">).</span><span class="nx">join</span><span class="p">()[</span><span class="nx">s</span><span class="p">](</span><span class="s2">&quot;,&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">V</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">W</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">X</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">W</span><span class="o">&lt;</span><span class="nx">X</span><span class="p">;</span><span class="nx">W</span><span class="o">++</span><span class="p">)</span><span class="nx">V</span><span class="p">[</span><span class="nx">W</span><span class="p">]</span><span class="o">=</span><span class="nx">W</span><span class="o">%</span><span class="mi">2</span><span class="o">?</span><span class="nx">p</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">W</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="nx">m</span><span class="p">[</span><span class="nx">W</span><span class="p">],</span><span class="nx">l</span><span class="p">).</span><span class="nx">y</span><span class="o">:</span><span class="nx">p</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">W</span><span class="p">],</span><span class="nx">m</span><span class="p">[</span><span class="nx">W</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="nx">l</span><span class="p">).</span><span class="nx">x</span><span class="p">;</span><span class="k">return</span> <span class="nx">V</span><span class="p">},</span><span class="nx">bP</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="nx">i</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">A</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="nx">A</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">c</span><span class="o">+</span><span class="nx">j</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="nx">A</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="nx">g</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">A</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="nx">b</span><span class="o">+</span><span class="nx">A</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">d</span><span class="o">+</span><span class="nx">j</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">f</span><span class="o">+</span><span class="nx">A</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="nx">h</span><span class="p">}},</span><span class="nx">bQ</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">c</span><span class="o">+</span><span class="nx">a</span><span class="o">-</span><span class="p">(</span><span class="nx">g</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="nx">c</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="nx">a</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="nx">c</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="nx">a</span><span class="o">-</span><span class="nx">c</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="nx">j</span><span class="o">+</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">j</span><span class="o">*</span><span class="nx">j</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">k</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="nx">j</span><span class="o">-</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">j</span><span class="o">*</span><span class="nx">j</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">k</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="nx">i</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="nx">h</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="p">[</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">],</span><span class="nx">q</span><span class="p">;</span><span class="nx">z</span><span class="p">(</span><span class="nx">l</span><span class="p">)</span><span class="o">&gt;</span><span class="s2">&quot;1e12&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="p">.</span><span class="mi">5</span><span class="p">),</span><span class="nx">z</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="o">&gt;</span><span class="s2">&quot;1e12&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="p">.</span><span class="mi">5</span><span class="p">),</span><span class="nx">l</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="o">=</span><span class="nx">bP</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">l</span><span class="p">),</span><span class="nx">p</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">x</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">y</span><span class="p">)),</span><span class="nx">n</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="o">=</span><span class="nx">bP</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">p</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">x</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">y</span><span class="p">)),</span><span class="nx">i</span><span class="o">=</span><span class="nx">f</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">d</span><span class="o">+</span><span class="nx">b</span><span class="o">-</span><span class="p">(</span><span class="nx">h</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">f</span><span class="o">+</span><span class="nx">d</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="nx">d</span><span class="o">-</span><span class="nx">b</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="nx">f</span><span class="o">-</span><span class="nx">d</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="nx">b</span><span class="o">-</span><span class="nx">d</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="nx">j</span><span class="o">+</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">j</span><span class="o">*</span><span class="nx">j</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">k</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="nx">j</span><span class="o">-</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">j</span><span class="o">*</span><span class="nx">j</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="nx">i</span><span class="o">*</span><span class="nx">k</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="nx">i</span><span class="p">,</span><span class="nx">z</span><span class="p">(</span><span class="nx">l</span><span class="p">)</span><span class="o">&gt;</span><span class="s2">&quot;1e12&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="p">.</span><span class="mi">5</span><span class="p">),</span><span class="nx">z</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="o">&gt;</span><span class="s2">&quot;1e12&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="p">.</span><span class="mi">5</span><span class="p">),</span><span class="nx">l</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="o">=</span><span class="nx">bP</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">l</span><span class="p">),</span><span class="nx">p</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">x</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">y</span><span class="p">)),</span><span class="nx">n</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="o">=</span><span class="nx">bP</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">p</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">x</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">y</span><span class="p">));</span><span class="k">return</span><span class="p">{</span><span class="nx">min</span><span class="o">:</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">y</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">p</span><span class="p">),</span><span class="nx">y</span><span class="o">:</span><span class="nx">y</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="p">)},</span><span class="nx">max</span><span class="o">:</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">x</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">p</span><span class="p">),</span><span class="nx">y</span><span class="o">:</span><span class="nx">x</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="p">)}}}),</span><span class="nx">bR</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_path2curve</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=!</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">bz</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">curve</span><span class="p">)</span><span class="k">return</span> <span class="nx">bJ</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">curve</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">bL</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">bL</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">bx</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">by</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">X</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">Y</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">qx</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span><span class="nx">qy</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">g</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">bx</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">by</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">X</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">Y</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">qx</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span><span class="nx">qy</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">h</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">)</span><span class="k">return</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">];</span><span class="o">!</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="k">in</span><span class="p">{</span><span class="nx">T</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">Q</span><span class="o">:</span><span class="mi">1</span><span class="p">})</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">qx</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">qy</span><span class="o">=</span><span class="kc">null</span><span class="p">);</span><span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span><span class="k">case</span><span class="s2">&quot;M&quot;</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">X</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">b</span><span class="p">.</span><span class="nx">Y</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;A&quot;</span><span class="o">:</span><span class="nx">a</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">bO</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,[</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">a</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">))));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;S&quot;</span><span class="o">:</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">bx</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">)),</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">by</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">)),</span><span class="nx">a</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">a</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;T&quot;</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">qx</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">qx</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">)),</span><span class="nx">b</span><span class="p">.</span><span class="nx">qy</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">qy</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">)),</span><span class="nx">a</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">bN</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">qx</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">qy</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Q&quot;</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">qx</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">b</span><span class="p">.</span><span class="nx">qy</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">a</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">bN</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">a</span><span class="p">[</span><span class="mi">4</span><span class="p">]));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;L&quot;</span><span class="o">:</span><span class="nx">a</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">bM</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;H&quot;</span><span class="o">:</span><span class="nx">a</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">bM</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;V&quot;</span><span class="o">:</span><span class="nx">a</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">bM</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;Z&quot;</span><span class="o">:</span><span class="nx">a</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">bM</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">X</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">Y</span><span class="p">))}</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">i</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">7</span><span class="p">){</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">shift</span><span class="p">();</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">];</span><span class="k">while</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="nx">a</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">b</span><span class="o">++</span><span class="p">,</span><span class="mi">0</span><span class="p">,[</span><span class="s2">&quot;C&quot;</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">c</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)));</span><span class="nx">a</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">l</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="mi">0</span><span class="p">)}},</span><span class="nx">j</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;M&quot;</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="nx">g</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="s2">&quot;M&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="mi">0</span><span class="p">,[</span><span class="s2">&quot;M&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="p">]),</span><span class="nx">c</span><span class="p">.</span><span class="nx">bx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">by</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="nx">c</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span><span class="nx">l</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="mi">0</span><span class="p">))};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="mi">0</span><span class="p">);</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">l</span><span class="p">;</span><span class="nx">k</span><span class="o">++</span><span class="p">){</span><span class="nx">d</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="nx">f</span><span class="p">),</span><span class="nx">i</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">k</span><span class="p">),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="nx">g</span><span class="p">)),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">k</span><span class="p">),</span><span class="nx">j</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">k</span><span class="p">),</span><span class="nx">j</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">k</span><span class="p">);</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="nx">q</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">q</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">q</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="nx">f</span><span class="p">.</span><span class="nx">bx</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="nx">q</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">by</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="nx">q</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">bx</span><span class="o">=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">Q</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">r</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span><span class="o">||</span><span class="nx">g</span><span class="p">.</span><span class="nx">x</span><span class="p">),</span><span class="nx">g</span><span class="p">.</span><span class="nx">by</span><span class="o">=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">Q</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">r</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span><span class="o">||</span><span class="nx">g</span><span class="p">.</span><span class="nx">y</span><span class="p">),</span><span class="nx">g</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">[</span><span class="nx">r</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="nx">g</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">[</span><span class="nx">r</span><span class="o">-</span><span class="mi">1</span><span class="p">]}</span><span class="nx">e</span><span class="o">||</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">curve</span><span class="o">=</span><span class="nx">bJ</span><span class="p">(</span><span class="nx">d</span><span class="p">));</span><span class="k">return</span> <span class="nx">e</span><span class="o">?</span><span class="p">[</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">]</span><span class="o">:</span><span class="nx">d</span><span class="p">},</span><span class="kc">null</span><span class="p">,</span><span class="nx">bJ</span><span class="p">),</span><span class="nx">bS</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_parseDots</span><span class="o">=</span><span class="nx">bv</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="p">{},</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">d</span><span class="p">].</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^([^:]*):?([\d\.]*)/</span><span class="p">);</span><span class="nx">f</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">hex</span><span class="p">,</span><span class="nx">g</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;%&quot;</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">)}</span><span class="k">for</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="p">].</span><span class="nx">offset</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">offset</span><span class="o">||</span><span class="mi">0</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">d</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="nx">j</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">j</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">offset</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">offset</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="nx">i</span><span class="o">||</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">e</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">Q</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="p">(</span><span class="nx">i</span><span class="o">-</span><span class="nx">h</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">j</span><span class="o">-</span><span class="nx">d</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span><span class="k">for</span><span class="p">(;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">j</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">)</span><span class="nx">h</span><span class="o">+=</span><span class="nx">k</span><span class="p">,</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="p">].</span><span class="nx">offset</span><span class="o">=</span><span class="nx">h</span><span class="o">+</span><span class="s2">&quot;%&quot;</span><span class="p">}</span><span class="k">return</span> <span class="nx">c</span><span class="p">}),</span><span class="nx">bT</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_tear</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="o">==</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">prev</span><span class="p">),</span><span class="nx">a</span><span class="o">==</span><span class="nx">b</span><span class="p">.</span><span class="nx">bottom</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">next</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">next</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">next</span><span class="p">.</span><span class="nx">prev</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">prev</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">prev</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">prev</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">next</span><span class="p">)},</span><span class="nx">bU</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_tofront</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">!==</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">bT</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">prev</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="nx">a</span><span class="p">)},</span><span class="nx">bV</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_toback</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">bottom</span><span class="o">!==</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">bT</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">bottom</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">prev</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">bottom</span><span class="p">.</span><span class="nx">prev</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=</span><span class="nx">a</span><span class="p">)},</span><span class="nx">bW</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_insertafter</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">bT</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">b</span><span class="o">==</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="nx">a</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">next</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">next</span><span class="p">.</span><span class="nx">prev</span><span class="o">=</span><span class="nx">a</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">next</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">prev</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="nx">a</span><span class="p">},</span><span class="nx">bX</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_insertbefore</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">bT</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">b</span><span class="o">==</span><span class="nx">c</span><span class="p">.</span><span class="nx">bottom</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=</span><span class="nx">a</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">prev</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">prev</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="nx">a</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">prev</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">prev</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">prev</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="nx">b</span><span class="p">},</span><span class="nx">bY</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">toMatrix</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">bI</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="p">{</span><span class="nx">_</span><span class="o">:</span><span class="p">{</span><span class="nx">transform</span><span class="o">:</span><span class="nx">p</span><span class="p">},</span><span class="nx">getBBox</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">c</span><span class="p">}};</span><span class="nx">b$</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">matrix</span><span class="p">},</span><span class="nx">bZ</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">transformPath</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">bj</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">bY</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">))},</span><span class="nx">b$</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_extractTransform</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">==</span><span class="kc">null</span><span class="p">)</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">;</span><span class="nx">c</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">c</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\.{3}|\u2026/g</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="o">||</span><span class="nx">p</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parseTransformString</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">_</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="k">new</span> <span class="nx">cb</span><span class="p">;</span><span class="nx">j</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="nx">d</span><span class="o">||</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">m</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">l</span><span class="p">],</span><span class="nx">o</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="nx">q</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">s</span><span class="o">?</span><span class="nx">k</span><span class="p">.</span><span class="nx">invert</span><span class="p">()</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">v</span><span class="p">,</span><span class="nx">w</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">;</span><span class="nx">q</span><span class="o">==</span><span class="s2">&quot;t&quot;</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="o">==</span><span class="mi">3</span><span class="o">?</span><span class="nx">s</span><span class="o">?</span><span class="p">(</span><span class="nx">u</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nx">v</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nx">w</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="nx">x</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="nx">k</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="nx">w</span><span class="o">-</span><span class="nx">u</span><span class="p">,</span><span class="nx">x</span><span class="o">-</span><span class="nx">v</span><span class="p">))</span><span class="o">:</span><span class="nx">k</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">:</span><span class="nx">q</span><span class="o">==</span><span class="s2">&quot;r&quot;</span><span class="o">?</span><span class="nx">o</span><span class="o">==</span><span class="mi">2</span><span class="o">?</span><span class="p">(</span><span class="nx">y</span><span class="o">=</span><span class="nx">y</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="nx">k</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">y</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">y</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">y</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">y</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="nx">e</span><span class="o">+=</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">:</span><span class="nx">o</span><span class="o">==</span><span class="mi">4</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="o">?</span><span class="p">(</span><span class="nx">w</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span><span class="nx">x</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span><span class="nx">k</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">w</span><span class="p">,</span><span class="nx">x</span><span class="p">))</span><span class="o">:</span><span class="nx">k</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span><span class="nx">e</span><span class="o">+=</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">:</span><span class="nx">q</span><span class="o">==</span><span class="s2">&quot;s&quot;</span><span class="o">?</span><span class="nx">o</span><span class="o">==</span><span class="mi">2</span><span class="o">||</span><span class="nx">o</span><span class="o">==</span><span class="mi">3</span><span class="o">?</span><span class="p">(</span><span class="nx">y</span><span class="o">=</span><span class="nx">y</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="nx">k</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="nx">o</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="nx">y</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">y</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">y</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">y</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="nx">h</span><span class="o">*=</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="o">*=</span><span class="nx">n</span><span class="p">[</span><span class="nx">o</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">:</span><span class="nx">o</span><span class="o">==</span><span class="mi">5</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="o">?</span><span class="p">(</span><span class="nx">w</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span><span class="nx">x</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span><span class="nx">k</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">w</span><span class="p">,</span><span class="nx">x</span><span class="p">))</span><span class="o">:</span><span class="nx">k</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span><span class="nx">h</span><span class="o">*=</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="o">*=</span><span class="nx">n</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">:</span><span class="nx">q</span><span class="o">==</span><span class="s2">&quot;m&quot;</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="o">==</span><span class="mi">7</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">n</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span><span class="nx">j</span><span class="p">.</span><span class="nx">dirtyT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">matrix</span><span class="o">=</span><span class="nx">k</span><span class="p">}</span><span class="nx">b</span><span class="p">.</span><span class="nx">matrix</span><span class="o">=</span><span class="nx">k</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">sx</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">sy</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">deg</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">dx</span><span class="o">=</span><span class="nx">f</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">e</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">dy</span><span class="o">=</span><span class="nx">g</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="o">==</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">==</span><span class="mi">1</span><span class="o">&amp;&amp;!</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">.</span><span class="nx">bbox</span><span class="o">?</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">bbox</span><span class="p">.</span><span class="nx">x</span><span class="o">+=+</span><span class="nx">f</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">bbox</span><span class="p">.</span><span class="nx">y</span><span class="o">+=+</span><span class="nx">g</span><span class="p">)</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">dirtyT</span><span class="o">=</span><span class="mi">1</span><span class="p">},</span><span class="nx">b_</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">switch</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()){</span><span class="k">case</span><span class="s2">&quot;t&quot;</span><span class="o">:</span><span class="k">return</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">];</span><span class="k">case</span><span class="s2">&quot;m&quot;</span><span class="o">:</span><span class="k">return</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">];</span><span class="k">case</span><span class="s2">&quot;r&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">4</span><span class="o">?</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span><span class="o">:</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="mi">0</span><span class="p">];</span><span class="k">case</span><span class="s2">&quot;s&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">5</span><span class="o">?</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">a</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">3</span><span class="o">?</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">]}},</span><span class="nx">ca</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_equaliseTransform</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">c</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\.{3}|\u2026/g</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parseTransformString</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">||</span><span class="p">[],</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parseTransformString</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">||</span><span class="p">[];</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">f</span><span class="o">=</span><span class="p">[],</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">){</span><span class="nx">j</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">||</span><span class="nx">b_</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">g</span><span class="p">]),</span><span class="nx">k</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">||</span><span class="nx">b_</span><span class="p">(</span><span class="nx">j</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="nx">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">||</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">==</span><span class="s2">&quot;r&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">!=</span><span class="nx">k</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">!=</span><span class="nx">k</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">||</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">==</span><span class="s2">&quot;s&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">!=</span><span class="nx">k</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">||</span><span class="nx">j</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">!=</span><span class="nx">k</span><span class="p">[</span><span class="mi">4</span><span class="p">]))</span><span class="k">return</span><span class="p">;</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">f</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">)</span><span class="nx">h</span> <span class="k">in</span> <span class="nx">j</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">][</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="nx">h</span><span class="p">]),</span><span class="nx">h</span> <span class="k">in</span> <span class="nx">k</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="nx">g</span><span class="p">][</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="nx">h</span><span class="p">])}</span><span class="k">return</span><span class="p">{</span><span class="nx">from</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="nx">f</span><span class="p">}};</span><span class="nx">a</span><span class="p">.</span><span class="nx">_getContainer</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="p">;</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;!</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">)</span><span class="o">?</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">tagName</span><span class="p">)</span><span class="k">return</span> <span class="nx">c</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="p">{</span><span class="nx">container</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">pixelWidth</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">pixelHeight</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">}</span><span class="o">:</span><span class="p">{</span><span class="nx">container</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">d</span><span class="p">};</span><span class="k">return</span><span class="p">{</span><span class="nx">container</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">x</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">e</span><span class="p">}}},</span><span class="nx">a</span><span class="p">.</span><span class="nx">pathToRelative</span><span class="o">=</span><span class="nx">bK</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="o">=</span><span class="p">{},</span><span class="nx">a</span><span class="p">.</span><span class="nx">path2curve</span><span class="o">=</span><span class="nx">bR</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">matrix</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">cb</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">)},</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">function</span> <span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">));</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/=</span><span class="nx">b</span><span class="p">),</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/=</span><span class="nx">b</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span><span class="nx">b</span><span class="p">.</span><span class="nx">add</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="p">[[],[],[]],</span><span class="nx">h</span><span class="o">=</span><span class="p">[[</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">c</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">e</span><span class="p">],[</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="nx">i</span><span class="o">=</span><span class="p">[[</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">],[</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">;</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span> <span class="k">instanceof</span> <span class="nx">cb</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="p">[[</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">e</span><span class="p">],[</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">f</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]);</span><span class="k">for</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">j</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span><span class="nx">j</span><span class="o">++</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span><span class="nx">k</span><span class="o">++</span><span class="p">){</span><span class="nx">m</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">)</span><span class="nx">m</span><span class="o">+=</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="nx">l</span><span class="p">]</span><span class="o">*</span><span class="nx">i</span><span class="p">[</span><span class="nx">l</span><span class="p">][</span><span class="nx">k</span><span class="p">];</span><span class="nx">g</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="nx">k</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">c</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">e</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]},</span><span class="nx">b</span><span class="p">.</span><span class="nx">invert</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="o">*</span><span class="nx">a</span><span class="p">.</span><span class="nx">d</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="o">*</span><span class="nx">a</span><span class="p">.</span><span class="nx">c</span><span class="p">;</span><span class="k">return</span> <span class="k">new</span> <span class="nx">cb</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">d</span><span class="o">/</span><span class="nx">b</span><span class="p">,</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="o">/</span><span class="nx">b</span><span class="p">,</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">c</span><span class="o">/</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="o">/</span><span class="nx">b</span><span class="p">,(</span><span class="nx">a</span><span class="p">.</span><span class="nx">c</span><span class="o">*</span><span class="nx">a</span><span class="p">.</span><span class="nx">f</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">d</span><span class="o">*</span><span class="nx">a</span><span class="p">.</span><span class="nx">e</span><span class="p">)</span><span class="o">/</span><span class="nx">b</span><span class="p">,(</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="o">*</span><span class="nx">a</span><span class="p">.</span><span class="nx">e</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="o">*</span><span class="nx">a</span><span class="p">.</span><span class="nx">f</span><span class="p">)</span><span class="o">/</span><span class="nx">b</span><span class="p">)},</span><span class="nx">b</span><span class="p">.</span><span class="nx">clone</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">cb</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">c</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span><span class="p">)},</span><span class="nx">b</span><span class="p">.</span><span class="nx">translate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="nx">b</span><span class="p">.</span><span class="nx">scale</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">b</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">),(</span><span class="nx">c</span><span class="o">||</span><span class="nx">d</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="nx">c</span><span class="o">||</span><span class="nx">d</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="nx">c</span><span class="p">,</span><span class="o">-</span><span class="nx">d</span><span class="p">)},</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">rad</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=+</span><span class="nx">w</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span><span class="nx">f</span><span class="o">=+</span><span class="nx">w</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="o">-</span><span class="nx">f</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="nx">c</span><span class="p">,</span><span class="o">-</span><span class="nx">d</span><span class="p">)},</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="o">+</span><span class="nx">b</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">c</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">e</span><span class="p">},</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="o">+</span><span class="nx">b</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span><span class="p">},</span><span class="nx">b</span><span class="p">.</span><span class="nx">get</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="o">+</span><span class="k">this</span><span class="p">[</span><span class="nx">r</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="mi">97</span><span class="o">+</span><span class="nx">a</span><span class="p">)].</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">)},</span><span class="nx">b</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">svg</span><span class="o">?</span><span class="s2">&quot;matrix(&quot;</span><span class="o">+</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">5</span><span class="p">)].</span><span class="nx">join</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="o">:</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">].</span><span class="nx">join</span><span class="p">()},</span><span class="nx">b</span><span class="p">.</span><span class="nx">toFilter</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;progid:DXImageTransform.Microsoft.Matrix(M11=&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;, M12=&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;, M21=&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;, M22=&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;, Dx=&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;, Dy=&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;, sizingmethod=&#39;auto expand&#39;)&quot;</span><span class="p">},</span><span class="nx">b</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">e</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">)]},</span><span class="nx">b</span><span class="p">.</span><span class="nx">split</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="p">{};</span><span class="nx">b</span><span class="p">.</span><span class="nx">dx</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">e</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">dy</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span><span class="p">;</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">[[</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">c</span><span class="p">],[</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">]];</span><span class="nx">b</span><span class="p">.</span><span class="nx">scalex</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span><span class="nx">d</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">b</span><span class="p">.</span><span class="nx">shear</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nx">b</span><span class="p">.</span><span class="nx">shear</span><span class="p">,</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">b</span><span class="p">.</span><span class="nx">shear</span><span class="p">],</span><span class="nx">b</span><span class="p">.</span><span class="nx">scaley</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])),</span><span class="nx">d</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">b</span><span class="p">.</span><span class="nx">shear</span><span class="o">/=</span><span class="nx">b</span><span class="p">.</span><span class="nx">scaley</span><span class="p">;</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=-</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span><span class="nx">g</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">deg</span><span class="p">(</span><span class="nx">w</span><span class="p">.</span><span class="nx">acos</span><span class="p">(</span><span class="nx">g</span><span class="p">)),</span><span class="nx">f</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="o">=</span><span class="mi">360</span><span class="o">-</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="p">))</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">deg</span><span class="p">(</span><span class="nx">w</span><span class="p">.</span><span class="nx">asin</span><span class="p">(</span><span class="nx">f</span><span class="p">)),</span><span class="nx">b</span><span class="p">.</span><span class="nx">isSimple</span><span class="o">=!+</span><span class="nx">b</span><span class="p">.</span><span class="nx">shear</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">scalex</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">==</span><span class="nx">b</span><span class="p">.</span><span class="nx">scaley</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">||!</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">isSuperSimple</span><span class="o">=!+</span><span class="nx">b</span><span class="p">.</span><span class="nx">shear</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">scalex</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">==</span><span class="nx">b</span><span class="p">.</span><span class="nx">scaley</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">noRotation</span><span class="o">=!+</span><span class="nx">b</span><span class="p">.</span><span class="nx">shear</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="nx">b</span><span class="p">.</span><span class="nx">toTransformString</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="k">this</span><span class="p">[</span><span class="nx">s</span><span class="p">]();</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">isSimple</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">scalex</span><span class="o">=+</span><span class="nx">b</span><span class="p">.</span><span class="nx">scalex</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">scaley</span><span class="o">=+</span><span class="nx">b</span><span class="p">.</span><span class="nx">scaley</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="o">=+</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="k">return</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">dx</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">dy</span><span class="o">?</span><span class="s2">&quot;t&quot;</span><span class="o">+</span><span class="p">[</span><span class="nx">b</span><span class="p">.</span><span class="nx">dx</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">dy</span><span class="p">]</span><span class="o">:</span><span class="nx">p</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">scalex</span><span class="o">!=</span><span class="mi">1</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">scaley</span><span class="o">!=</span><span class="mi">1</span><span class="o">?</span><span class="s2">&quot;s&quot;</span><span class="o">+</span><span class="p">[</span><span class="nx">b</span><span class="p">.</span><span class="nx">scalex</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">scaley</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span><span class="nx">p</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="o">?</span><span class="s2">&quot;r&quot;</span><span class="o">+</span><span class="p">[</span><span class="nx">b</span><span class="p">.</span><span class="nx">rotate</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span><span class="nx">p</span><span class="p">)}</span><span class="k">return</span><span class="s2">&quot;m&quot;</span><span class="o">+</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">5</span><span class="p">)]}}(</span><span class="nx">cb</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span><span class="kd">var</span> <span class="nx">cc</span><span class="o">=</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/Version\/(.*?)\s/</span><span class="p">)</span><span class="o">||</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/Chrome\/(\d+)/</span><span class="p">);</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">vendor</span><span class="o">==</span><span class="s2">&quot;Apple Computer, Inc.&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">cc</span><span class="o">&amp;&amp;</span><span class="nx">cc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">4</span><span class="o">||</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;iP&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">vendor</span><span class="o">==</span><span class="s2">&quot;Google Inc.&quot;</span><span class="o">&amp;&amp;</span><span class="nx">cc</span><span class="o">&amp;&amp;</span><span class="nx">cc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">8</span><span class="o">?</span><span class="nx">k</span><span class="p">.</span><span class="nx">safari</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rect</span><span class="p">(</span><span class="o">-</span><span class="mi">99</span><span class="p">,</span><span class="o">-</span><span class="mi">99</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="mi">99</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="o">+</span><span class="mi">99</span><span class="p">).</span><span class="nx">attr</span><span class="p">({</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">});</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">remove</span><span class="p">()})}</span><span class="o">:</span><span class="nx">k</span><span class="p">.</span><span class="nx">safari</span><span class="o">=</span><span class="nx">be</span><span class="p">;</span><span class="kd">var</span> <span class="nx">cd</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">returnValue</span><span class="o">=!</span><span class="mi">1</span><span class="p">},</span><span class="nx">ce</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">originalEvent</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()},</span><span class="nx">cf</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">cancelBubble</span><span class="o">=!</span><span class="mi">0</span><span class="p">},</span><span class="nx">cg</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">originalEvent</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()},</span><span class="nx">ch</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">)</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="nx">u</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">?</span><span class="nx">u</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">scrollTop</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">clientX</span><span class="o">+</span><span class="nx">i</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">clientY</span><span class="o">+</span><span class="nx">f</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="nx">u</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">b</span><span class="p">))</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">targetTouches</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">targetTouches</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">m</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">targetTouches</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">target</span><span class="o">==</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">targetTouches</span><span class="p">[</span><span class="nx">l</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">originalEvent</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="o">=</span><span class="nx">ce</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="o">=</span><span class="nx">cg</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">)};</span><span class="nx">a</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">}};</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">)</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">scrollTop</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">clientX</span><span class="o">+</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">clientY</span><span class="o">+</span><span class="nx">b</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">preventDefault</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">preventDefault</span><span class="o">||</span><span class="nx">cd</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="o">||</span><span class="nx">cf</span><span class="p">;</span><span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">)};</span><span class="nx">a</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">&quot;on&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">detachEvent</span><span class="p">(</span><span class="s2">&quot;on&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">};</span><span class="k">return</span> <span class="nx">f</span><span class="p">}}(),</span><span class="nx">ci</span><span class="o">=</span><span class="p">[],</span><span class="nx">cj</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">clientY</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">scrollTop</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">ci</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">g</span><span class="o">--</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">ci</span><span class="p">[</span><span class="nx">g</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">j</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">i</span><span class="o">--</span><span class="p">){</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">touches</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">identifier</span><span class="o">==</span><span class="nx">f</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">_drag</span><span class="p">.</span><span class="nx">id</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">clientY</span><span class="p">,(</span><span class="nx">a</span><span class="p">.</span><span class="nx">originalEvent</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">originalEvent</span><span class="o">:</span><span class="nx">a</span><span class="p">).</span><span class="nx">preventDefault</span><span class="p">();</span><span class="k">break</span><span class="p">}}}</span><span class="k">else</span> <span class="nx">a</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="p">;</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">opera</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">k</span><span class="p">),</span><span class="nx">k</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">getElementByPoint</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">k</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="nx">p</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">opera</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">m</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">k</span><span class="p">)),</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.drag.over.&quot;</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">el</span><span class="p">,</span><span class="nx">l</span><span class="p">),</span><span class="nx">b</span><span class="o">+=</span><span class="nx">e</span><span class="p">,</span><span class="nx">c</span><span class="o">+=</span><span class="nx">d</span><span class="p">,</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.drag.move.&quot;</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">move_scope</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">el</span><span class="p">,</span><span class="nx">b</span><span class="o">-</span><span class="nx">f</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">_drag</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">c</span><span class="o">-</span><span class="nx">f</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">_drag</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">)}},</span><span class="nx">ck</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">unmousemove</span><span class="p">(</span><span class="nx">cj</span><span class="p">).</span><span class="nx">unmouseup</span><span class="p">(</span><span class="nx">ck</span><span class="p">);</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">ci</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">d</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">c</span><span class="o">--</span><span class="p">)</span><span class="nx">d</span><span class="o">=</span><span class="nx">ci</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="nx">d</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">_drag</span><span class="o">=</span><span class="p">{},</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.drag.end.&quot;</span><span class="o">+</span><span class="nx">d</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">end_scope</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">start_scope</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">move_scope</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">el</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="nx">ci</span><span class="o">=</span><span class="p">[]},</span><span class="nx">cl</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">el</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">cm</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">cm</span><span class="o">--</span><span class="p">;)(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">cl</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;function&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="o">||</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">unbind</span><span class="o">:</span><span class="nx">ch</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">shape</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">||</span><span class="k">this</span><span class="p">)}));</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">a</span><span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">cl</span><span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="o">||</span><span class="p">[],</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">d</span><span class="o">--</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="p">].</span><span class="nx">name</span><span class="o">==</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="p">].</span><span class="nx">f</span><span class="o">==</span><span class="nx">a</span><span class="p">){</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="p">].</span><span class="nx">unbind</span><span class="p">(),</span><span class="nx">c</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="o">!</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="k">return</span> <span class="k">this</span><span class="p">}})(</span><span class="nx">t</span><span class="p">[</span><span class="nx">cm</span><span class="p">]);</span><span class="nx">cl</span><span class="p">.</span><span class="nx">data</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">bb</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="nx">bb</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span><span class="o">||</span><span class="p">{};</span><span class="k">if</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">1</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">)){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span> <span class="k">in</span> <span class="nx">b</span><span class="p">)</span><span class="nx">b</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">b</span><span class="p">[</span><span class="nx">e</span><span class="p">]);</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.data.get.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="p">[</span><span class="nx">b</span><span class="p">],</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">[</span><span class="nx">b</span><span class="p">]}</span><span class="nx">d</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.data.set.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">removeData</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nx">bb</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="p">{}</span><span class="o">:</span><span class="nx">bb</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">bb</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">][</span><span class="nx">a</span><span class="p">];</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">hover</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">mouseover</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">).</span><span class="nx">mouseout</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="o">||</span><span class="nx">c</span><span class="p">)},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">unhover</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">unmouseover</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">unmouseout</span><span class="p">(</span><span class="nx">b</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">cn</span><span class="o">=</span><span class="p">[];</span><span class="nx">cl</span><span class="p">.</span><span class="nx">drag</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">i</span><span class="p">){(</span><span class="nx">i</span><span class="p">.</span><span class="nx">originalEvent</span><span class="o">||</span><span class="nx">i</span><span class="p">).</span><span class="nx">preventDefault</span><span class="p">();</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">scrollTop</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">_drag</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">clientX</span><span class="o">+</span><span class="nx">k</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_drag</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">clientY</span><span class="o">+</span><span class="nx">j</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_drag</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">identifier</span><span class="p">,</span><span class="o">!</span><span class="nx">ci</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">mousemove</span><span class="p">(</span><span class="nx">cj</span><span class="p">).</span><span class="nx">mouseup</span><span class="p">(</span><span class="nx">ck</span><span class="p">),</span><span class="nx">ci</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">el</span><span class="o">:</span><span class="k">this</span><span class="p">,</span><span class="nx">move_scope</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">start_scope</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">end_scope</span><span class="o">:</span><span class="nx">g</span><span class="p">}),</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">eve</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;raphael.drag.start.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">eve</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;raphael.drag.move.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">eve</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;raphael.drag.end.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.drag.start.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">f</span><span class="o">||</span><span class="nx">e</span><span class="o">||</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">clientX</span><span class="o">+</span><span class="nx">k</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">clientY</span><span class="o">+</span><span class="nx">j</span><span class="p">,</span><span class="nx">i</span><span class="p">)}</span><span class="k">this</span><span class="p">.</span><span class="nx">_drag</span><span class="o">=</span><span class="p">{},</span><span class="nx">cn</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">el</span><span class="o">:</span><span class="k">this</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="nx">i</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">mousedown</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">onDragOver</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">?</span><span class="nx">eve</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;raphael.drag.over.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">eve</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;raphael.drag.over.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">)},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">undrag</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">cn</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">b</span><span class="o">--</span><span class="p">)</span><span class="nx">cn</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">el</span><span class="o">==</span><span class="k">this</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">unmousedown</span><span class="p">(</span><span class="nx">cn</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">start</span><span class="p">),</span><span class="nx">cn</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">eve</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;raphael.drag.*.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">));</span><span class="o">!</span><span class="nx">cn</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">unmousemove</span><span class="p">(</span><span class="nx">cj</span><span class="p">).</span><span class="nx">unmouseup</span><span class="p">(</span><span class="nx">ck</span><span class="p">)},</span><span class="nx">k</span><span class="p">.</span><span class="nx">circle</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">circle</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">||</span><span class="mi">0</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">rect</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">rect</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">||</span><span class="mi">0</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">g</span><span class="p">);</span><span class="k">return</span> <span class="nx">g</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">ellipse</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">ellipse</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">||</span><span class="mi">0</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span><span class="k">return</span> <span class="nx">f</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="o">&amp;&amp;!</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">D</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">E</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">+=</span><span class="nx">p</span><span class="p">);</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">format</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="nx">a</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="k">this</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">c</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">image</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">image</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="o">||</span><span class="s2">&quot;about:blank&quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">||</span><span class="mi">0</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">g</span><span class="p">);</span><span class="k">return</span> <span class="nx">g</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">text</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="p">(</span><span class="nx">d</span><span class="p">));</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">set</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;array&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">splice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">));</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">new</span> <span class="nx">cG</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">c</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">setStart</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">()},</span><span class="nx">k</span><span class="p">.</span><span class="nx">setFinish</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="p">;</span><span class="k">delete</span> <span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">setSize</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">setSize</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)},</span><span class="nx">k</span><span class="p">.</span><span class="nx">setViewBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">setViewBox</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">)},</span><span class="nx">k</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">raphael</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="kd">var</span> <span class="nx">co</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">(),</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">clientTop</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">clientTop</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">clientLeft</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">clientLeft</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">pageYOffset</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">scrollTop</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">)</span><span class="o">-</span><span class="nx">f</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">pageXOffset</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">)</span><span class="o">-</span><span class="nx">g</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">y</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">x</span><span class="o">:</span><span class="nx">j</span><span class="p">}};</span><span class="nx">k</span><span class="p">.</span><span class="nx">getElementByPoint</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">canvas</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">elementFromPoint</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">opera</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">tagName</span><span class="o">==</span><span class="s2">&quot;svg&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">co</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createSVGRect</span><span class="p">();</span><span class="nx">g</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">a</span><span class="o">-</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">b</span><span class="o">-</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getIntersectionList</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="kc">null</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">])}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">!=</span><span class="nx">d</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;!</span><span class="nx">e</span><span class="p">.</span><span class="nx">raphael</span><span class="p">)</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="nx">e</span><span class="o">==</span><span class="nx">c</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">raphael</span><span class="o">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">getById</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">raphaelid</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">getById</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">bottom</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">id</span><span class="o">==</span><span class="nx">a</span><span class="p">)</span><span class="k">return</span> <span class="nx">b</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">next</span><span class="p">}</span><span class="k">return</span> <span class="kc">null</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">forEach</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">bottom</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">next</span><span class="p">}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">getElementsByPoint</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">isPointInside</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">d</span><span class="p">)});</span><span class="k">return</span> <span class="nx">c</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">isPointInside</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">realPath</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">realPath</span><span class="o">||</span><span class="nx">bi</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">](</span><span class="k">this</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">isPointInsidePath</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">getBBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">dirty</span><span class="o">||!</span><span class="nx">b</span><span class="p">.</span><span class="nx">bboxwt</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">realPath</span><span class="o">=</span><span class="nx">bi</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">](</span><span class="k">this</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">bboxwt</span><span class="o">=</span><span class="nx">bI</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">realPath</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">bboxwt</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="nx">cq</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">bboxwt</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">dirty</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">dirtyT</span><span class="o">||!</span><span class="nx">b</span><span class="p">.</span><span class="nx">bbox</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">dirty</span><span class="o">||!</span><span class="k">this</span><span class="p">.</span><span class="nx">realPath</span><span class="p">)</span><span class="nx">b</span><span class="p">.</span><span class="nx">bboxwt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">realPath</span><span class="o">=</span><span class="nx">bi</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">](</span><span class="k">this</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">bbox</span><span class="o">=</span><span class="nx">bI</span><span class="p">(</span><span class="nx">bj</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">realPath</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">matrix</span><span class="p">)),</span><span class="nx">b</span><span class="p">.</span><span class="nx">bbox</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="nx">cq</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">dirtyT</span><span class="o">=</span><span class="mi">0</span><span class="p">}</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">bbox</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">clone</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">]().</span><span class="nx">attr</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">__set__</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">glow</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;text&quot;</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="p">{</span><span class="nx">width</span><span class="o">:</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="o">||</span><span class="mi">10</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">)</span><span class="o">||</span><span class="mi">1</span><span class="p">),</span><span class="nx">fill</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">fill</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">opacity</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">opacity</span><span class="o">||</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="nx">offsetx</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetx</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">offsety</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsety</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">color</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">color</span><span class="o">||</span><span class="s2">&quot;#000&quot;</span><span class="p">},</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">set</span><span class="p">(),</span><span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">realPath</span><span class="o">||</span><span class="nx">bi</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">](</span><span class="k">this</span><span class="p">);</span><span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">matrix</span><span class="o">?</span><span class="nx">bj</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">matrix</span><span class="p">)</span><span class="o">:</span><span class="nx">f</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">c</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="nx">f</span><span class="p">).</span><span class="nx">attr</span><span class="p">({</span><span class="nx">stroke</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">color</span><span class="p">,</span><span class="nx">fill</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">fill</span><span class="o">?</span><span class="nx">b</span><span class="p">.</span><span class="nx">color</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="s2">&quot;stroke-linejoin&quot;</span><span class="o">:</span><span class="s2">&quot;round&quot;</span><span class="p">,</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="o">:</span><span class="s2">&quot;round&quot;</span><span class="p">,</span><span class="s2">&quot;stroke-width&quot;</span><span class="o">:+</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">c</span><span class="o">*</span><span class="nx">g</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="nx">opacity</span><span class="o">:+</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">opacity</span><span class="o">/</span><span class="nx">c</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">3</span><span class="p">)}));</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">translate</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">offsetx</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">offsety</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">cr</span><span class="o">=</span><span class="p">{},</span><span class="nx">cs</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">){</span><span class="k">return</span> <span class="nx">j</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nx">bB</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">findDotsAtSegment</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">bC</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">))},</span><span class="nx">ct</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">bR</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="kd">var</span> <span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="p">{},</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">p</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">o</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;M&quot;</span><span class="p">)</span><span class="nx">g</span><span class="o">=+</span><span class="nx">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">h</span><span class="o">=+</span><span class="nx">i</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="k">else</span><span class="p">{</span><span class="nx">j</span><span class="o">=</span><span class="nx">cs</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">6</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">+</span><span class="nx">j</span><span class="o">&gt;</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">&amp;&amp;!</span><span class="nx">l</span><span class="p">.</span><span class="nx">start</span><span class="p">){</span><span class="nx">m</span><span class="o">=</span><span class="nx">cs</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="nx">e</span><span class="o">-</span><span class="nx">n</span><span class="p">),</span><span class="nx">k</span><span class="o">+=</span><span class="p">[</span><span class="s2">&quot;C&quot;</span><span class="o">+</span><span class="nx">m</span><span class="p">.</span><span class="nx">start</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">start</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="k">return</span> <span class="nx">k</span><span class="p">;</span><span class="nx">l</span><span class="p">.</span><span class="nx">start</span><span class="o">=</span><span class="nx">k</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="o">+</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="s2">&quot;C&quot;</span><span class="o">+</span><span class="nx">m</span><span class="p">.</span><span class="nx">n</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">n</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">end</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">end</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">6</span><span class="p">]].</span><span class="nx">join</span><span class="p">(),</span><span class="nx">n</span><span class="o">+=</span><span class="nx">j</span><span class="p">,</span><span class="nx">g</span><span class="o">=+</span><span class="nx">i</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">h</span><span class="o">=+</span><span class="nx">i</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">){</span><span class="nx">m</span><span class="o">=</span><span class="nx">cs</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="nx">e</span><span class="o">-</span><span class="nx">n</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">alpha</span><span class="o">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">alpha</span><span class="p">}}}</span><span class="nx">n</span><span class="o">+=</span><span class="nx">j</span><span class="p">,</span><span class="nx">g</span><span class="o">=+</span><span class="nx">i</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="nx">h</span><span class="o">=+</span><span class="nx">i</span><span class="p">[</span><span class="mi">6</span><span class="p">]}</span><span class="nx">k</span><span class="o">+=</span><span class="nx">i</span><span class="p">.</span><span class="nx">shift</span><span class="p">()</span><span class="o">+</span><span class="nx">i</span><span class="p">}</span><span class="nx">l</span><span class="p">.</span><span class="nx">end</span><span class="o">=</span><span class="nx">k</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">b</span><span class="o">?</span><span class="nx">n</span><span class="o">:</span><span class="nx">c</span><span class="o">?</span><span class="nx">l</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">findDotsAtSegment</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="mi">1</span><span class="p">),</span><span class="nx">m</span><span class="p">.</span><span class="nx">alpha</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">alpha</span><span class="o">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">alpha</span><span class="p">});</span><span class="k">return</span> <span class="nx">m</span><span class="p">}},</span><span class="nx">cu</span><span class="o">=</span><span class="nx">ct</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="nx">cv</span><span class="o">=</span><span class="nx">ct</span><span class="p">(),</span><span class="nx">cw</span><span class="o">=</span><span class="nx">ct</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="o">=</span><span class="nx">cu</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">getPointAtLength</span><span class="o">=</span><span class="nx">cv</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">getSubpath</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">-</span><span class="nx">c</span><span class="o">&lt;</span><span class="mi">1</span><span class="nx">e</span><span class="o">-</span><span class="mi">6</span><span class="p">)</span><span class="k">return</span> <span class="nx">cw</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">).</span><span class="nx">end</span><span class="p">;</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">cw</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="o">?</span><span class="nx">cw</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">).</span><span class="nx">end</span><span class="o">:</span><span class="nx">d</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;path&quot;</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">();</span><span class="k">return</span> <span class="nx">cu</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">path</span><span class="p">)}},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">getPointAtLength</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;path&quot;</span><span class="p">)</span><span class="k">return</span> <span class="nx">cv</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span><span class="nx">a</span><span class="p">)},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">getSubpath</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;path&quot;</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getSubpath</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">cx</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">easing_formulas</span><span class="o">=</span><span class="p">{</span><span class="nx">linear</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="s2">&quot;&lt;&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">A</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mf">1.7</span><span class="p">)},</span><span class="s2">&quot;&gt;&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">A</span><span class="p">(</span><span class="nx">a</span><span class="p">,.</span><span class="mi">48</span><span class="p">)},</span><span class="s2">&quot;&lt;&gt;&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="p">.</span><span class="mi">48</span><span class="o">-</span><span class="nx">a</span><span class="o">/</span><span class="mf">1.04</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(.</span><span class="mi">1734</span><span class="o">+</span><span class="nx">b</span><span class="o">*</span><span class="nx">b</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="o">-</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">A</span><span class="p">(</span><span class="nx">z</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">d</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">),</span><span class="nx">f</span><span class="o">=-</span><span class="nx">c</span><span class="o">-</span><span class="nx">b</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">A</span><span class="p">(</span><span class="nx">z</span><span class="p">(</span><span class="nx">f</span><span class="p">),</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">f</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="o">+</span><span class="nx">g</span><span class="o">+</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span><span class="k">return</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">h</span><span class="p">)</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="nx">h</span><span class="o">*</span><span class="nx">h</span><span class="o">+</span><span class="nx">h</span><span class="o">*</span><span class="nx">h</span><span class="o">*</span><span class="nx">h</span><span class="p">},</span><span class="nx">backIn</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mf">1.70158</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="o">*</span><span class="nx">a</span><span class="o">*</span><span class="p">((</span><span class="nx">b</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="nx">a</span><span class="o">-</span><span class="nx">b</span><span class="p">)},</span><span class="nx">backOut</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mf">1.70158</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="o">*</span><span class="nx">a</span><span class="o">*</span><span class="p">((</span><span class="nx">b</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="nx">b</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">},</span><span class="nx">elastic</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">==!!</span><span class="nx">a</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="nx">A</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="o">*</span><span class="nx">a</span><span class="p">)</span><span class="o">*</span><span class="nx">w</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">a</span><span class="o">-</span><span class="p">.</span><span class="mi">075</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="nx">B</span><span class="o">/</span><span class="p">.</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">},</span><span class="nx">bounce</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mf">7.5625</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="mf">2.75</span><span class="p">,</span><span class="nx">d</span><span class="p">;</span><span class="nx">a</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">/</span><span class="nx">c</span><span class="o">?</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="o">*</span><span class="nx">a</span><span class="o">*</span><span class="nx">a</span><span class="o">:</span><span class="nx">a</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">/</span><span class="nx">c</span><span class="o">?</span><span class="p">(</span><span class="nx">a</span><span class="o">-=</span><span class="mf">1.5</span><span class="o">/</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="o">*</span><span class="nx">a</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="p">.</span><span class="mi">75</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="o">&lt;</span><span class="mf">2.5</span><span class="o">/</span><span class="nx">c</span><span class="o">?</span><span class="p">(</span><span class="nx">a</span><span class="o">-=</span><span class="mf">2.25</span><span class="o">/</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="o">*</span><span class="nx">a</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="p">.</span><span class="mi">9375</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">a</span><span class="o">-=</span><span class="mf">2.625</span><span class="o">/</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="o">*</span><span class="nx">a</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="p">.</span><span class="mi">984375</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">}};</span><span class="nx">cx</span><span class="p">.</span><span class="nx">easeIn</span><span class="o">=</span><span class="nx">cx</span><span class="p">[</span><span class="s2">&quot;ease-in&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">cx</span><span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">],</span><span class="nx">cx</span><span class="p">.</span><span class="nx">easeOut</span><span class="o">=</span><span class="nx">cx</span><span class="p">[</span><span class="s2">&quot;ease-out&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">cx</span><span class="p">[</span><span class="s2">&quot;&gt;&quot;</span><span class="p">],</span><span class="nx">cx</span><span class="p">.</span><span class="nx">easeInOut</span><span class="o">=</span><span class="nx">cx</span><span class="p">[</span><span class="s2">&quot;ease-in-out&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">cx</span><span class="p">[</span><span class="s2">&quot;&lt;&gt;&quot;</span><span class="p">],</span><span class="nx">cx</span><span class="p">[</span><span class="s2">&quot;back-in&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">cx</span><span class="p">.</span><span class="nx">backIn</span><span class="p">,</span><span class="nx">cx</span><span class="p">[</span><span class="s2">&quot;back-out&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">cx</span><span class="p">.</span><span class="nx">backOut</span><span class="p">;</span><span class="kd">var</span> <span class="nx">cy</span><span class="o">=</span><span class="p">[],</span><span class="nx">cz</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">requestAnimationFrame</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">webkitRequestAnimationFrame</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">mozRequestAnimationFrame</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">oRequestAnimationFrame</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">msRequestAnimationFrame</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">16</span><span class="p">)},</span><span class="nx">cA</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=+</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">cy</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">removed</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">paused</span><span class="p">)</span><span class="k">continue</span><span class="p">;</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="o">-</span><span class="nx">d</span><span class="p">.</span><span class="nx">start</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">ms</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">easing</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">from</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">diff</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">to</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">t</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">el</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="p">{},</span><span class="nx">p</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="p">{},</span><span class="nx">s</span><span class="p">;</span><span class="nx">d</span><span class="p">.</span><span class="nx">initstatus</span><span class="o">?</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">initstatus</span><span class="o">*</span><span class="nx">d</span><span class="p">.</span><span class="nx">anim</span><span class="p">.</span><span class="nx">top</span><span class="o">-</span><span class="nx">d</span><span class="p">.</span><span class="nx">prev</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">percent</span><span class="o">-</span><span class="nx">d</span><span class="p">.</span><span class="nx">prev</span><span class="p">)</span><span class="o">*</span><span class="nx">f</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">status</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">initstatus</span><span class="p">,</span><span class="k">delete</span> <span class="nx">d</span><span class="p">.</span><span class="nx">initstatus</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">stop</span><span class="o">&amp;&amp;</span><span class="nx">cy</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">c</span><span class="o">--</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">status</span><span class="o">=</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">prev</span><span class="o">+</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">percent</span><span class="o">-</span><span class="nx">d</span><span class="p">.</span><span class="nx">prev</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">/</span><span class="nx">f</span><span class="p">))</span><span class="o">/</span><span class="nx">d</span><span class="p">.</span><span class="nx">anim</span><span class="p">.</span><span class="nx">top</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span><span class="k">continue</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">h</span><span class="p">(</span><span class="nx">e</span><span class="o">/</span><span class="nx">f</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">u</span> <span class="k">in</span> <span class="nx">i</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">u</span><span class="p">)){</span><span class="k">switch</span><span class="p">(</span><span class="nx">U</span><span class="p">[</span><span class="nx">u</span><span class="p">]){</span><span class="k">case</span> <span class="nx">C</span><span class="o">:</span><span class="nx">p</span><span class="o">=+</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nx">f</span><span class="o">*</span><span class="nx">j</span><span class="p">[</span><span class="nx">u</span><span class="p">];</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;colour&quot;</span><span class="o">:</span><span class="nx">p</span><span class="o">=</span><span class="s2">&quot;rgb(&quot;</span><span class="o">+</span><span class="p">[</span><span class="nx">cB</span><span class="p">(</span><span class="nx">O</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">r</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nx">f</span><span class="o">*</span><span class="nx">j</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">r</span><span class="p">)),</span><span class="nx">cB</span><span class="p">(</span><span class="nx">O</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">g</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nx">f</span><span class="o">*</span><span class="nx">j</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">g</span><span class="p">)),</span><span class="nx">cB</span><span class="p">(</span><span class="nx">O</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">b</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nx">f</span><span class="o">*</span><span class="nx">j</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">b</span><span class="p">))].</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;path&quot;</span><span class="o">:</span><span class="nx">p</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">v</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">v</span><span class="o">&lt;</span><span class="nx">w</span><span class="p">;</span><span class="nx">v</span><span class="o">++</span><span class="p">){</span><span class="nx">p</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">][</span><span class="mi">0</span><span class="p">]];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">x</span><span class="o">&lt;</span><span class="nx">y</span><span class="p">;</span><span class="nx">x</span><span class="o">++</span><span class="p">)</span><span class="nx">p</span><span class="p">[</span><span class="nx">v</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="o">=+</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nx">f</span><span class="o">*</span><span class="nx">j</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">][</span><span class="nx">x</span><span class="p">];</span><span class="nx">p</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span><span class="o">=</span><span class="nx">p</span><span class="p">[</span><span class="nx">v</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="nx">q</span><span class="p">)}</span><span class="nx">p</span><span class="o">=</span><span class="nx">p</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">q</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;transform&quot;</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">real</span><span class="p">){</span><span class="nx">p</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="nx">v</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">v</span><span class="o">&lt;</span><span class="nx">w</span><span class="p">;</span><span class="nx">v</span><span class="o">++</span><span class="p">){</span><span class="nx">p</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">][</span><span class="mi">0</span><span class="p">]];</span><span class="k">for</span><span class="p">(</span><span class="nx">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">x</span><span class="o">&lt;</span><span class="nx">y</span><span class="p">;</span><span class="nx">x</span><span class="o">++</span><span class="p">)</span><span class="nx">p</span><span class="p">[</span><span class="nx">v</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nx">f</span><span class="o">*</span><span class="nx">j</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">][</span><span class="nx">x</span><span class="p">]}}</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">z</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="o">+</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">a</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nx">f</span><span class="o">*</span><span class="nx">j</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">a</span><span class="p">]};</span><span class="nx">p</span><span class="o">=</span><span class="p">[[</span><span class="s2">&quot;m&quot;</span><span class="p">,</span><span class="nx">z</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="nx">z</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="nx">z</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="nx">z</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="nx">z</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="nx">z</span><span class="p">(</span><span class="mi">5</span><span class="p">)]]}</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;csv&quot;</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="nx">u</span><span class="o">==</span><span class="s2">&quot;clip-rect&quot;</span><span class="p">){</span><span class="nx">p</span><span class="o">=</span><span class="p">[],</span><span class="nx">v</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">v</span><span class="o">--</span><span class="p">)</span><span class="nx">p</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span><span class="o">=+</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nx">f</span><span class="o">*</span><span class="nx">j</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">]}</span><span class="k">break</span><span class="p">;</span><span class="k">default</span><span class="o">:</span><span class="kd">var</span> <span class="nx">A</span><span class="o">=</span><span class="p">[][</span><span class="nx">n</span><span class="p">](</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">]);</span><span class="nx">p</span><span class="o">=</span><span class="p">[],</span><span class="nx">v</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">v</span><span class="o">--</span><span class="p">)</span><span class="nx">p</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span><span class="o">=+</span><span class="nx">A</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nx">f</span><span class="o">*</span><span class="nx">j</span><span class="p">[</span><span class="nx">u</span><span class="p">][</span><span class="nx">v</span><span class="p">]}</span><span class="nx">o</span><span class="p">[</span><span class="nx">u</span><span class="p">]</span><span class="o">=</span><span class="nx">p</span><span class="p">}</span><span class="nx">m</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.anim.frame.&quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)})}(</span><span class="nx">m</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">anim</span><span class="p">)}</span><span class="k">else</span><span class="p">{(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.anim.frame.&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.anim.finish.&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;function&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">c</span><span class="p">)})})(</span><span class="nx">d</span><span class="p">.</span><span class="nx">callback</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">anim</span><span class="p">),</span><span class="nx">m</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">k</span><span class="p">),</span><span class="nx">cy</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">c</span><span class="o">--</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">repeat</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;!</span><span class="nx">d</span><span class="p">.</span><span class="nx">next</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">s</span> <span class="k">in</span> <span class="nx">k</span><span class="p">)</span><span class="nx">k</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">s</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">totalOrigin</span><span class="p">[</span><span class="nx">s</span><span class="p">]);</span><span class="nx">d</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">r</span><span class="p">),</span><span class="nx">cE</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">anim</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">el</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">anim</span><span class="p">.</span><span class="nx">percents</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="kc">null</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">totalOrigin</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">repeat</span><span class="o">-</span><span class="mi">1</span><span class="p">)}</span><span class="nx">d</span><span class="p">.</span><span class="nx">next</span><span class="o">&amp;&amp;!</span><span class="nx">d</span><span class="p">.</span><span class="nx">stop</span><span class="o">&amp;&amp;</span><span class="nx">cE</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">anim</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">el</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">next</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">totalOrigin</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">repeat</span><span class="p">)}}</span><span class="nx">a</span><span class="p">.</span><span class="nx">svg</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">.</span><span class="nx">paper</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">safari</span><span class="p">(),</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">cz</span><span class="p">(</span><span class="nx">cA</span><span class="p">)},</span><span class="nx">cB</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">&gt;</span><span class="mi">255</span><span class="o">?</span><span class="mi">255</span><span class="o">:</span><span class="nx">a</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">a</span><span class="p">};</span><span class="nx">cl</span><span class="p">.</span><span class="nx">animateWith</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">removed</span><span class="p">){</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">h</span><span class="p">);</span><span class="k">return</span> <span class="nx">h</span><span class="p">}</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">d</span> <span class="k">instanceof</span> <span class="nx">cD</span><span class="o">?</span><span class="nx">d</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">animation</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">),</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">;</span><span class="nx">cE</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">percents</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="kc">null</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">attr</span><span class="p">());</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">m</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">cy</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">anim</span><span class="o">==</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">cy</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">el</span><span class="o">==</span><span class="nx">b</span><span class="p">){</span><span class="nx">cy</span><span class="p">[</span><span class="nx">m</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">start</span><span class="o">=</span><span class="nx">cy</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">start</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="k">return</span> <span class="nx">h</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">onAnimation</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">?</span><span class="nx">eve</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;raphael.anim.frame.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">eve</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;raphael.anim.frame.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cD</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">delay</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">new</span> <span class="nx">cD</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">anim</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">ms</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">times</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">times</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">del</span><span class="o">=+</span><span class="nx">a</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="nx">cD</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">repeat</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">new</span> <span class="nx">cD</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">anim</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">ms</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">del</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">del</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">times</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">||</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">animation</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span> <span class="k">instanceof</span> <span class="nx">cD</span><span class="p">)</span><span class="k">return</span> <span class="nx">b</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;function&quot;</span><span class="p">)</span><span class="o">||!</span><span class="nx">d</span><span class="p">)</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">||</span><span class="nx">d</span><span class="o">||</span><span class="kc">null</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="nb">Object</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">c</span><span class="o">=+</span><span class="nx">c</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="p">{},</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">b</span><span class="p">)</span><span class="nx">b</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">Q</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">!=</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">Q</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;%&quot;</span><span class="o">!=</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">h</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">cD</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">easing</span><span class="o">=</span><span class="nx">d</span><span class="p">),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">callback</span><span class="o">=</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="k">new</span> <span class="nx">cD</span><span class="p">({</span><span class="mi">100</span><span class="o">:</span><span class="nx">f</span><span class="p">},</span><span class="nx">c</span><span class="p">)},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">animate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">removed</span><span class="p">){</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span><span class="k">return</span> <span class="nx">f</span><span class="p">}</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">b</span> <span class="k">instanceof</span> <span class="nx">cD</span><span class="o">?</span><span class="nx">b</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">animation</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="nx">cE</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">percents</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="kc">null</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">attr</span><span class="p">());</span><span class="k">return</span> <span class="nx">f</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">setTime</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">y</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">ms</span><span class="p">)</span><span class="o">/</span><span class="nx">a</span><span class="p">.</span><span class="nx">ms</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">status</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="p">[],</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span><span class="nx">cE</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">y</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="nx">e</span><span class="o">=</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">cy</span><span class="p">[</span><span class="nx">d</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">id</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">anim</span><span class="o">==</span><span class="nx">a</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">status</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">anim</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">anim</span><span class="p">,</span><span class="nx">status</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">status</span><span class="p">})}}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="k">return</span> <span class="mi">0</span><span class="p">;</span><span class="k">return</span> <span class="nx">c</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">pause</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">)</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">el</span><span class="p">.</span><span class="nx">id</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="o">||</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">anim</span><span class="o">==</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.anim.pause.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">anim</span><span class="p">)</span><span class="o">!==!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">paused</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">resume</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">el</span><span class="p">.</span><span class="nx">id</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="o">||</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">anim</span><span class="o">==</span><span class="nx">a</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">];</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.anim.resume.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">anim</span><span class="p">)</span><span class="o">!==!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">delete</span> <span class="nx">c</span><span class="p">.</span><span class="nx">paused</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">anim</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">status</span><span class="p">))}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cl</span><span class="p">.</span><span class="nx">stop</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="nx">cy</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">)</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">el</span><span class="p">.</span><span class="nx">id</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="o">||</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">anim</span><span class="o">==</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.anim.stop.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="nx">cy</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">anim</span><span class="p">)</span><span class="o">!==!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">cy</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">b</span><span class="o">--</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">eve</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;raphael.remove&quot;</span><span class="p">,</span><span class="nx">cF</span><span class="p">),</span><span class="nx">eve</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;raphael.clear&quot;</span><span class="p">,</span><span class="nx">cF</span><span class="p">),</span><span class="nx">cl</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;Raphaël’s object&quot;</span><span class="p">};</span><span class="kd">var</span> <span class="nx">cG</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;set&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">)</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">constructor</span><span class="o">==</span><span class="nx">cl</span><span class="p">.</span><span class="nx">constructor</span><span class="o">||</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">constructor</span><span class="o">==</span><span class="nx">cG</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">++</span><span class="p">)},</span><span class="nx">cH</span><span class="o">=</span><span class="nx">cG</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span><span class="nx">cH</span><span class="p">.</span><span class="nx">push</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">)</span><span class="nx">a</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">constructor</span><span class="o">==</span><span class="nx">cl</span><span class="p">.</span><span class="nx">constructor</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">constructor</span><span class="o">==</span><span class="nx">cG</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">++</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cH</span><span class="p">.</span><span class="nx">pop</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="k">this</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">--</span><span class="p">];</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">pop</span><span class="p">()},</span><span class="nx">cH</span><span class="p">.</span><span class="nx">forEach</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="nx">c</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">cI</span> <span class="k">in</span> <span class="nx">cl</span><span class="p">)</span><span class="nx">cl</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">cI</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">cH</span><span class="p">[</span><span class="nx">cI</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">arguments</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="p">[</span><span class="nx">a</span><span class="p">][</span><span class="nx">m</span><span class="p">](</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">)})}}(</span><span class="nx">cI</span><span class="p">));</span><span class="nx">cH</span><span class="p">.</span><span class="nx">attr</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">E</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s2">&quot;object&quot;</span><span class="p">))</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">d</span><span class="p">].</span><span class="nx">attr</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">d</span><span class="p">]);</span><span class="k">else</span> <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">g</span><span class="p">;</span><span class="nx">f</span><span class="o">++</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">f</span><span class="p">].</span><span class="nx">attr</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cH</span><span class="p">.</span><span class="nx">clear</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">while</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">pop</span><span class="p">()},</span><span class="nx">cH</span><span class="p">.</span><span class="nx">splice</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">x</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">+</span><span class="nx">a</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">));</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">[],</span><span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">f</span><span class="o">=</span><span class="p">[],</span><span class="nx">g</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">)</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">arguments</span><span class="p">[</span><span class="nx">g</span><span class="p">]);</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">a</span><span class="o">+</span><span class="nx">g</span><span class="p">]);</span><span class="k">for</span><span class="p">(;</span><span class="nx">g</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="nx">a</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">)</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">a</span><span class="o">+</span><span class="nx">g</span><span class="p">]);</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="o">+</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">a</span><span class="o">+</span><span class="nx">g</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">a</span><span class="o">+</span><span class="nx">g</span><span class="p">]</span><span class="o">=</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="o">?</span><span class="nx">f</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">:</span><span class="nx">d</span><span class="p">[</span><span class="nx">g</span><span class="o">-</span><span class="nx">h</span><span class="p">];</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">-=</span><span class="nx">b</span><span class="o">-</span><span class="nx">h</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">g</span><span class="p">])</span><span class="k">delete</span> <span class="k">this</span><span class="p">[</span><span class="nx">g</span><span class="o">++</span><span class="p">];</span><span class="k">return</span> <span class="k">new</span> <span class="nx">cG</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">cH</span><span class="p">.</span><span class="nx">exclude</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">==</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">}},</span><span class="nx">cH</span><span class="p">.</span><span class="nx">animate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){(</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;function&quot;</span><span class="p">)</span><span class="o">||!</span><span class="nx">d</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="o">||</span><span class="kc">null</span><span class="p">);</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">j</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="o">!--</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">i</span><span class="p">)}),</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">D</span><span class="p">)</span><span class="o">?</span><span class="nx">d</span><span class="o">:</span><span class="nx">j</span><span class="p">;</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">animation</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">j</span><span class="p">);</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="o">--</span><span class="nx">g</span><span class="p">].</span><span class="nx">animate</span><span class="p">(</span><span class="nx">k</span><span class="p">);</span><span class="k">while</span><span class="p">(</span><span class="nx">g</span><span class="o">--</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">&amp;&amp;!</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">removed</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">animateWith</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">k</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cH</span><span class="p">.</span><span class="nx">insertAfter</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">b</span><span class="o">--</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">insertAfter</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">cH</span><span class="p">.</span><span class="nx">getBBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="p">[],</span><span class="nx">b</span><span class="o">=</span><span class="p">[],</span><span class="nx">c</span><span class="o">=</span><span class="p">[],</span><span class="nx">d</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">--</span><span class="p">;)</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">removed</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">getBBox</span><span class="p">();</span><span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">width</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">height</span><span class="p">)}</span><span class="nx">a</span><span class="o">=</span><span class="nx">y</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="nx">b</span><span class="o">=</span><span class="nx">y</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">x</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">x</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">x2</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">y2</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">c</span><span class="o">-</span><span class="nx">a</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">d</span><span class="o">-</span><span class="nx">b</span><span class="p">}},</span><span class="nx">cH</span><span class="p">.</span><span class="nx">clone</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="k">new</span> <span class="nx">cG</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">)</span><span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">clone</span><span class="p">());</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">cH</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;Raphaël‘s set&quot;</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">registerFont</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">face</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">fonts</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">fonts</span><span class="o">||</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="p">{</span><span class="nx">w</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">w</span><span class="p">,</span><span class="nx">face</span><span class="o">:</span><span class="p">{},</span><span class="nx">glyphs</span><span class="o">:</span><span class="p">{}},</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="s2">&quot;font-family&quot;</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">d</span> <span class="k">in</span> <span class="nx">a</span><span class="p">.</span><span class="nx">face</span><span class="p">)</span><span class="nx">a</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">d</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="nx">d</span><span class="p">]);</span><span class="k">this</span><span class="p">.</span><span class="nx">fonts</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">fonts</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">fonts</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="nx">b</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">svg</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="s2">&quot;units-per-em&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">R</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="s2">&quot;units-per-em&quot;</span><span class="p">],</span><span class="mi">10</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span> <span class="k">in</span> <span class="nx">a</span><span class="p">.</span><span class="nx">glyphs</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">glyphs</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">e</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">glyphs</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="nx">b</span><span class="p">.</span><span class="nx">glyphs</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">w</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">w</span><span class="p">,</span><span class="nx">k</span><span class="o">:</span><span class="p">{},</span><span class="nx">d</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="s2">&quot;M&quot;</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">d</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[mlcxtrv]/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">l</span><span class="o">:</span><span class="s2">&quot;L&quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">:</span><span class="s2">&quot;C&quot;</span><span class="p">,</span><span class="nx">x</span><span class="o">:</span><span class="s2">&quot;z&quot;</span><span class="p">,</span><span class="nx">t</span><span class="o">:</span><span class="s2">&quot;m&quot;</span><span class="p">,</span><span class="nx">r</span><span class="o">:</span><span class="s2">&quot;l&quot;</span><span class="p">,</span><span class="nx">v</span><span class="o">:</span><span class="s2">&quot;c&quot;</span><span class="p">}[</span><span class="nx">a</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;M&quot;</span><span class="p">})</span><span class="o">+</span><span class="s2">&quot;z&quot;</span><span class="p">};</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">k</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">h</span> <span class="k">in</span> <span class="nx">f</span><span class="p">.</span><span class="nx">k</span><span class="p">)</span><span class="nx">f</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">h</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">glyphs</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">k</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">k</span><span class="p">[</span><span class="nx">h</span><span class="p">])}}</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">k</span><span class="p">.</span><span class="nx">getFont</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">||</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="o">||</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">=+</span><span class="nx">c</span><span class="o">||</span><span class="p">{</span><span class="nx">normal</span><span class="o">:</span><span class="mi">400</span><span class="p">,</span><span class="nx">bold</span><span class="o">:</span><span class="mi">700</span><span class="p">,</span><span class="nx">lighter</span><span class="o">:</span><span class="mi">300</span><span class="p">,</span><span class="nx">bolder</span><span class="o">:</span><span class="mi">800</span><span class="p">}[</span><span class="nx">c</span><span class="p">]</span><span class="o">||</span><span class="mi">400</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">a</span><span class="p">.</span><span class="nx">fonts</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">fonts</span><span class="p">[</span><span class="nx">b</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;(^|\\s)&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[^\w\d\s+!~.:_-]/g</span><span class="p">,</span><span class="nx">p</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;(\\s|$)&quot;</span><span class="p">,</span><span class="s2">&quot;i&quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">a</span><span class="p">.</span><span class="nx">fonts</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">fonts</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">i</span><span class="p">)){</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">fonts</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="k">break</span><span class="p">}}</span><span class="kd">var</span> <span class="nx">j</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">l</span><span class="p">;</span><span class="nx">k</span><span class="o">++</span><span class="p">){</span><span class="nx">j</span><span class="o">=</span><span class="nx">f</span><span class="p">[</span><span class="nx">k</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="s2">&quot;font-weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="s2">&quot;font-style&quot;</span><span class="p">]</span><span class="o">==</span><span class="nx">d</span><span class="o">||!</span><span class="nx">j</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="s2">&quot;font-style&quot;</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="s2">&quot;font-stretch&quot;</span><span class="p">]</span><span class="o">==</span><span class="nx">e</span><span class="p">)</span><span class="k">break</span><span class="p">}</span><span class="k">return</span> <span class="nx">j</span><span class="p">}},</span><span class="nx">k</span><span class="p">.</span><span class="nx">print</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="o">||</span><span class="s2">&quot;middle&quot;</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="nx">y</span><span class="p">(</span><span class="nx">i</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">e</span><span class="p">)[</span><span class="nx">s</span><span class="p">](</span><span class="nx">p</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">p</span><span class="p">,</span><span class="nx">n</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getFont</span><span class="p">(</span><span class="nx">f</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">){</span><span class="nx">n</span><span class="o">=</span><span class="p">(</span><span class="nx">g</span><span class="o">||</span><span class="mi">16</span><span class="p">)</span><span class="o">/</span><span class="nx">f</span><span class="p">.</span><span class="nx">face</span><span class="p">[</span><span class="s2">&quot;units-per-em&quot;</span><span class="p">];</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">face</span><span class="p">.</span><span class="nx">bbox</span><span class="p">[</span><span class="nx">s</span><span class="p">](</span><span class="nx">c</span><span class="p">),</span><span class="nx">q</span><span class="o">=+</span><span class="nx">o</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">t</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="nx">o</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">u</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">v</span><span class="o">=+</span><span class="nx">o</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="p">(</span><span class="nx">h</span><span class="o">==</span><span class="s2">&quot;baseline&quot;</span><span class="o">?</span><span class="nx">t</span><span class="o">+</span> <span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">face</span><span class="p">.</span><span class="nx">descent</span><span class="o">:</span><span class="nx">t</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">w</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">w</span><span class="o">&lt;</span><span class="nx">z</span><span class="p">;</span><span class="nx">w</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">w</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;\n&quot;</span><span class="p">)</span><span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">B</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">u</span><span class="o">+=</span><span class="nx">t</span><span class="p">;</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">A</span><span class="o">=</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">glyphs</span><span class="p">[</span><span class="nx">j</span><span class="p">[</span><span class="nx">w</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">||</span><span class="p">{},</span><span class="nx">B</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">glyphs</span><span class="p">[</span><span class="nx">j</span><span class="p">[</span><span class="nx">w</span><span class="p">]];</span><span class="nx">k</span><span class="o">+=</span><span class="nx">l</span><span class="o">?</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="nx">w</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">w</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="nx">k</span><span class="o">&amp;&amp;</span><span class="nx">A</span><span class="p">.</span><span class="nx">k</span><span class="p">[</span><span class="nx">j</span><span class="p">[</span><span class="nx">w</span><span class="p">]]</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">w</span><span class="o">*</span><span class="nx">i</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="mi">1</span><span class="p">}</span><span class="nx">B</span><span class="o">&amp;&amp;</span><span class="nx">B</span><span class="p">.</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="o">+=</span><span class="nx">a</span><span class="p">.</span><span class="nx">transformPath</span><span class="p">(</span><span class="nx">B</span><span class="p">.</span><span class="nx">d</span><span class="p">,[</span><span class="s2">&quot;t&quot;</span><span class="p">,</span><span class="nx">k</span><span class="o">*</span><span class="nx">n</span><span class="p">,</span><span class="nx">u</span><span class="o">*</span><span class="nx">n</span><span class="p">,</span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">v</span><span class="p">,</span><span class="s2">&quot;t&quot;</span><span class="p">,(</span><span class="nx">b</span><span class="o">-</span><span class="nx">q</span><span class="p">)</span><span class="o">/</span><span class="nx">n</span><span class="p">,(</span><span class="nx">d</span><span class="o">-</span><span class="nx">v</span><span class="p">)</span><span class="o">/</span><span class="nx">n</span><span class="p">]))}}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="nx">m</span><span class="p">).</span><span class="nx">attr</span><span class="p">({</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;#000&quot;</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">})},</span><span class="nx">k</span><span class="p">.</span><span class="nx">add</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;array&quot;</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(),</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">h</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">)</span><span class="nx">h</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">||</span><span class="p">{},</span><span class="nx">d</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">h</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">h</span><span class="p">.</span><span class="nx">type</span><span class="p">]().</span><span class="nx">attr</span><span class="p">(</span><span class="nx">h</span><span class="p">))}</span><span class="k">return</span> <span class="nx">c</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">format</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">E</span><span class="p">)</span><span class="o">?</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">n</span><span class="p">](</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="nx">arguments</span><span class="p">;</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">D</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">d</span><span class="p">[</span><span class="o">++</span><span class="nx">b</span><span class="p">]</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nx">p</span><span class="o">:</span><span class="nx">d</span><span class="p">[</span><span class="nx">b</span><span class="p">]}));</span><span class="k">return</span> <span class="nx">b</span><span class="o">||</span><span class="nx">p</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">fullfill</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="sr">/\{([^\}]+)\}/g</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="sr">/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[(&#39;|&quot;)(.+?)\2\])(\(\))?/g</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="o">||</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span> <span class="k">in</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">b</span><span class="p">]),</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">()))}),</span><span class="nx">e</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">e</span><span class="o">==</span><span class="nx">d</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="nx">e</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="k">return</span> <span class="nx">e</span><span class="p">};</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nb">String</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">)})}}(),</span><span class="nx">a</span><span class="p">.</span><span class="nx">ninja</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">was</span><span class="o">?</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">Raphael</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">is</span><span class="o">:</span><span class="k">delete</span> <span class="nx">Raphael</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">st</span><span class="o">=</span><span class="nx">cH</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(){</span><span class="sr">/in/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">readyState</span><span class="p">)</span><span class="o">?</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.DOMload&quot;</span><span class="p">)}</span><span class="nx">b</span><span class="p">.</span><span class="nx">readyState</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">addEventListener</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">readyState</span><span class="o">=</span><span class="s2">&quot;complete&quot;</span><span class="p">},</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">readyState</span><span class="o">=</span><span class="s2">&quot;loading&quot;</span><span class="p">),</span><span class="nx">e</span><span class="p">()}(</span><span class="nb">document</span><span class="p">,</span><span class="s2">&quot;DOMContentLoaded&quot;</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">was</span><span class="o">?</span><span class="nx">h</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">Raphael</span><span class="o">=</span><span class="nx">a</span><span class="o">:</span><span class="nx">Raphael</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">eve</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;raphael.DOMload&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="o">=!</span><span class="mi">0</span><span class="p">})}(),</span><span class="nb">window</span><span class="p">.</span><span class="nx">Raphael</span><span class="p">.</span><span class="nx">svg</span><span class="o">&amp;&amp;</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="s2">&quot;hasOwnProperty&quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nb">String</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nb">Math</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">max</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">abs</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">pow</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="sr">/[, ]+/</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">eve</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/1999/xlink&quot;</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="p">{</span><span class="nx">block</span><span class="o">:</span><span class="s2">&quot;M5,0 0,2.5 5,5z&quot;</span><span class="p">,</span><span class="nx">classic</span><span class="o">:</span><span class="s2">&quot;M5,0 0,2.5 5,5 3.5,3 3.5,2z&quot;</span><span class="p">,</span><span class="nx">diamond</span><span class="o">:</span><span class="s2">&quot;M2.5,0 5,2.5 2.5,5 0,2.5z&quot;</span><span class="p">,</span><span class="nx">open</span><span class="o">:</span><span class="s2">&quot;M6,1 1,3.5 6,6&quot;</span><span class="p">,</span><span class="nx">oval</span><span class="o">:</span><span class="s2">&quot;M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z&quot;</span><span class="p">},</span><span class="nx">p</span><span class="o">=</span><span class="p">{};</span><span class="nx">a</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;Your browser supports SVG.\nYou are running Raphaël &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">version</span><span class="p">};</span><span class="kd">var</span> <span class="nx">q</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">typeof</span> <span class="nx">d</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="nx">d</span><span class="p">));</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span> <span class="k">in</span> <span class="nx">e</span><span class="p">)</span><span class="nx">e</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">f</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;xlink:&quot;</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">setAttributeNS</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="nx">c</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">f</span><span class="p">]))</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">f</span><span class="p">])))}</span><span class="k">else</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createElementNS</span><span class="p">(</span><span class="s2">&quot;http://www.w3.org/2000/svg&quot;</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">webkitTapHighlightColor</span><span class="o">=</span><span class="s2">&quot;rgba(0,0,0,0)&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="nx">r</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="s2">&quot;linear&quot;</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">id</span><span class="o">+</span><span class="nx">e</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">paper</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">k</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">s</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_radial_gradient</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">j</span><span class="o">=</span><span class="s2">&quot;radial&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">){</span><span class="nx">m</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">(</span><span class="nx">n</span><span class="o">&gt;</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">i</span><span class="p">(</span><span class="nx">m</span><span class="o">-</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="nx">i</span><span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span><span class="p">.</span><span class="mi">25</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(.</span><span class="mi">25</span><span class="o">-</span><span class="nx">i</span><span class="p">(</span><span class="nx">m</span><span class="o">-</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="o">!=</span><span class="p">.</span><span class="mi">5</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="nx">e</span><span class="o">-</span><span class="mi">5</span><span class="o">*</span><span class="nx">e</span><span class="p">)}</span><span class="k">return</span> <span class="nx">l</span><span class="p">}),</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/\s*\-\s*/</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="o">==</span><span class="s2">&quot;linear&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span><span class="nx">t</span><span class="o">=-</span><span class="nx">d</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">t</span><span class="p">))</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">rad</span><span class="p">(</span><span class="nx">t</span><span class="p">)),</span><span class="nx">f</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">rad</span><span class="p">(</span><span class="nx">t</span><span class="p">))],</span><span class="nx">v</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="nx">g</span><span class="p">(</span><span class="nx">h</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="nx">h</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span><span class="o">||</span><span class="mi">1</span><span class="p">);</span><span class="nx">u</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*=</span><span class="nx">v</span><span class="p">,</span><span class="nx">u</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*=</span><span class="nx">v</span><span class="p">,</span><span class="nx">u</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=-</span><span class="nx">u</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">u</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="nx">u</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=-</span><span class="nx">u</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">u</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">w</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_parseDots</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">w</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="nx">k</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[\(\)\s,\xb0#]/g</span><span class="p">,</span><span class="s2">&quot;_&quot;</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">gradient</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="o">!=</span><span class="nx">b</span><span class="p">.</span><span class="nx">gradient</span><span class="p">.</span><span class="nx">id</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">defs</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">gradient</span><span class="p">),</span><span class="k">delete</span> <span class="nx">b</span><span class="p">.</span><span class="nx">gradient</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">.</span><span class="nx">gradient</span><span class="p">){</span><span class="nx">s</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="nx">j</span><span class="o">+</span><span class="s2">&quot;Gradient&quot;</span><span class="p">,{</span><span class="nx">id</span><span class="o">:</span><span class="nx">k</span><span class="p">}),</span><span class="nx">b</span><span class="p">.</span><span class="nx">gradient</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="nx">q</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">j</span><span class="o">==</span><span class="s2">&quot;radial&quot;</span><span class="o">?</span><span class="p">{</span><span class="nx">fx</span><span class="o">:</span><span class="nx">m</span><span class="p">,</span><span class="nx">fy</span><span class="o">:</span><span class="nx">n</span><span class="p">}</span><span class="o">:</span><span class="p">{</span><span class="nx">x1</span><span class="o">:</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">y1</span><span class="o">:</span><span class="nx">u</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">x2</span><span class="o">:</span><span class="nx">u</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">y2</span><span class="o">:</span><span class="nx">u</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">gradientTransform</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">matrix</span><span class="p">.</span><span class="nx">invert</span><span class="p">()}),</span><span class="nx">p</span><span class="p">.</span><span class="nx">defs</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">x</span><span class="o">&lt;</span><span class="nx">y</span><span class="p">;</span><span class="nx">x</span><span class="o">++</span><span class="p">)</span><span class="nx">s</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;stop&quot;</span><span class="p">,{</span><span class="nx">offset</span><span class="o">:</span><span class="nx">w</span><span class="p">[</span><span class="nx">x</span><span class="p">].</span><span class="nx">offset</span><span class="o">?</span><span class="nx">w</span><span class="p">[</span><span class="nx">x</span><span class="p">].</span><span class="nx">offset</span><span class="o">:</span><span class="nx">x</span><span class="o">?</span><span class="s2">&quot;100%&quot;</span><span class="o">:</span><span class="s2">&quot;0%&quot;</span><span class="p">,</span><span class="s2">&quot;stop-color&quot;</span><span class="o">:</span><span class="nx">w</span><span class="p">[</span><span class="nx">x</span><span class="p">].</span><span class="nx">color</span><span class="o">||</span><span class="s2">&quot;#fff&quot;</span><span class="p">}))}}</span><span class="nx">q</span><span class="p">(</span><span class="nx">o</span><span class="p">,{</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;url(#&quot;</span><span class="o">+</span><span class="nx">k</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">,</span><span class="nx">opacity</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;fill-opacity&quot;</span><span class="o">:</span><span class="mi">1</span><span class="p">}),</span><span class="nx">r</span><span class="p">.</span><span class="nx">fill</span><span class="o">=</span><span class="nx">l</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">fillOpacity</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span> <span class="mi">1</span><span class="p">},</span><span class="nx">s</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="nx">q</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">pattern</span><span class="p">,{</span><span class="nx">patternTransform</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">matrix</span><span class="p">.</span><span class="nx">invert</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot; translate(&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="s2">&quot;,&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">})},</span><span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;path&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">paper</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">f</span><span class="o">?</span><span class="s2">&quot;end&quot;</span><span class="o">:</span><span class="s2">&quot;start&quot;</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">attrs</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">],</span><span class="nx">n</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="s2">&quot;classic&quot;</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">v</span><span class="p">,</span><span class="nx">w</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">n</span><span class="o">--</span><span class="p">)</span><span class="k">switch</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="nx">n</span><span class="p">]){</span><span class="k">case</span><span class="s2">&quot;block&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;classic&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;oval&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;diamond&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;open&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;none&quot;</span><span class="o">:</span><span class="nx">r</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">n</span><span class="p">];</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;wide&quot;</span><span class="o">:</span><span class="nx">y</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;narrow&quot;</span><span class="o">:</span><span class="nx">y</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;long&quot;</span><span class="o">:</span><span class="nx">x</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;short&quot;</span><span class="o">:</span><span class="nx">x</span><span class="o">=</span><span class="mi">2</span><span class="p">}</span><span class="nx">r</span><span class="o">==</span><span class="s2">&quot;open&quot;</span><span class="o">?</span><span class="p">(</span><span class="nx">x</span><span class="o">+=</span><span class="mi">2</span><span class="p">,</span><span class="nx">y</span><span class="o">+=</span><span class="mi">2</span><span class="p">,</span><span class="nx">z</span><span class="o">+=</span><span class="mi">2</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="nx">f</span><span class="o">?</span><span class="mi">4</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="p">{</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="nx">k</span><span class="p">.</span><span class="nx">stroke</span><span class="p">})</span><span class="o">:</span><span class="p">(</span><span class="nx">v</span><span class="o">=</span><span class="nx">u</span><span class="o">=</span><span class="nx">x</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="p">{</span><span class="nx">fill</span><span class="o">:</span><span class="nx">k</span><span class="p">.</span><span class="nx">stroke</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">}),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">?</span><span class="nx">f</span><span class="o">?</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">endPath</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">endPath</span><span class="p">]</span><span class="o">--</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">endMarker</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">endMarker</span><span class="p">]</span><span class="o">--</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">startPath</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">startPath</span><span class="p">]</span><span class="o">--</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">startMarker</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">startMarker</span><span class="p">]</span><span class="o">--</span><span class="p">)</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">=</span><span class="p">{};</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="o">!=</span><span class="s2">&quot;none&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">A</span><span class="o">=</span><span class="s2">&quot;raphael-marker-&quot;</span><span class="o">+</span><span class="nx">r</span><span class="p">,</span><span class="nx">B</span><span class="o">=</span><span class="s2">&quot;raphael-marker-&quot;</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="nx">r</span><span class="o">+</span><span class="nx">x</span><span class="o">+</span><span class="nx">y</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">A</span><span class="p">)</span><span class="o">?</span><span class="nx">p</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">++:</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">defs</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">q</span><span class="p">(</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">),{</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="o">:</span><span class="s2">&quot;round&quot;</span><span class="p">,</span><span class="nx">d</span><span class="o">:</span><span class="nx">o</span><span class="p">[</span><span class="nx">r</span><span class="p">],</span><span class="nx">id</span><span class="o">:</span><span class="nx">A</span><span class="p">})),</span><span class="nx">p</span><span class="p">[</span><span class="nx">A</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span><span class="kd">var</span> <span class="nx">C</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">B</span><span class="p">),</span><span class="nx">D</span><span class="p">;</span><span class="nx">C</span><span class="o">?</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">B</span><span class="p">]</span><span class="o">++</span><span class="p">,</span><span class="nx">D</span><span class="o">=</span><span class="nx">C</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;use&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span><span class="o">:</span><span class="p">(</span><span class="nx">C</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;marker&quot;</span><span class="p">),{</span><span class="nx">id</span><span class="o">:</span><span class="nx">B</span><span class="p">,</span><span class="nx">markerHeight</span><span class="o">:</span><span class="nx">y</span><span class="p">,</span><span class="nx">markerWidth</span><span class="o">:</span><span class="nx">x</span><span class="p">,</span><span class="nx">orient</span><span class="o">:</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span><span class="nx">refX</span><span class="o">:</span><span class="nx">v</span><span class="p">,</span><span class="nx">refY</span><span class="o">:</span><span class="nx">y</span><span class="o">/</span><span class="mi">2</span><span class="p">}),</span><span class="nx">D</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;use&quot;</span><span class="p">),{</span><span class="s2">&quot;xlink:href&quot;</span><span class="o">:</span><span class="s2">&quot;#&quot;</span><span class="o">+</span><span class="nx">A</span><span class="p">,</span><span class="nx">transform</span><span class="o">:</span><span class="p">(</span><span class="nx">f</span><span class="o">?</span><span class="s2">&quot;rotate(180 &quot;</span><span class="o">+</span><span class="nx">x</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">y</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="s2">&quot;) &quot;</span><span class="o">:</span><span class="nx">l</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;scale(&quot;</span><span class="o">+</span><span class="nx">x</span><span class="o">/</span><span class="nx">z</span><span class="o">+</span><span class="s2">&quot;,&quot;</span><span class="o">+</span><span class="nx">y</span><span class="o">/</span><span class="nx">z</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">,</span><span class="s2">&quot;stroke-width&quot;</span><span class="o">:</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">((</span><span class="nx">x</span><span class="o">/</span><span class="nx">z</span><span class="o">+</span><span class="nx">y</span><span class="o">/</span><span class="nx">z</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">)}),</span><span class="nx">C</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">D</span><span class="p">),</span><span class="nx">h</span><span class="p">.</span><span class="nx">defs</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">C</span><span class="p">),</span><span class="nx">p</span><span class="p">[</span><span class="nx">B</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span><span class="nx">q</span><span class="p">(</span><span class="nx">D</span><span class="p">,</span><span class="nx">w</span><span class="p">);</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="nx">u</span><span class="o">*</span><span class="p">(</span><span class="nx">r</span><span class="o">!=</span><span class="s2">&quot;diamond&quot;</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="o">!=</span><span class="s2">&quot;oval&quot;</span><span class="p">);</span><span class="nx">f</span><span class="o">?</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">startdx</span><span class="o">*</span><span class="nx">m</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">path</span><span class="p">)</span><span class="o">-</span><span class="nx">F</span><span class="o">*</span><span class="nx">m</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">F</span><span class="o">*</span><span class="nx">m</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">path</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">enddx</span><span class="o">*</span><span class="nx">m</span><span class="o">||</span><span class="mi">0</span><span class="p">)),</span><span class="nx">w</span><span class="o">=</span><span class="p">{},</span><span class="nx">w</span><span class="p">[</span><span class="s2">&quot;marker-&quot;</span><span class="o">+</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;url(#&quot;</span><span class="o">+</span><span class="nx">B</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">||</span><span class="nx">s</span><span class="p">)</span><span class="nx">w</span><span class="p">.</span><span class="nx">d</span><span class="o">=</span><span class="nx">Raphael</span><span class="p">.</span><span class="nx">getSubpath</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="nx">q</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="nx">w</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;Path&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">A</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;Marker&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">B</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;dx&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">F</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;Type&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;String&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">}</span><span class="k">else</span> <span class="nx">f</span><span class="o">?</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">startdx</span><span class="o">*</span><span class="nx">m</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">path</span><span class="p">)</span><span class="o">-</span><span class="nx">s</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">path</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">enddx</span><span class="o">*</span><span class="nx">m</span><span class="o">||</span><span class="mi">0</span><span class="p">)),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;Path&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">(</span><span class="nx">j</span><span class="p">,{</span><span class="nx">d</span><span class="o">:</span><span class="nx">Raphael</span><span class="p">.</span><span class="nx">getSubpath</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">t</span><span class="p">)}),</span><span class="k">delete</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;Path&quot;</span><span class="p">],</span><span class="k">delete</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;Marker&quot;</span><span class="p">],</span><span class="k">delete</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;dx&quot;</span><span class="p">],</span><span class="k">delete</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;Type&quot;</span><span class="p">],</span><span class="k">delete</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;String&quot;</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="nx">w</span> <span class="k">in</span> <span class="nx">p</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">w</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">p</span><span class="p">[</span><span class="nx">w</span><span class="p">]){</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">w</span><span class="p">);</span><span class="nx">G</span><span class="o">&amp;&amp;</span><span class="nx">G</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">G</span><span class="p">)}}},</span><span class="nx">u</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">none</span><span class="o">:</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s2">&quot;-&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="s2">&quot;.&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="s2">&quot;-.&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="s2">&quot;-..&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="s2">&quot;. &quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="s2">&quot;- &quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="s2">&quot;--&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="s2">&quot;- .&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="s2">&quot;--.&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="s2">&quot;--..&quot;</span><span class="o">:</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]},</span><span class="nx">v</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">u</span><span class="p">[</span><span class="nx">c</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">()];</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="p">{</span><span class="nx">round</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">square</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">butt</span><span class="o">:</span><span class="mi">0</span><span class="p">}[</span><span class="nx">a</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">]</span><span class="o">||</span><span class="nx">d</span><span class="p">[</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">]]</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="p">[],</span><span class="nx">h</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">h</span><span class="o">--</span><span class="p">)</span><span class="nx">g</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="p">(</span><span class="nx">h</span><span class="o">%</span><span class="mi">2</span><span class="o">?</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="nx">f</span><span class="p">;</span><span class="nx">q</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">node</span><span class="p">,{</span><span class="s2">&quot;stroke-dasharray&quot;</span><span class="o">:</span><span class="nx">g</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)})}},</span><span class="nx">w</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">attrs</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">visibility</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">visibility</span><span class="o">=</span><span class="s2">&quot;hidden&quot;</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span> <span class="k">in</span> <span class="nx">f</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">o</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">_availableAttrs</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">o</span><span class="p">))</span><span class="k">continue</span><span class="p">;</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">f</span><span class="p">[</span><span class="nx">o</span><span class="p">];</span><span class="nx">k</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span><span class="o">=</span><span class="nx">p</span><span class="p">;</span><span class="k">switch</span><span class="p">(</span><span class="nx">o</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;blur&quot;</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">blur</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;title&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;target&quot;</span><span class="o">:</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">tagName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">!=</span><span class="s2">&quot;a&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">w</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">);</span><span class="nx">u</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">w</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">u</span><span class="o">=</span><span class="nx">w</span><span class="p">}</span><span class="nx">o</span><span class="o">==</span><span class="s2">&quot;target&quot;</span><span class="o">?</span><span class="nx">u</span><span class="p">.</span><span class="nx">setAttributeNS</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="s2">&quot;show&quot;</span><span class="p">,</span><span class="nx">p</span><span class="o">==</span><span class="s2">&quot;blank&quot;</span><span class="o">?</span><span class="s2">&quot;new&quot;</span><span class="o">:</span><span class="nx">p</span><span class="p">)</span><span class="o">:</span><span class="nx">u</span><span class="p">.</span><span class="nx">setAttributeNS</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;cursor&quot;</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cursor</span><span class="o">=</span><span class="nx">p</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;transform&quot;</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;arrow-start&quot;</span><span class="o">:</span><span class="nx">t</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">p</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;arrow-end&quot;</span><span class="o">:</span><span class="nx">t</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;clip-rect&quot;</span><span class="o">:</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">p</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="nx">j</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">4</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">clip</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">clip</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">clip</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">);</span><span class="kd">var</span> <span class="nx">z</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;clipPath&quot;</span><span class="p">),</span><span class="nx">A</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;rect&quot;</span><span class="p">);</span><span class="nx">z</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">createUUID</span><span class="p">(),</span><span class="nx">q</span><span class="p">(</span><span class="nx">A</span><span class="p">,{</span><span class="nx">x</span><span class="o">:</span><span class="nx">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">y</span><span class="o">:</span><span class="nx">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">width</span><span class="o">:</span><span class="nx">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">height</span><span class="o">:</span><span class="nx">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]}),</span><span class="nx">z</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">A</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">defs</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">z</span><span class="p">),</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="s2">&quot;clip-path&quot;</span><span class="o">:</span><span class="s2">&quot;url(#&quot;</span><span class="o">+</span><span class="nx">z</span><span class="p">.</span><span class="nx">id</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">}),</span><span class="nx">d</span><span class="p">.</span><span class="nx">clip</span><span class="o">=</span><span class="nx">A</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">p</span><span class="p">){</span><span class="kd">var</span> <span class="nx">B</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;clip-path&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">B</span><span class="p">){</span><span class="kd">var</span> <span class="nx">C</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">B</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(^url\(#|\)$)/g</span><span class="p">,</span><span class="nx">l</span><span class="p">));</span><span class="nx">C</span><span class="o">&amp;&amp;</span><span class="nx">C</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">C</span><span class="p">),</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="s2">&quot;clip-path&quot;</span><span class="o">:</span><span class="nx">l</span><span class="p">}),</span><span class="k">delete</span> <span class="nx">d</span><span class="p">.</span><span class="nx">clip</span><span class="p">}}</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;path&quot;</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;path&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="nx">d</span><span class="o">:</span><span class="nx">p</span><span class="o">?</span><span class="nx">k</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_pathToAbsolute</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span><span class="o">:</span><span class="s2">&quot;M0,0&quot;</span><span class="p">}),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">&quot;startString&quot;</span><span class="k">in</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">startString</span><span class="p">),</span><span class="s2">&quot;endString&quot;</span><span class="k">in</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">endString</span><span class="p">,</span><span class="mi">1</span><span class="p">)));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;width&quot;</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">fx</span><span class="p">)</span><span class="nx">o</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span><span class="k">else</span> <span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;x&quot;</span><span class="o">:</span><span class="nx">k</span><span class="p">.</span><span class="nx">fx</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">=-</span><span class="nx">k</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">width</span><span class="o">||</span><span class="mi">0</span><span class="p">));</span><span class="k">case</span><span class="s2">&quot;rx&quot;</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="o">==</span><span class="s2">&quot;rx&quot;</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;rect&quot;</span><span class="p">)</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;cx&quot;</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">pattern</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;height&quot;</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">fy</span><span class="p">)</span><span class="nx">o</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span><span class="k">else</span> <span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;y&quot;</span><span class="o">:</span><span class="nx">k</span><span class="p">.</span><span class="nx">fy</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">=-</span><span class="nx">k</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">height</span><span class="o">||</span><span class="mi">0</span><span class="p">));</span><span class="k">case</span><span class="s2">&quot;ry&quot;</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="o">==</span><span class="s2">&quot;ry&quot;</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;rect&quot;</span><span class="p">)</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;cy&quot;</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">pattern</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;r&quot;</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;rect&quot;</span><span class="o">?</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="nx">rx</span><span class="o">:</span><span class="nx">p</span><span class="p">,</span><span class="nx">ry</span><span class="o">:</span><span class="nx">p</span><span class="p">})</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;src&quot;</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;image&quot;</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttributeNS</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="s2">&quot;href&quot;</span><span class="p">,</span><span class="nx">p</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;stroke-width&quot;</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">sx</span><span class="o">!=</span><span class="mi">1</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">sy</span><span class="o">!=</span><span class="mi">1</span><span class="p">)</span><span class="nx">p</span><span class="o">/=</span><span class="nx">g</span><span class="p">(</span><span class="nx">h</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">sx</span><span class="p">),</span><span class="nx">h</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">sy</span><span class="p">))</span><span class="o">||</span><span class="mi">1</span><span class="p">;</span><span class="nx">d</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">_vbSize</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">*=</span><span class="nx">d</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">_vbSize</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">),</span><span class="nx">k</span><span class="p">[</span><span class="s2">&quot;stroke-dasharray&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">v</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">k</span><span class="p">[</span><span class="s2">&quot;stroke-dasharray&quot;</span><span class="p">],</span><span class="nx">f</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">&quot;startString&quot;</span><span class="k">in</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">startString</span><span class="p">),</span><span class="s2">&quot;endString&quot;</span><span class="k">in</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">endString</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;stroke-dasharray&quot;</span><span class="o">:</span><span class="nx">v</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">f</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;fill&quot;</span><span class="o">:</span><span class="kd">var</span> <span class="nx">D</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">p</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_ISURL</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">D</span><span class="p">){</span><span class="nx">z</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;pattern&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;image&quot;</span><span class="p">);</span><span class="nx">z</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">createUUID</span><span class="p">(),</span><span class="nx">q</span><span class="p">(</span><span class="nx">z</span><span class="p">,{</span><span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">patternUnits</span><span class="o">:</span><span class="s2">&quot;userSpaceOnUse&quot;</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="mi">1</span><span class="p">}),</span><span class="nx">q</span><span class="p">(</span><span class="nx">F</span><span class="p">,{</span><span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;xlink:href&quot;</span><span class="o">:</span><span class="nx">D</span><span class="p">[</span><span class="mi">1</span><span class="p">]}),</span><span class="nx">z</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">F</span><span class="p">),</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">_preload</span><span class="p">(</span><span class="nx">D</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">;</span><span class="nx">q</span><span class="p">(</span><span class="nx">b</span><span class="p">,{</span><span class="nx">width</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">c</span><span class="p">}),</span><span class="nx">q</span><span class="p">(</span><span class="nx">F</span><span class="p">,{</span><span class="nx">width</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">c</span><span class="p">}),</span><span class="nx">d</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">safari</span><span class="p">()})}(</span><span class="nx">z</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">defs</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">z</span><span class="p">),</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;url(#&quot;</span><span class="o">+</span><span class="nx">z</span><span class="p">.</span><span class="nx">id</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">}),</span><span class="nx">d</span><span class="p">.</span><span class="nx">pattern</span><span class="o">=</span><span class="nx">z</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">pattern</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="k">break</span><span class="p">}</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">G</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span><span class="k">delete</span> <span class="nx">f</span><span class="p">.</span><span class="nx">gradient</span><span class="p">,</span><span class="k">delete</span> <span class="nx">k</span><span class="p">.</span><span class="nx">gradient</span><span class="p">,</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">opacity</span><span class="p">,</span><span class="s2">&quot;undefined&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">opacity</span><span class="p">,</span><span class="s2">&quot;undefined&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="nx">opacity</span><span class="o">:</span><span class="nx">k</span><span class="p">.</span><span class="nx">opacity</span><span class="p">}),</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="s2">&quot;fill-opacity&quot;</span><span class="p">],</span><span class="s2">&quot;undefined&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="s2">&quot;fill-opacity&quot;</span><span class="p">],</span><span class="s2">&quot;undefined&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="s2">&quot;fill-opacity&quot;</span><span class="o">:</span><span class="nx">k</span><span class="p">[</span><span class="s2">&quot;fill-opacity&quot;</span><span class="p">]});</span><span class="k">else</span> <span class="k">if</span><span class="p">((</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;circle&quot;</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;ellipse&quot;</span><span class="o">||</span><span class="nx">c</span><span class="p">(</span><span class="nx">p</span><span class="p">).</span><span class="nx">charAt</span><span class="p">()</span><span class="o">!=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">p</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="s2">&quot;opacity&quot;</span><span class="k">in</span> <span class="nx">k</span><span class="o">||</span><span class="s2">&quot;fill-opacity&quot;</span><span class="k">in</span> <span class="nx">k</span><span class="p">){</span><span class="kd">var</span> <span class="nx">H</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^url\(#|\)$/g</span><span class="p">,</span><span class="nx">l</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">H</span><span class="p">){</span><span class="kd">var</span> <span class="nx">I</span><span class="o">=</span><span class="nx">H</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;stop&quot;</span><span class="p">);</span><span class="nx">q</span><span class="p">(</span><span class="nx">I</span><span class="p">[</span><span class="nx">I</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">],{</span><span class="s2">&quot;stop-opacity&quot;</span><span class="o">:</span><span class="p">(</span><span class="s2">&quot;opacity&quot;</span><span class="k">in</span> <span class="nx">k</span><span class="o">?</span><span class="nx">k</span><span class="p">.</span><span class="nx">opacity</span><span class="o">:</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="s2">&quot;fill-opacity&quot;</span><span class="k">in</span> <span class="nx">k</span><span class="o">?</span><span class="nx">k</span><span class="p">[</span><span class="s2">&quot;fill-opacity&quot;</span><span class="p">]</span><span class="o">:</span><span class="mi">1</span><span class="p">)})}}</span><span class="nx">k</span><span class="p">.</span><span class="nx">gradient</span><span class="o">=</span><span class="nx">p</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">fill</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="nx">G</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="s2">&quot;opacity&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="s2">&quot;fill-opacity&quot;</span><span class="o">:</span><span class="nx">G</span><span class="p">.</span><span class="nx">opacity</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">G</span><span class="p">.</span><span class="nx">opacity</span><span class="o">/</span><span class="mi">100</span><span class="o">:</span><span class="nx">G</span><span class="p">.</span><span class="nx">opacity</span><span class="p">});</span><span class="k">case</span><span class="s2">&quot;stroke&quot;</span><span class="o">:</span><span class="nx">G</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">p</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">G</span><span class="p">.</span><span class="nx">hex</span><span class="p">),</span><span class="nx">o</span><span class="o">==</span><span class="s2">&quot;stroke&quot;</span><span class="o">&amp;&amp;</span><span class="nx">G</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="s2">&quot;opacity&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="s2">&quot;stroke-opacity&quot;</span><span class="o">:</span><span class="nx">G</span><span class="p">.</span><span class="nx">opacity</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">G</span><span class="p">.</span><span class="nx">opacity</span><span class="o">/</span><span class="mi">100</span><span class="o">:</span><span class="nx">G</span><span class="p">.</span><span class="nx">opacity</span><span class="p">}),</span><span class="nx">o</span><span class="o">==</span><span class="s2">&quot;stroke&quot;</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">&quot;startString&quot;</span><span class="k">in</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">startString</span><span class="p">),</span><span class="s2">&quot;endString&quot;</span><span class="k">in</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">arrows</span><span class="p">.</span><span class="nx">endString</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;gradient&quot;</span><span class="o">:</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;circle&quot;</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;ellipse&quot;</span><span class="o">||</span><span class="nx">c</span><span class="p">(</span><span class="nx">p</span><span class="p">).</span><span class="nx">charAt</span><span class="p">()</span><span class="o">!=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">p</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;opacity&quot;</span><span class="o">:</span><span class="nx">k</span><span class="p">.</span><span class="nx">gradient</span><span class="o">&amp;&amp;!</span><span class="nx">k</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="s2">&quot;stroke-opacity&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="s2">&quot;stroke-opacity&quot;</span><span class="o">:</span><span class="nx">p</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">p</span><span class="o">/</span><span class="mi">100</span><span class="o">:</span><span class="nx">p</span><span class="p">});</span><span class="k">case</span><span class="s2">&quot;fill-opacity&quot;</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">gradient</span><span class="p">){</span><span class="nx">H</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^url\(#|\)$/g</span><span class="p">,</span><span class="nx">l</span><span class="p">)),</span><span class="nx">H</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">I</span><span class="o">=</span><span class="nx">H</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;stop&quot;</span><span class="p">),</span><span class="nx">q</span><span class="p">(</span><span class="nx">I</span><span class="p">[</span><span class="nx">I</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">],{</span><span class="s2">&quot;stop-opacity&quot;</span><span class="o">:</span><span class="nx">p</span><span class="p">}));</span><span class="k">break</span><span class="p">};</span><span class="k">default</span><span class="o">:</span><span class="nx">o</span><span class="o">==</span><span class="s2">&quot;font-size&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">=</span><span class="nx">e</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">J</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(\-.)/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()});</span><span class="nx">i</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="nx">J</span><span class="p">]</span><span class="o">=</span><span class="nx">p</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">)}}</span><span class="nx">y</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">visibility</span><span class="o">=</span><span class="nx">m</span><span class="p">},</span><span class="nx">x</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;text&quot;</span><span class="o">&amp;&amp;!!</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="s2">&quot;text&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">f</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="s2">&quot;font&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">f</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="s2">&quot;font-size&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">f</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="s2">&quot;x&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">f</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="s2">&quot;y&quot;</span><span class="p">))){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">attrs</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">firstChild</span><span class="o">?</span><span class="nx">e</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">defaultView</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">,</span><span class="nx">l</span><span class="p">).</span><span class="nx">getPropertyValue</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">),</span><span class="mi">10</span><span class="p">)</span><span class="o">:</span><span class="mi">10</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="s2">&quot;text&quot;</span><span class="p">)){</span><span class="nx">g</span><span class="p">.</span><span class="nx">text</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">text</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)</span><span class="nx">h</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">text</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="p">[],</span><span class="nx">m</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">o</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">m</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;tspan&quot;</span><span class="p">),</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">(</span><span class="nx">m</span><span class="p">,{</span><span class="nx">dy</span><span class="o">:</span><span class="nx">i</span><span class="o">*</span><span class="nx">x</span><span class="p">,</span><span class="nx">x</span><span class="o">:</span><span class="nx">g</span><span class="p">.</span><span class="nx">x</span><span class="p">}),</span><span class="nx">m</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">n</span><span class="p">])),</span><span class="nx">h</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">m</span><span class="p">),</span><span class="nx">k</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="nx">k</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;tspan&quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">o</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">n</span><span class="o">?</span><span class="nx">q</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="nx">n</span><span class="p">],{</span><span class="nx">dy</span><span class="o">:</span><span class="nx">i</span><span class="o">*</span><span class="nx">x</span><span class="p">,</span><span class="nx">x</span><span class="o">:</span><span class="nx">g</span><span class="p">.</span><span class="nx">x</span><span class="p">})</span><span class="o">:</span><span class="nx">q</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">0</span><span class="p">],{</span><span class="nx">dy</span><span class="o">:</span><span class="mi">0</span><span class="p">})}</span><span class="nx">q</span><span class="p">(</span><span class="nx">h</span><span class="p">,{</span><span class="nx">x</span><span class="o">:</span><span class="nx">g</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">g</span><span class="p">.</span><span class="nx">y</span><span class="p">}),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">_getBBox</span><span class="p">(),</span><span class="nx">r</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">p</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="s2">&quot;finite&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">0</span><span class="p">],{</span><span class="nx">dy</span><span class="o">:</span><span class="nx">r</span><span class="p">})}},</span><span class="nx">z</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">raphael</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_oid</span><span class="o">++</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">raphaelid</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">matrix</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">matrix</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">realPath</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="o">||</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="o">=</span><span class="p">{</span><span class="nx">transform</span><span class="o">:</span><span class="p">[],</span><span class="nx">sx</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">sy</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">deg</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">dx</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">dy</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">dirty</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="o">!</span><span class="nx">c</span><span class="p">.</span><span class="nx">bottom</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">prev</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="k">this</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="kc">null</span><span class="p">},</span><span class="nx">A</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">el</span><span class="p">;</span><span class="nx">z</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">A</span><span class="p">,</span><span class="nx">A</span><span class="p">.</span><span class="nx">constructor</span><span class="o">=</span><span class="nx">z</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">canvas</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">new</span> <span class="nx">z</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;path&quot;</span><span class="p">,</span><span class="nx">w</span><span class="p">(</span><span class="nx">d</span><span class="p">,{</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;#000&quot;</span><span class="p">,</span><span class="nx">path</span><span class="o">:</span><span class="nx">a</span><span class="p">});</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">rotate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">])),</span><span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="mi">2</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">.</span><span class="nx">concat</span><span class="p">([[</span><span class="s2">&quot;r&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">]]));</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">scale</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="nx">f</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">])),</span><span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">b</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">),</span><span class="nx">f</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">f</span><span class="o">==</span><span class="kc">null</span><span class="p">)</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nx">g</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">g</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">f</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nx">g</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">g</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="mi">2</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">.</span><span class="nx">concat</span><span class="p">([[</span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">]]));</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">translate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])),</span><span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="o">=+</span><span class="nx">b</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">.</span><span class="nx">concat</span><span class="p">([[</span><span class="s2">&quot;t&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">]]));</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">==</span><span class="kc">null</span><span class="p">)</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">transform</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">_extractTransform</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">clip</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">clip</span><span class="p">,{</span><span class="nx">transform</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">matrix</span><span class="p">.</span><span class="nx">invert</span><span class="p">()}),</span><span class="k">this</span><span class="p">.</span><span class="nx">pattern</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">,{</span><span class="nx">transform</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">matrix</span><span class="p">});</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">sx</span><span class="o">!=</span><span class="mi">1</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">sy</span><span class="o">!=</span><span class="mi">1</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">)</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">]</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">({</span><span class="s2">&quot;stroke-width&quot;</span><span class="o">:</span><span class="nx">e</span><span class="p">})}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">hide</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">safari</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">show</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">safari</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">remove</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="o">&amp;&amp;!!</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">__set__</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">__set__</span><span class="p">.</span><span class="nx">exclude</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">k</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;raphael.*.*.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">gradient</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">defs</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">gradient</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_tear</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">tagName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">==</span><span class="s2">&quot;a&quot;</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span> <span class="k">in</span> <span class="k">this</span><span class="p">)</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="k">typeof</span> <span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">_removedFactory</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="o">=!</span><span class="mi">0</span><span class="p">}},</span><span class="nx">A</span><span class="p">.</span><span class="nx">_getBBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">==</span><span class="s2">&quot;none&quot;</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="p">{};</span><span class="k">try</span><span class="p">{</span><span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">()}</span><span class="k">catch</span><span class="p">(</span><span class="nx">c</span><span class="p">){}</span><span class="k">finally</span><span class="p">{</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="o">||</span><span class="p">{}}</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">attr</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">f</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="nx">f</span><span class="p">]);</span><span class="nx">e</span><span class="p">.</span><span class="nx">gradient</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">fill</span><span class="o">==</span><span class="s2">&quot;none&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">fill</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">gradient</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">gradient</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">;</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;string&quot;</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">==</span><span class="s2">&quot;fill&quot;</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">fill</span><span class="o">==</span><span class="s2">&quot;none&quot;</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">gradient</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">gradient</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">==</span><span class="s2">&quot;transform&quot;</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">;</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">l</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">c</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">c</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="o">?</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="s2">&quot;function&quot;</span><span class="p">)</span><span class="o">?</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">def</span><span class="o">:</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_availableAttrs</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="k">return</span> <span class="nx">l</span><span class="o">-</span><span class="mi">1</span><span class="o">?</span><span class="nx">h</span><span class="o">:</span><span class="nx">h</span><span class="p">[</span><span class="nx">g</span><span class="p">[</span><span class="mi">0</span><span class="p">]]}</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;array&quot;</span><span class="p">)){</span><span class="nx">h</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">l</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">[</span><span class="nx">i</span><span class="p">]]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span><span class="k">return</span> <span class="nx">h</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span><span class="kd">var</span> <span class="nx">m</span><span class="o">=</span><span class="p">{};</span><span class="nx">m</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">}</span><span class="k">else</span> <span class="nx">c</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="nx">c</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span> <span class="k">in</span> <span class="nx">m</span><span class="p">)</span><span class="nx">k</span><span class="p">(</span><span class="s2">&quot;raphael.attr.&quot;</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">&quot;.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">]);</span><span class="k">for</span><span class="p">(</span><span class="nx">n</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">n</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">n</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">n</span><span class="p">],</span><span class="s2">&quot;function&quot;</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,[].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">]));</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">p</span> <span class="k">in</span> <span class="nx">o</span><span class="p">)</span><span class="nx">o</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">p</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">p</span><span class="p">]</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">p</span><span class="p">])}</span><span class="nx">w</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">m</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">toFront</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">tagName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">==</span><span class="s2">&quot;a&quot;</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">!=</span><span class="k">this</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">_tofront</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">toBack</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">tagName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">==</span><span class="s2">&quot;a&quot;</span><span class="o">?</span><span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">firstChild</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_toback</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">);</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">insertAfter</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">node</span><span class="o">||</span><span class="nx">b</span><span class="p">[</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">node</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">nextSibling</span><span class="o">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">)</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_insertafter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">insertBefore</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">node</span><span class="o">||</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">node</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_insertbefore</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">A</span><span class="p">.</span><span class="nx">blur</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">+</span><span class="nx">b</span><span class="o">!==</span><span class="mi">0</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;filter&quot;</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;feGaussianBlur&quot;</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">blur</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">createUUID</span><span class="p">(),</span><span class="nx">q</span><span class="p">(</span><span class="nx">e</span><span class="p">,{</span><span class="nx">stdDeviation</span><span class="o">:+</span><span class="nx">b</span><span class="o">||</span><span class="mf">1.5</span><span class="p">}),</span><span class="nx">d</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">defs</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">_blur</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">q</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">node</span><span class="p">,{</span><span class="nx">filter</span><span class="o">:</span><span class="s2">&quot;url(#&quot;</span><span class="o">+</span><span class="nx">d</span><span class="p">.</span><span class="nx">id</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">})}</span><span class="k">else</span> <span class="nx">c</span><span class="p">.</span><span class="nx">_blur</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">_blur</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">_blur</span><span class="p">),</span><span class="k">delete</span> <span class="nx">c</span><span class="p">.</span><span class="nx">_blur</span><span class="p">,</span><span class="k">delete</span> <span class="nx">c</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">blur</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="s2">&quot;filter&quot;</span><span class="p">)},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">circle</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">canvas</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="k">new</span> <span class="nx">z</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrs</span><span class="o">=</span><span class="p">{</span><span class="nx">cx</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">cy</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">r</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;#000&quot;</span><span class="p">},</span><span class="nx">f</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;circle&quot;</span><span class="p">,</span><span class="nx">q</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrs</span><span class="p">);</span><span class="k">return</span> <span class="nx">f</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">rect</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;rect&quot;</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">canvas</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">g</span><span class="p">);</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="k">new</span> <span class="nx">z</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="nx">h</span><span class="p">.</span><span class="nx">attrs</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="o">:</span><span class="nx">f</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">rx</span><span class="o">:</span><span class="nx">f</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">ry</span><span class="o">:</span><span class="nx">f</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;#000&quot;</span><span class="p">},</span><span class="nx">h</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;rect&quot;</span><span class="p">,</span><span class="nx">q</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">attrs</span><span class="p">);</span><span class="k">return</span> <span class="nx">h</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">ellipse</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;ellipse&quot;</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">canvas</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="k">new</span> <span class="nx">z</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">attrs</span><span class="o">=</span><span class="p">{</span><span class="nx">cx</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">cy</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">rx</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">ry</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;#000&quot;</span><span class="p">},</span><span class="nx">g</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;ellipse&quot;</span><span class="p">,</span><span class="nx">q</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">attrs</span><span class="p">);</span><span class="k">return</span> <span class="nx">g</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">image</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;image&quot;</span><span class="p">);</span><span class="nx">q</span><span class="p">(</span><span class="nx">g</span><span class="p">,{</span><span class="nx">x</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">preserveAspectRatio</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">}),</span><span class="nx">g</span><span class="p">.</span><span class="nx">setAttributeNS</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="s2">&quot;href&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">canvas</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">g</span><span class="p">);</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="k">new</span> <span class="nx">z</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="nx">h</span><span class="p">.</span><span class="nx">attrs</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">src</span><span class="o">:</span><span class="nx">b</span><span class="p">},</span><span class="nx">h</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;image&quot;</span><span class="p">;</span><span class="k">return</span> <span class="nx">h</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">text</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">canvas</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="k">new</span> <span class="nx">z</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">attrs</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;text-anchor&quot;</span><span class="o">:</span><span class="s2">&quot;middle&quot;</span><span class="p">,</span><span class="nx">text</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">font</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">_availableAttrs</span><span class="p">.</span><span class="nx">font</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;#000&quot;</span><span class="p">},</span><span class="nx">g</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="nx">w</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">attrs</span><span class="p">);</span><span class="k">return</span> <span class="nx">g</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">setSize</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">b</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewBox</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">setViewBox</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewBox</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">create</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_getContainer</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">container</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="p">)</span><span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;SVG container not found.&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="s2">&quot;overflow:hidden;&quot;</span><span class="p">,</span><span class="nx">j</span><span class="p">;</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">f</span><span class="o">||</span><span class="mi">512</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="o">||</span><span class="mi">342</span><span class="p">,</span><span class="nx">q</span><span class="p">(</span><span class="nx">h</span><span class="p">,{</span><span class="nx">height</span><span class="o">:</span><span class="nx">g</span><span class="p">,</span><span class="nx">version</span><span class="o">:</span><span class="mf">1.1</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">xmlns</span><span class="o">:</span><span class="s2">&quot;http://www.w3.org/2000/svg&quot;</span><span class="p">}),</span><span class="nx">c</span><span class="o">==</span><span class="mi">1</span><span class="o">?</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;position:absolute;left:&quot;</span><span class="o">+</span><span class="nx">d</span><span class="o">+</span><span class="s2">&quot;px;top:&quot;</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">h</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;position:relative&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">firstChild</span><span class="o">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">h</span><span class="p">)),</span><span class="nx">c</span><span class="o">=</span><span class="k">new</span> <span class="nx">a</span><span class="p">.</span><span class="nx">_Paper</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">g</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">canvas</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">clear</span><span class="p">(),</span><span class="nx">c</span><span class="p">.</span><span class="nx">_left</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">_top</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">j</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">renderfix</span><span class="o">=</span><span class="kd">function</span><span class="p">(){}),</span><span class="nx">c</span><span class="p">.</span><span class="nx">renderfix</span><span class="p">();</span><span class="k">return</span> <span class="nx">c</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">setViewBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="nx">k</span><span class="p">(</span><span class="s2">&quot;raphael.setViewBox&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewBox</span><span class="p">,[</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">]);</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">g</span><span class="p">(</span><span class="nx">c</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">d</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="o">?</span><span class="s2">&quot;meet&quot;</span><span class="o">:</span><span class="s2">&quot;xMinYMin&quot;</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">l</span><span class="p">;</span><span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_vbSize</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span><span class="k">delete</span> <span class="k">this</span><span class="p">.</span><span class="nx">_vbSize</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="s2">&quot;0 0 &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="nx">m</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_vbSize</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="o">+</span><span class="nx">m</span><span class="o">+</span><span class="nx">b</span><span class="o">+</span><span class="nx">m</span><span class="o">+</span><span class="nx">c</span><span class="o">+</span><span class="nx">m</span><span class="o">+</span><span class="nx">d</span><span class="p">),</span><span class="nx">q</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">,{</span><span class="nx">viewBox</span><span class="o">:</span><span class="nx">j</span><span class="p">,</span><span class="nx">preserveAspectRatio</span><span class="o">:</span><span class="nx">i</span><span class="p">});</span><span class="k">while</span><span class="p">(</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">)</span><span class="nx">l</span><span class="o">=</span><span class="s2">&quot;stroke-width&quot;</span><span class="k">in</span> <span class="nx">h</span><span class="p">.</span><span class="nx">attrs</span><span class="o">?</span><span class="nx">h</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">]</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">attr</span><span class="p">({</span><span class="s2">&quot;stroke-width&quot;</span><span class="o">:</span><span class="nx">l</span><span class="p">}),</span><span class="nx">h</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirtyT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">prev</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewBox</span><span class="o">=</span><span class="p">[</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="o">!!</span><span class="nx">e</span><span class="p">];</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">renderfix</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">c</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getScreenCTM</span><span class="p">()</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">createSVGMatrix</span><span class="p">()}</span><span class="k">catch</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">createSVGMatrix</span><span class="p">()}</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=-</span><span class="nx">c</span><span class="p">.</span><span class="nx">e</span><span class="o">%</span><span class="mi">1</span><span class="p">,</span><span class="nx">f</span><span class="o">=-</span><span class="nx">c</span><span class="p">.</span><span class="nx">f</span><span class="o">%</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">||</span><span class="nx">f</span><span class="p">)</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_left</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_left</span><span class="o">+</span><span class="nx">e</span><span class="p">)</span><span class="o">%</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_left</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">),</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_top</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_top</span><span class="o">+</span><span class="nx">f</span><span class="p">)</span><span class="o">%</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_top</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">)},</span><span class="nx">a</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">clear</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.clear&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)</span><span class="nx">b</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="kc">null</span><span class="p">,(</span><span class="k">this</span><span class="p">.</span><span class="nx">desc</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;desc&quot;</span><span class="p">)).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">&quot;Created with Raphaël &quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">version</span><span class="p">)),</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">desc</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">defs</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="s2">&quot;defs&quot;</span><span class="p">))},</span><span class="nx">a</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">remove</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">k</span><span class="p">(</span><span class="s2">&quot;raphael.remove&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span> <span class="k">in</span> <span class="k">this</span><span class="p">)</span><span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="k">typeof</span> <span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">_removedFactory</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="p">};</span><span class="kd">var</span> <span class="nx">B</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">st</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">C</span> <span class="k">in</span> <span class="nx">A</span><span class="p">)</span><span class="nx">A</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">C</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">B</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">C</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">B</span><span class="p">[</span><span class="nx">C</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">arguments</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">)})}}(</span><span class="nx">C</span><span class="p">))}(</span><span class="nb">window</span><span class="p">.</span><span class="nx">Raphael</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">Raphael</span><span class="p">.</span><span class="nx">vml</span><span class="o">&amp;&amp;</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="s2">&quot;hasOwnProperty&quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nb">String</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">round</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">max</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">min</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">abs</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="sr">/[, ]+/</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">eve</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="s2">&quot; progid:DXImageTransform.Microsoft&quot;</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="p">{</span><span class="nx">M</span><span class="o">:</span><span class="s2">&quot;m&quot;</span><span class="p">,</span><span class="nx">L</span><span class="o">:</span><span class="s2">&quot;l&quot;</span><span class="p">,</span><span class="nx">C</span><span class="o">:</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="nx">Z</span><span class="o">:</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="nx">m</span><span class="o">:</span><span class="s2">&quot;t&quot;</span><span class="p">,</span><span class="nx">l</span><span class="o">:</span><span class="s2">&quot;r&quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">:</span><span class="s2">&quot;v&quot;</span><span class="p">,</span><span class="nx">z</span><span class="o">:</span><span class="s2">&quot;x&quot;</span><span class="p">},</span><span class="nx">q</span><span class="o">=</span><span class="sr">/([clmz]),?([^clmz]*)/gi</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="sr">/ progid:\S+Blur\([^\)]+\)/g</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="sr">/-?[^,\s-]+/g</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="s2">&quot;position:absolute;left:0;top:0;width:1px;height:1px&quot;</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="mi">21600</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="p">{</span><span class="nx">path</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">rect</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">image</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="nx">w</span><span class="o">=</span><span class="p">{</span><span class="nx">circle</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">ellipse</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="nx">x</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="sr">/[ahqstv]/ig</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_pathToAbsolute</span><span class="p">;</span><span class="nx">c</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_path2curve</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="sr">/[clmz]/g</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">==</span><span class="nx">a</span><span class="p">.</span><span class="nx">_pathToAbsolute</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="nx">d</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">[],</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">==</span><span class="s2">&quot;m&quot;</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">p</span><span class="p">[</span><span class="nx">b</span><span class="p">];</span><span class="nx">c</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">+=</span><span class="nx">d</span><span class="o">+</span><span class="nx">p</span><span class="p">[</span><span class="nx">b</span><span class="o">==</span><span class="s2">&quot;m&quot;</span><span class="o">?</span><span class="s2">&quot;l&quot;</span><span class="o">:</span><span class="s2">&quot;L&quot;</span><span class="p">],</span><span class="nx">d</span><span class="o">=</span><span class="p">[]),</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="o">*</span><span class="nx">u</span><span class="p">))});</span><span class="k">return</span> <span class="nx">g</span><span class="o">+</span><span class="nx">d</span><span class="p">});</span><span class="k">return</span> <span class="nx">g</span><span class="p">}</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">;</span><span class="nx">g</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">l</span><span class="p">;</span><span class="nx">k</span><span class="o">++</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="nx">j</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="nx">k</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">j</span><span class="o">==</span><span class="s2">&quot;z&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">m</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">m</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">;</span><span class="nx">m</span><span class="o">++</span><span class="p">)</span><span class="nx">j</span><span class="o">+=</span><span class="nx">f</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span><span class="o">*</span><span class="nx">u</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">m</span><span class="o">!=</span><span class="nx">r</span><span class="o">-</span><span class="mi">1</span><span class="o">?</span><span class="s2">&quot;,&quot;</span><span class="o">:</span><span class="nx">o</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">j</span><span class="p">)}</span><span class="k">return</span> <span class="nx">g</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">n</span><span class="p">)},</span><span class="nx">y</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">matrix</span><span class="p">();</span><span class="nx">e</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="o">-</span><span class="nx">b</span><span class="p">,.</span><span class="mi">5</span><span class="p">,.</span><span class="mi">5</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">dx</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">dy</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)}},</span><span class="nx">z</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">matrix</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">fillpos</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">u</span><span class="o">/</span><span class="nx">b</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">u</span><span class="o">/</span><span class="nx">c</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">visibility</span><span class="o">=</span><span class="s2">&quot;hidden&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">b</span><span class="o">&amp;&amp;!!</span><span class="nx">c</span><span class="p">){</span><span class="nx">l</span><span class="p">.</span><span class="nx">coordsize</span><span class="o">=</span><span class="nx">i</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">i</span><span class="p">(</span><span class="nx">s</span><span class="p">),</span><span class="nx">m</span><span class="p">.</span><span class="nx">rotation</span><span class="o">=</span><span class="nx">f</span><span class="o">*</span><span class="p">(</span><span class="nx">b</span><span class="o">*</span><span class="nx">c</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">y</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">dx</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">dy</span><span class="p">}</span><span class="nx">b</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">+=</span><span class="s2">&quot;x&quot;</span><span class="p">),</span><span class="nx">c</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">+=</span><span class="s2">&quot; y&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span><span class="nx">m</span><span class="p">.</span><span class="nx">flip</span><span class="o">=</span><span class="nx">p</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">coordorigin</span><span class="o">=</span><span class="nx">d</span><span class="o">*-</span><span class="nx">r</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">e</span><span class="o">*-</span><span class="nx">s</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">||</span><span class="nx">g</span><span class="p">.</span><span class="nx">fillsize</span><span class="p">){</span><span class="kd">var</span> <span class="nx">v</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">j</span><span class="p">);</span><span class="nx">v</span><span class="o">=</span><span class="nx">v</span><span class="o">&amp;&amp;</span><span class="nx">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">l</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">v</span><span class="p">),</span><span class="nx">k</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">y</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">x</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">h</span><span class="p">.</span><span class="nx">y</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])),</span><span class="nx">v</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">dx</span><span class="o">*</span><span class="nx">o</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">dy</span><span class="o">*</span><span class="nx">o</span><span class="p">),</span><span class="nx">g</span><span class="p">.</span><span class="nx">fillsize</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">v</span><span class="p">.</span><span class="nx">size</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">fillsize</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nx">i</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">g</span><span class="p">.</span><span class="nx">fillsize</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">i</span><span class="p">(</span><span class="nx">c</span><span class="p">)),</span><span class="nx">l</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">v</span><span class="p">)}</span><span class="nx">m</span><span class="p">.</span><span class="nx">visibility</span><span class="o">=</span><span class="s2">&quot;visible&quot;</span><span class="p">}};</span><span class="nx">a</span><span class="p">.</span><span class="nx">toString</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">version</span><span class="p">};</span><span class="kd">var</span> <span class="nx">A</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">d</span><span class="o">?</span><span class="s2">&quot;end&quot;</span><span class="o">:</span><span class="s2">&quot;start&quot;</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="s2">&quot;classic&quot;</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="s2">&quot;medium&quot;</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="s2">&quot;medium&quot;</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">g</span><span class="o">--</span><span class="p">)</span><span class="k">switch</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">]){</span><span class="k">case</span><span class="s2">&quot;block&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;classic&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;oval&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;diamond&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;open&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;none&quot;</span><span class="o">:</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">];</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;wide&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;narrow&quot;</span><span class="o">:</span><span class="nx">j</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">];</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;long&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;short&quot;</span><span class="o">:</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">]}</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="nx">k</span><span class="p">[</span><span class="nx">f</span><span class="o">+</span><span class="s2">&quot;arrow&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="p">[</span><span class="nx">f</span><span class="o">+</span><span class="s2">&quot;arrowlength&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">k</span><span class="p">[</span><span class="nx">f</span><span class="o">+</span><span class="s2">&quot;arrowwidth&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">j</span><span class="p">},</span><span class="nx">B</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">attrs</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">attrs</span><span class="o">||</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">attrs</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">v</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">!=</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="o">!=</span><span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">width</span><span class="o">!=</span><span class="nx">m</span><span class="p">.</span><span class="nx">width</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="o">!=</span><span class="nx">m</span><span class="p">.</span><span class="nx">height</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">cx</span><span class="o">!=</span><span class="nx">m</span><span class="p">.</span><span class="nx">cx</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">cy</span><span class="o">!=</span><span class="nx">m</span><span class="p">.</span><span class="nx">cy</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">rx</span><span class="o">!=</span><span class="nx">m</span><span class="p">.</span><span class="nx">rx</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">ry</span><span class="o">!=</span><span class="nx">m</span><span class="p">.</span><span class="nx">ry</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">r</span><span class="o">!=</span><span class="nx">m</span><span class="p">.</span><span class="nx">r</span><span class="p">),</span><span class="nx">s</span><span class="o">=</span><span class="nx">w</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">cx</span><span class="o">!=</span><span class="nx">i</span><span class="p">.</span><span class="nx">cx</span><span class="o">||</span><span class="nx">m</span><span class="p">.</span><span class="nx">cy</span><span class="o">!=</span><span class="nx">i</span><span class="p">.</span><span class="nx">cy</span><span class="o">||</span><span class="nx">m</span><span class="p">.</span><span class="nx">r</span><span class="o">!=</span><span class="nx">i</span><span class="p">.</span><span class="nx">r</span><span class="o">||</span><span class="nx">m</span><span class="p">.</span><span class="nx">rx</span><span class="o">!=</span><span class="nx">i</span><span class="p">.</span><span class="nx">rx</span><span class="o">||</span><span class="nx">m</span><span class="p">.</span><span class="nx">ry</span><span class="o">!=</span><span class="nx">i</span><span class="p">.</span><span class="nx">ry</span><span class="p">),</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">y</span> <span class="k">in</span> <span class="nx">i</span><span class="p">)</span><span class="nx">i</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">y</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">y</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">y</span><span class="p">]);</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_getPath</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">](</span><span class="nx">e</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">href</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">href</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">title</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">title</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">title</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">target</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">target</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">target</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">cursor</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">cursor</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">cursor</span><span class="p">),</span><span class="s2">&quot;blur&quot;</span><span class="k">in</span> <span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">blur</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">blur</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">path</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;path&quot;</span><span class="o">||</span><span class="nx">r</span><span class="p">)</span><span class="nx">l</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="o">~</span><span class="nx">c</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">path</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">_pathToAbsolute</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">path</span><span class="p">)</span><span class="o">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">path</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;image&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">fillpos</span><span class="o">=</span><span class="p">[</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">fillsize</span><span class="o">=</span><span class="p">[</span><span class="nx">m</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">height</span><span class="p">],</span><span class="nx">z</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span><span class="s2">&quot;transform&quot;</span><span class="k">in</span> <span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">transform</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span><span class="kd">var</span> <span class="nx">B</span><span class="o">=+</span><span class="nx">m</span><span class="p">.</span><span class="nx">cx</span><span class="p">,</span><span class="nx">D</span><span class="o">=+</span><span class="nx">m</span><span class="p">.</span><span class="nx">cy</span><span class="p">,</span><span class="nx">E</span><span class="o">=+</span><span class="nx">m</span><span class="p">.</span><span class="nx">rx</span><span class="o">||+</span><span class="nx">m</span><span class="p">.</span><span class="nx">r</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">G</span><span class="o">=+</span><span class="nx">m</span><span class="p">.</span><span class="nx">ry</span><span class="o">||+</span><span class="nx">m</span><span class="p">.</span><span class="nx">r</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span><span class="nx">l</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s2">&quot;ar{0},{1},{2},{3},{4},{1},{4},{1}x&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">((</span><span class="nx">B</span><span class="o">-</span><span class="nx">E</span><span class="p">)</span><span class="o">*</span><span class="nx">u</span><span class="p">),</span><span class="nx">f</span><span class="p">((</span><span class="nx">D</span><span class="o">-</span><span class="nx">G</span><span class="p">)</span><span class="o">*</span><span class="nx">u</span><span class="p">),</span><span class="nx">f</span><span class="p">((</span><span class="nx">B</span><span class="o">+</span><span class="nx">E</span><span class="p">)</span><span class="o">*</span><span class="nx">u</span><span class="p">),</span><span class="nx">f</span><span class="p">((</span><span class="nx">D</span><span class="o">+</span><span class="nx">G</span><span class="p">)</span><span class="o">*</span><span class="nx">u</span><span class="p">),</span><span class="nx">f</span><span class="p">(</span><span class="nx">B</span><span class="o">*</span><span class="nx">u</span><span class="p">))}</span><span class="k">if</span><span class="p">(</span><span class="s2">&quot;clip-rect&quot;</span><span class="k">in</span> <span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">H</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;clip-rect&quot;</span><span class="p">]).</span><span class="nx">split</span><span class="p">(</span><span class="nx">k</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">H</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">4</span><span class="p">){</span><span class="nx">H</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=+</span><span class="nx">H</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span> <span class="o">+</span><span class="nx">H</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">H</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=+</span><span class="nx">H</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span> <span class="o">+</span><span class="nx">H</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="kd">var</span> <span class="nx">I</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">clipRect</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">J</span><span class="o">=</span><span class="nx">I</span><span class="p">.</span><span class="nx">style</span><span class="p">;</span><span class="nx">J</span><span class="p">.</span><span class="nx">clip</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s2">&quot;rect({1}px {2}px {3}px {0}px)&quot;</span><span class="p">,</span><span class="nx">H</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">clipRect</span><span class="o">||</span><span class="p">(</span><span class="nx">J</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="s2">&quot;absolute&quot;</span><span class="p">,</span><span class="nx">J</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">J</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">J</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">,</span><span class="nx">J</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">height</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">I</span><span class="p">,</span><span class="nx">l</span><span class="p">),</span><span class="nx">I</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">l</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">clipRect</span><span class="o">=</span><span class="nx">I</span><span class="p">)}</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;clip-rect&quot;</span><span class="p">]</span><span class="o">||</span><span class="nx">l</span><span class="p">.</span><span class="nx">clipRect</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">clipRect</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">clip</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">textpath</span><span class="p">){</span><span class="kd">var</span> <span class="nx">K</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">textpath</span><span class="p">.</span><span class="nx">style</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">font</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">K</span><span class="p">.</span><span class="nx">font</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">font</span><span class="p">),</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;font-family&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">K</span><span class="p">.</span><span class="nx">fontFamily</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="o">+</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;font-family&quot;</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^[&#39;&quot;]+|[&#39;&quot;]+$/g</span><span class="p">,</span><span class="nx">o</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&quot;&#39;</span><span class="p">),</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;font-size&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">K</span><span class="p">.</span><span class="nx">fontSize</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;font-size&quot;</span><span class="p">]),</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;font-weight&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">K</span><span class="p">.</span><span class="nx">fontWeight</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;font-weight&quot;</span><span class="p">]),</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;font-style&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">K</span><span class="p">.</span><span class="nx">fontStyle</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;font-style&quot;</span><span class="p">])}</span><span class="s2">&quot;arrow-start&quot;</span><span class="k">in</span> <span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">A</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;arrow-start&quot;</span><span class="p">]),</span><span class="s2">&quot;arrow-end&quot;</span><span class="k">in</span> <span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">A</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;arrow-end&quot;</span><span class="p">],</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">opacity</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">src</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">stroke</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-opacity&quot;</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;fill-opacity&quot;</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-dasharray&quot;</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-miterlimit&quot;</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-linejoin&quot;</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span><span class="kd">var</span> <span class="nx">L</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">M</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="nx">L</span><span class="o">=</span><span class="nx">L</span><span class="o">&amp;&amp;</span><span class="nx">L</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="o">!</span><span class="nx">L</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">M</span><span class="o">=</span><span class="nx">L</span><span class="o">=</span><span class="nx">F</span><span class="p">(</span><span class="nx">j</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;image&quot;</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">src</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">L</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">src</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">L</span><span class="p">.</span><span class="nx">on</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">L</span><span class="p">.</span><span class="nx">on</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="o">==</span><span class="s2">&quot;none&quot;</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="o">===</span><span class="kc">null</span><span class="p">)</span><span class="nx">L</span><span class="p">.</span><span class="nx">on</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">L</span><span class="p">.</span><span class="nx">on</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="p">){</span><span class="kd">var</span> <span class="nx">N</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_ISURL</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">N</span><span class="p">){</span><span class="nx">L</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">==</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">L</span><span class="p">),</span><span class="nx">L</span><span class="p">.</span><span class="nx">rotate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">L</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">N</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">L</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;tile&quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">O</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="nx">L</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="nx">O</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">O</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">fillpos</span><span class="o">=</span><span class="p">[</span><span class="nx">O</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">O</span><span class="p">.</span><span class="nx">y</span><span class="p">],</span><span class="nx">a</span><span class="p">.</span><span class="nx">_preload</span><span class="p">(</span><span class="nx">N</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">fillsize</span><span class="o">=</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">]})}</span><span class="k">else</span> <span class="nx">L</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="p">).</span><span class="nx">hex</span><span class="p">,</span><span class="nx">L</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">L</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;solid&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="p">).</span><span class="nx">error</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">type</span> <span class="k">in</span><span class="p">{</span><span class="nx">circle</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">ellipse</span><span class="o">:</span><span class="mi">1</span><span class="p">}</span><span class="o">||</span><span class="nx">c</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="p">).</span><span class="nx">charAt</span><span class="p">()</span><span class="o">!=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">C</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="p">,</span><span class="nx">L</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">fill</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">gradient</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="p">,</span><span class="nx">L</span><span class="p">.</span><span class="nx">rotate</span><span class="o">=!</span><span class="mi">1</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="s2">&quot;fill-opacity&quot;</span><span class="k">in</span> <span class="nx">i</span><span class="o">||</span><span class="s2">&quot;opacity&quot;</span><span class="k">in</span> <span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">P</span><span class="o">=</span><span class="p">((</span><span class="o">+</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;fill-opacity&quot;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="o">||</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">((</span><span class="o">+</span><span class="nx">m</span><span class="p">.</span><span class="nx">opacity</span><span class="o">+</span><span class="mi">1</span><span class="o">||</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">((</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">fill</span><span class="p">).</span><span class="nx">o</span><span class="o">+</span><span class="mi">1</span><span class="o">||</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="nx">P</span><span class="o">=</span><span class="nx">h</span><span class="p">(</span><span class="nx">g</span><span class="p">(</span><span class="nx">P</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="mi">1</span><span class="p">),</span><span class="nx">L</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="nx">P</span><span class="p">,</span><span class="nx">L</span><span class="p">.</span><span class="nx">src</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">L</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">)}</span><span class="nx">l</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">L</span><span class="p">);</span><span class="kd">var</span> <span class="nx">Q</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">T</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="o">!</span><span class="nx">Q</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">T</span><span class="o">=</span><span class="nx">Q</span><span class="o">=</span><span class="nx">F</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">stroke</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">stroke</span><span class="o">!=</span><span class="s2">&quot;none&quot;</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">]</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-opacity&quot;</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-dasharray&quot;</span><span class="p">]</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-miterlimit&quot;</span><span class="p">]</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-linejoin&quot;</span><span class="p">]</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">])</span><span class="nx">Q</span><span class="p">.</span><span class="nx">on</span><span class="o">=!</span><span class="mi">0</span><span class="p">;(</span><span class="nx">i</span><span class="p">.</span><span class="nx">stroke</span><span class="o">==</span><span class="s2">&quot;none&quot;</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">stroke</span><span class="o">===</span><span class="kc">null</span><span class="o">||</span><span class="nx">Q</span><span class="p">.</span><span class="nx">on</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">stroke</span><span class="o">==</span><span class="mi">0</span><span class="o">||</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">Q</span><span class="p">.</span><span class="nx">on</span><span class="o">=!</span><span class="mi">1</span><span class="p">);</span><span class="kd">var</span> <span class="nx">U</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getRGB</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">stroke</span><span class="p">);</span><span class="nx">Q</span><span class="p">.</span><span class="nx">on</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">stroke</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">Q</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="nx">U</span><span class="p">.</span><span class="nx">hex</span><span class="p">),</span><span class="nx">P</span><span class="o">=</span><span class="p">((</span><span class="o">+</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;stroke-opacity&quot;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="o">||</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">((</span><span class="o">+</span><span class="nx">m</span><span class="p">.</span><span class="nx">opacity</span><span class="o">+</span><span class="mi">1</span><span class="o">||</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">((</span><span class="o">+</span><span class="nx">U</span><span class="p">.</span><span class="nx">o</span><span class="o">+</span><span class="mi">1</span><span class="o">||</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="kd">var</span> <span class="nx">V</span><span class="o">=</span><span class="p">(</span><span class="nx">d</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">])</span><span class="o">||</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">.</span><span class="mi">75</span><span class="p">;</span><span class="nx">P</span><span class="o">=</span><span class="nx">h</span><span class="p">(</span><span class="nx">g</span><span class="p">(</span><span class="nx">P</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="mi">1</span><span class="p">),</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">]</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">V</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">]),</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">Q</span><span class="p">.</span><span class="nx">weight</span><span class="o">=</span><span class="nx">V</span><span class="p">),</span><span class="nx">V</span><span class="o">&amp;&amp;</span><span class="nx">V</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">P</span><span class="o">*=</span><span class="nx">V</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">Q</span><span class="p">.</span><span class="nx">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span><span class="nx">Q</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="nx">P</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-linejoin&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">Q</span><span class="p">.</span><span class="nx">joinstyle</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-linejoin&quot;</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;miter&quot;</span><span class="p">),</span><span class="nx">Q</span><span class="p">.</span><span class="nx">miterlimit</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-miterlimit&quot;</span><span class="p">]</span><span class="o">||</span><span class="mi">8</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">Q</span><span class="p">.</span><span class="nx">endcap</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;butt&quot;</span><span class="o">?</span><span class="s2">&quot;flat&quot;</span><span class="o">:</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;square&quot;</span><span class="o">?</span><span class="s2">&quot;square&quot;</span><span class="o">:</span><span class="s2">&quot;round&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-dasharray&quot;</span><span class="p">]){</span><span class="kd">var</span> <span class="nx">W</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;-&quot;</span><span class="o">:</span><span class="s2">&quot;shortdash&quot;</span><span class="p">,</span><span class="s2">&quot;.&quot;</span><span class="o">:</span><span class="s2">&quot;shortdot&quot;</span><span class="p">,</span><span class="s2">&quot;-.&quot;</span><span class="o">:</span><span class="s2">&quot;shortdashdot&quot;</span><span class="p">,</span><span class="s2">&quot;-..&quot;</span><span class="o">:</span><span class="s2">&quot;shortdashdotdot&quot;</span><span class="p">,</span><span class="s2">&quot;. &quot;</span><span class="o">:</span><span class="s2">&quot;dot&quot;</span><span class="p">,</span><span class="s2">&quot;- &quot;</span><span class="o">:</span><span class="s2">&quot;dash&quot;</span><span class="p">,</span><span class="s2">&quot;--&quot;</span><span class="o">:</span><span class="s2">&quot;longdash&quot;</span><span class="p">,</span><span class="s2">&quot;- .&quot;</span><span class="o">:</span><span class="s2">&quot;dashdot&quot;</span><span class="p">,</span><span class="s2">&quot;--.&quot;</span><span class="o">:</span><span class="s2">&quot;longdashdot&quot;</span><span class="p">,</span><span class="s2">&quot;--..&quot;</span><span class="o">:</span><span class="s2">&quot;longdashdotdot&quot;</span><span class="p">};</span><span class="nx">Q</span><span class="p">.</span><span class="nx">dashstyle</span><span class="o">=</span><span class="nx">W</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-dasharray&quot;</span><span class="p">])</span><span class="o">?</span><span class="nx">W</span><span class="p">[</span><span class="nx">i</span><span class="p">[</span><span class="s2">&quot;stroke-dasharray&quot;</span><span class="p">]]</span><span class="o">:</span><span class="nx">o</span><span class="p">}</span><span class="nx">T</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">Q</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;text&quot;</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="nx">o</span><span class="p">;</span><span class="kd">var</span> <span class="nx">X</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">span</span><span class="p">,</span><span class="nx">Y</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="nx">Z</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">font</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">.</span><span class="nx">font</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\d+(?:\.\d*)?(?=px)/</span><span class="p">);</span><span class="nx">p</span><span class="o">=</span><span class="nx">X</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">font</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">font</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">font</span><span class="p">),</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;font-family&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">fontFamily</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;font-family&quot;</span><span class="p">]),</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;font-weight&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">fontWeight</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;font-weight&quot;</span><span class="p">]),</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;font-style&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">fontStyle</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;font-style&quot;</span><span class="p">]),</span><span class="nx">Z</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;font-size&quot;</span><span class="p">]</span><span class="o">||</span><span class="nx">Z</span><span class="o">&amp;&amp;</span><span class="nx">Z</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">||</span><span class="mi">10</span><span class="p">,</span><span class="nx">p</span><span class="p">.</span><span class="nx">fontSize</span><span class="o">=</span><span class="nx">Z</span><span class="o">*</span><span class="nx">Y</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">textpath</span><span class="p">.</span><span class="nx">string</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">X</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">textpath</span><span class="p">.</span><span class="nx">string</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;/g</span><span class="p">,</span><span class="s2">&quot;&amp;#60;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&amp;/g</span><span class="p">,</span><span class="s2">&quot;&amp;#38;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\n/g</span><span class="p">,</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">));</span><span class="kd">var</span> <span class="nx">$</span><span class="o">=</span><span class="nx">X</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">();</span><span class="nx">t</span><span class="p">.</span><span class="nx">W</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">w</span><span class="o">=</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">right</span><span class="o">-</span><span class="nx">$</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span><span class="o">/</span><span class="nx">Y</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">H</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">h</span><span class="o">=</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">bottom</span><span class="o">-</span><span class="nx">$</span><span class="p">.</span><span class="nx">top</span><span class="p">)</span><span class="o">/</span><span class="nx">Y</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">X</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">Y</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">H</span><span class="o">/</span><span class="mi">2</span><span class="p">,(</span><span class="s2">&quot;x&quot;</span><span class="k">in</span> <span class="nx">i</span><span class="o">||</span><span class="s2">&quot;y&quot;</span><span class="k">in</span> <span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">v</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s2">&quot;m{0},{1}l{2},{1}&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="o">*</span><span class="nx">u</span><span class="p">),</span><span class="nx">f</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="o">*</span><span class="nx">u</span><span class="p">),</span><span class="nx">f</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="o">*</span><span class="nx">u</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span><span class="kd">var</span> <span class="nx">_</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">,</span><span class="s2">&quot;font-family&quot;</span><span class="p">,</span><span class="s2">&quot;font-weight&quot;</span><span class="p">,</span><span class="s2">&quot;font-style&quot;</span><span class="p">,</span><span class="s2">&quot;font-size&quot;</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">ba</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">bb</span><span class="o">=</span><span class="nx">_</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">ba</span><span class="o">&lt;</span><span class="nx">bb</span><span class="p">;</span><span class="nx">ba</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">_</span><span class="p">[</span><span class="nx">ba</span><span class="p">]</span><span class="k">in</span> <span class="nx">i</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirty</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="k">switch</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">]){</span><span class="k">case</span><span class="s2">&quot;start&quot;</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">textpath</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="s2">&quot;v-text-align&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">bbx</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">W</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;end&quot;</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">textpath</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="s2">&quot;v-text-align&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">bbx</span><span class="o">=-</span><span class="nx">t</span><span class="p">.</span><span class="nx">W</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">default</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">textpath</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="s2">&quot;v-text-align&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">bbx</span><span class="o">=</span><span class="mi">0</span><span class="p">}</span><span class="nx">t</span><span class="p">.</span><span class="nx">textpath</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="s2">&quot;v-text-kern&quot;</span><span class="p">]</span><span class="o">=!</span><span class="mi">0</span><span class="p">}},</span><span class="nx">C</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">attrs</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">attrs</span><span class="o">||</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">attrs</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="s2">&quot;linear&quot;</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="s2">&quot;.5 .5&quot;</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">gradient</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">f</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_radial_gradient</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">l</span><span class="o">=</span><span class="s2">&quot;radial&quot;</span><span class="p">,</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">i</span><span class="p">(</span><span class="nx">b</span><span class="o">-</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="nx">i</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span><span class="p">.</span><span class="mi">25</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(.</span><span class="mi">25</span><span class="o">-</span><span class="nx">i</span><span class="p">(</span><span class="nx">b</span><span class="o">-</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="p">((</span><span class="nx">c</span><span class="o">&gt;</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="p">.</span><span class="mi">5</span><span class="p">),</span><span class="nx">m</span><span class="o">=</span><span class="nx">b</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">o</span><span class="p">}),</span><span class="nx">f</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/\s*\-\s*/</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="o">==</span><span class="s2">&quot;linear&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span><span class="nx">p</span><span class="o">=-</span><span class="nx">d</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">p</span><span class="p">))</span><span class="k">return</span> <span class="kc">null</span><span class="p">}</span><span class="kd">var</span> <span class="nx">q</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_parseDots</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">q</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">shape</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">node</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">g</span><span class="p">.</span><span class="nx">on</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">method</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="nx">q</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">color</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">color2</span><span class="o">=</span><span class="nx">q</span><span class="p">[</span><span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">color</span><span class="p">;</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">)</span><span class="nx">q</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nx">offset</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">q</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nx">offset</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">q</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nx">color</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">colors</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="o">?</span><span class="nx">r</span><span class="p">.</span><span class="nx">join</span><span class="p">()</span><span class="o">:</span><span class="s2">&quot;0% &quot;</span><span class="o">+</span><span class="nx">g</span><span class="p">.</span><span class="nx">color</span><span class="p">,</span><span class="nx">l</span><span class="o">==</span><span class="s2">&quot;radial&quot;</span><span class="o">?</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;gradientTitle&quot;</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">focus</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">focussize</span><span class="o">=</span><span class="s2">&quot;0 0&quot;</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">focusposition</span><span class="o">=</span><span class="nx">m</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">angle</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;gradient&quot;</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">angle</span><span class="o">=</span><span class="p">(</span><span class="mi">270</span><span class="o">-</span><span class="nx">p</span><span class="p">)</span><span class="o">%</span><span class="mi">360</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">g</span><span class="p">)}</span><span class="k">return</span> <span class="mi">1</span><span class="p">},</span><span class="nx">D</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">raphael</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_oid</span><span class="o">++</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">raphaelid</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">X</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">Y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="o">=</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">matrix</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">matrix</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="o">=</span><span class="p">{</span><span class="nx">transform</span><span class="o">:</span><span class="p">[],</span><span class="nx">sx</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">sy</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">dx</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">dy</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">deg</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">dirty</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">dirtyT</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="o">!</span><span class="nx">c</span><span class="p">.</span><span class="nx">bottom</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">prev</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="k">this</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">next</span><span class="o">=</span><span class="kc">null</span><span class="p">},</span><span class="nx">E</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">el</span><span class="p">;</span><span class="nx">D</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">E</span><span class="p">,</span><span class="nx">E</span><span class="p">.</span><span class="nx">constructor</span><span class="o">=</span><span class="nx">D</span><span class="p">,</span><span class="nx">E</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">==</span><span class="kc">null</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">;</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">_viewBoxShift</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="o">?</span><span class="s2">&quot;s&quot;</span><span class="o">+</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">scale</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">scale</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;-1-1t&quot;</span><span class="o">+</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">dx</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">dy</span><span class="p">]</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">f</span><span class="p">;</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\.{3}|\u2026/g</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="o">||</span><span class="nx">o</span><span class="p">)),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_extractTransform</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="o">+</span><span class="nx">b</span><span class="p">);</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">matrix</span><span class="p">.</span><span class="nx">clone</span><span class="p">(),</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">skew</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="o">=~</span><span class="nx">c</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">fill</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">),</span><span class="nx">l</span><span class="o">=!</span><span class="nx">c</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">fill</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;url(&quot;</span><span class="p">);</span><span class="nx">g</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="o">||</span><span class="nx">k</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;image&quot;</span><span class="p">){</span><span class="nx">h</span><span class="p">.</span><span class="nx">matrix</span><span class="o">=</span><span class="s2">&quot;1 0 0 1&quot;</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="s2">&quot;0 0&quot;</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">split</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">.</span><span class="nx">noRotation</span><span class="o">||!</span><span class="nx">j</span><span class="p">.</span><span class="nx">isSimple</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">toFilter</span><span class="p">();</span><span class="kd">var</span> <span class="nx">m</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(),</span><span class="nx">p</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="nx">q</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">coordorigin</span><span class="o">=</span><span class="nx">q</span><span class="o">*-</span><span class="nx">u</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">r</span><span class="o">*-</span><span class="nx">u</span><span class="p">,</span><span class="nx">z</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="mi">0</span><span class="p">)}</span><span class="k">else</span> <span class="nx">i</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">z</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">scalex</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">scaley</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">dx</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">dy</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">rotate</span><span class="p">)}</span><span class="k">else</span> <span class="nx">i</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">matrix</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">h</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">offset</span><span class="p">();</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="nx">f</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">E</span><span class="p">.</span><span class="nx">rotate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="nx">k</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">])),</span><span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="mi">2</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirtyT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">.</span><span class="nx">concat</span><span class="p">([[</span><span class="s2">&quot;r&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">]]));</span><span class="k">return</span> <span class="k">this</span><span class="p">}},</span><span class="nx">E</span><span class="p">.</span><span class="nx">translate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="nx">k</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])),</span><span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="o">=+</span><span class="nx">b</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">bbox</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">bbox</span><span class="p">.</span><span class="nx">x</span><span class="o">+=</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">bbox</span><span class="p">.</span><span class="nx">y</span><span class="o">+=</span><span class="nx">b</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">.</span><span class="nx">concat</span><span class="p">([[</span><span class="s2">&quot;t&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">]]));</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">E</span><span class="p">.</span><span class="nx">scale</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="nx">k</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="nx">f</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="kc">null</span><span class="p">),</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="kc">null</span><span class="p">)),</span><span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">b</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">),</span><span class="nx">f</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">f</span><span class="o">==</span><span class="kc">null</span><span class="p">)</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBBox</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nx">g</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">g</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">f</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nx">g</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">g</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="mi">2</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">.</span><span class="nx">concat</span><span class="p">([[</span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">]])),</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">dirtyT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">E</span><span class="p">.</span><span class="nx">hide</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">E</span><span class="p">.</span><span class="nx">show</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="nx">o</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">E</span><span class="p">.</span><span class="nx">_getBBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span><span class="p">{};</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">X</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bbx</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">W</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">Y</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">H</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">W</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">H</span><span class="p">}},</span><span class="nx">E</span><span class="p">.</span><span class="nx">remove</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="o">&amp;&amp;!!</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">__set__</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">__set__</span><span class="p">.</span><span class="nx">exclude</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">eve</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;raphael.*.*.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_tear</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">shape</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">shape</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">shape</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span> <span class="k">in</span> <span class="k">this</span><span class="p">)</span><span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="k">typeof</span> <span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">_removedFactory</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="o">=!</span><span class="mi">0</span><span class="p">}},</span><span class="nx">E</span><span class="p">.</span><span class="nx">attr</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">f</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="nx">f</span><span class="p">]);</span><span class="nx">e</span><span class="p">.</span><span class="nx">gradient</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">fill</span><span class="o">==</span><span class="s2">&quot;none&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">fill</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">gradient</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">gradient</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">transform</span><span class="p">;</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;string&quot;</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">==</span><span class="nx">j</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">fill</span><span class="o">==</span><span class="s2">&quot;none&quot;</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">gradient</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">gradient</span><span class="p">;</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">k</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">m</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">c</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">c</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="o">?</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="s2">&quot;function&quot;</span><span class="p">)</span><span class="o">?</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">def</span><span class="o">:</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_availableAttrs</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="k">return</span> <span class="nx">m</span><span class="o">-</span><span class="mi">1</span><span class="o">?</span><span class="nx">h</span><span class="o">:</span><span class="nx">h</span><span class="p">[</span><span class="nx">g</span><span class="p">[</span><span class="mi">0</span><span class="p">]]}</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;array&quot;</span><span class="p">)){</span><span class="nx">h</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">m</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">[</span><span class="nx">i</span><span class="p">]]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span><span class="k">return</span> <span class="nx">h</span><span class="p">}</span><span class="kd">var</span> <span class="nx">n</span><span class="p">;</span><span class="nx">d</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="p">{},</span><span class="nx">n</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">),</span><span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">c</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span> <span class="k">in</span> <span class="nx">n</span><span class="p">)</span><span class="nx">l</span><span class="p">(</span><span class="s2">&quot;raphael.attr.&quot;</span><span class="o">+</span><span class="nx">o</span><span class="o">+</span><span class="s2">&quot;.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="p">[</span><span class="nx">o</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">o</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">o</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">o</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">o</span><span class="p">],</span><span class="s2">&quot;function&quot;</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">customAttributes</span><span class="p">[</span><span class="nx">o</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,[].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="nx">o</span><span class="p">]));</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="nx">o</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">q</span> <span class="k">in</span> <span class="nx">p</span><span class="p">)</span><span class="nx">p</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">q</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="nx">q</span><span class="p">]</span><span class="o">=</span><span class="nx">p</span><span class="p">[</span><span class="nx">q</span><span class="p">])}</span><span class="nx">n</span><span class="p">.</span><span class="nx">text</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">&quot;text&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">textpath</span><span class="p">.</span><span class="nx">string</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">text</span><span class="p">),</span><span class="nx">B</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="p">)}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">E</span><span class="p">.</span><span class="nx">toFront</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">.</span><span class="nx">top</span><span class="o">!=</span><span class="k">this</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">_tofront</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">E</span><span class="p">.</span><span class="nx">toBack</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_toback</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">));</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">E</span><span class="p">.</span><span class="nx">insertAfter</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">constructor</span><span class="o">==</span><span class="nx">a</span><span class="p">.</span><span class="nx">st</span><span class="p">.</span><span class="nx">constructor</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span><span class="nx">b</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span><span class="o">?</span><span class="nx">b</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_insertafter</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">E</span><span class="p">.</span><span class="nx">insertBefore</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">removed</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">constructor</span><span class="o">==</span><span class="nx">a</span><span class="p">.</span><span class="nx">st</span><span class="p">.</span><span class="nx">constructor</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">b</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">node</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_insertbefore</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">paper</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">E</span><span class="p">.</span><span class="nx">blur</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">node</span><span class="p">.</span><span class="nx">runtimeStyle</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">filter</span><span class="p">;</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">o</span><span class="p">),</span><span class="o">+</span><span class="nx">b</span><span class="o">!==</span><span class="mi">0</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">blur</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span><span class="nx">d</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">m</span><span class="o">+</span><span class="s2">&quot;.Blur(pixelradius=&quot;</span><span class="o">+</span><span class="p">(</span><span class="o">+</span><span class="nx">b</span><span class="o">||</span><span class="mf">1.5</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">margin</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s2">&quot;-{0}px 0 0 -{0}px&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">(</span><span class="o">+</span><span class="nx">b</span><span class="o">||</span><span class="mf">1.5</span><span class="p">)))</span><span class="o">:</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">delete</span> <span class="k">this</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">blur</span><span class="p">)},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">F</span><span class="p">(</span><span class="s2">&quot;shape&quot;</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">coordsize</span><span class="o">=</span><span class="nx">u</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">u</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">coordorigin</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">coordorigin</span><span class="p">;</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">new</span> <span class="nx">D</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="p">{</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;#000&quot;</span><span class="p">};</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">a</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;path&quot;</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="p">[],</span><span class="nx">d</span><span class="p">.</span><span class="nx">Path</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">B</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">F</span><span class="p">(</span><span class="s2">&quot;skew&quot;</span><span class="p">);</span><span class="nx">f</span><span class="p">.</span><span class="nx">on</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">f</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">skew</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">rect</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_rectPath</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="nx">h</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">attrs</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">X</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">Y</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">W</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">H</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">r</span><span class="o">=</span><span class="nx">g</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;rect&quot;</span><span class="p">;</span><span class="k">return</span> <span class="nx">i</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">ellipse</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">path</span><span class="p">(),</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrs</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">X</span><span class="o">=</span><span class="nx">b</span><span class="o">-</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">Y</span><span class="o">=</span><span class="nx">c</span><span class="o">-</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">W</span><span class="o">=</span><span class="nx">d</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">H</span><span class="o">=</span><span class="nx">e</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;ellipse&quot;</span><span class="p">,</span><span class="nx">B</span><span class="p">(</span><span class="nx">f</span><span class="p">,{</span><span class="nx">cx</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">cy</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">rx</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">ry</span><span class="o">:</span><span class="nx">e</span><span class="p">});</span><span class="k">return</span> <span class="nx">f</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">circle</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">path</span><span class="p">(),</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">attrs</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">X</span><span class="o">=</span><span class="nx">b</span><span class="o">-</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">Y</span><span class="o">=</span><span class="nx">c</span><span class="o">-</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">W</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">H</span><span class="o">=</span><span class="nx">d</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;circle&quot;</span><span class="p">,</span><span class="nx">B</span><span class="p">(</span><span class="nx">e</span><span class="p">,{</span><span class="nx">cx</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">cy</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">r</span><span class="o">:</span><span class="nx">d</span><span class="p">});</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">image</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_rectPath</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="nx">h</span><span class="p">).</span><span class="nx">attr</span><span class="p">({</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">}),</span><span class="nx">k</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">attrs</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">j</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="nx">k</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">X</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">Y</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">W</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">H</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">g</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;image&quot;</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">==</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">m</span><span class="p">),</span><span class="nx">m</span><span class="p">.</span><span class="nx">rotate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;tile&quot;</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">fillpos</span><span class="o">=</span><span class="p">[</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">],</span><span class="nx">i</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">fillsize</span><span class="o">=</span><span class="p">[</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">],</span><span class="nx">l</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">m</span><span class="p">),</span><span class="nx">z</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="k">return</span> <span class="nx">i</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">text</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">F</span><span class="p">(</span><span class="s2">&quot;shape&quot;</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">F</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">F</span><span class="p">(</span><span class="s2">&quot;textpath&quot;</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">v</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s2">&quot;m{0},{1}l{2},{1}&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">(</span><span class="nx">d</span><span class="o">*</span><span class="nx">u</span><span class="p">),</span><span class="nx">f</span><span class="p">(</span><span class="nx">e</span><span class="o">*</span><span class="nx">u</span><span class="p">),</span><span class="nx">f</span><span class="p">(</span><span class="nx">d</span><span class="o">*</span><span class="nx">u</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">textpathok</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">string</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">j</span><span class="p">.</span><span class="nx">on</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">coordsize</span><span class="o">=</span><span class="nx">u</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">u</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">coordorigin</span><span class="o">=</span><span class="s2">&quot;0 0&quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="k">new</span> <span class="nx">D</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">l</span><span class="o">=</span><span class="p">{</span><span class="nx">fill</span><span class="o">:</span><span class="s2">&quot;#000&quot;</span><span class="p">,</span><span class="nx">stroke</span><span class="o">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">font</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">_availableAttrs</span><span class="p">.</span><span class="nx">font</span><span class="p">,</span><span class="nx">text</span><span class="o">:</span><span class="nx">g</span><span class="p">};</span><span class="nx">k</span><span class="p">.</span><span class="nx">shape</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">textpath</span><span class="o">=</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">text</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">k</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">w</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">h</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">B</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">),</span><span class="nx">h</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">h</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">h</span><span class="p">);</span><span class="kd">var</span> <span class="nx">m</span><span class="o">=</span><span class="nx">F</span><span class="p">(</span><span class="s2">&quot;skew&quot;</span><span class="p">);</span><span class="nx">m</span><span class="p">.</span><span class="nx">on</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">m</span><span class="p">),</span><span class="nx">k</span><span class="p">.</span><span class="nx">skew</span><span class="o">=</span><span class="nx">m</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span><span class="k">return</span> <span class="nx">k</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">setSize</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">style</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="o">==+</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">+=</span><span class="s2">&quot;px&quot;</span><span class="p">),</span><span class="nx">c</span><span class="o">==+</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">+=</span><span class="s2">&quot;px&quot;</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">clip</span><span class="o">=</span><span class="s2">&quot;rect(0 &quot;</span><span class="o">+</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">c</span><span class="o">+</span><span class="s2">&quot; 0)&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewBox</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">setViewBox</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewBox</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">setViewBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.setViewBox&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewBox</span><span class="p">,[</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">]);</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="nx">g</span><span class="p">(</span><span class="nx">d</span><span class="o">/</span><span class="nx">h</span><span class="p">,</span><span class="nx">e</span><span class="o">/</span><span class="nx">i</span><span class="p">),</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">;</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">i</span><span class="o">/</span><span class="nx">e</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">h</span><span class="o">/</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="o">*</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">-=</span><span class="p">(</span><span class="nx">h</span><span class="o">-</span><span class="nx">d</span><span class="o">*</span><span class="nx">k</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="nx">k</span><span class="p">),</span><span class="nx">e</span><span class="o">*</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">-=</span><span class="p">(</span><span class="nx">i</span><span class="o">-</span><span class="nx">e</span><span class="o">*</span><span class="nx">l</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="nx">l</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewBox</span><span class="o">=</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="o">!!</span><span class="nx">f</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewBoxShift</span><span class="o">=</span><span class="p">{</span><span class="nx">dx</span><span class="o">:-</span><span class="nx">b</span><span class="p">,</span><span class="nx">dy</span><span class="o">:-</span><span class="nx">c</span><span class="p">,</span><span class="nx">scale</span><span class="o">:</span><span class="nx">j</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">)});</span><span class="k">return</span> <span class="k">this</span><span class="p">};</span><span class="kd">var</span> <span class="nx">F</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">initWin</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nb">document</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">createStyleSheet</span><span class="p">().</span><span class="nx">addRule</span><span class="p">(</span><span class="s2">&quot;.rvml&quot;</span><span class="p">,</span><span class="s2">&quot;behavior:url(#default#VML)&quot;</span><span class="p">);</span><span class="k">try</span><span class="p">{</span><span class="o">!</span><span class="nx">b</span><span class="p">.</span><span class="nx">namespaces</span><span class="p">.</span><span class="nx">rvml</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">namespaces</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;rvml&quot;</span><span class="p">,</span><span class="s2">&quot;urn:schemas-microsoft-com:vml&quot;</span><span class="p">),</span><span class="nx">F</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;&lt;rvml:&quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s1">&#39; class=&quot;rvml&quot;&gt;&#39;</span><span class="p">)}}</span><span class="k">catch</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">F</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s1">&#39; xmlns=&quot;urn:schemas-microsoft.com:vml&quot; class=&quot;rvml&quot;&gt;&#39;</span><span class="p">)}}},</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">initWin</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">win</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">_engine</span><span class="p">.</span><span class="nx">create</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_getContainer</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">container</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="p">)</span><span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;VML container not found.&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">new</span> <span class="nx">a</span><span class="p">.</span><span class="nx">_Paper</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">canvas</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">style</span><span class="p">;</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">f</span><span class="o">||</span><span class="mi">512</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="o">||</span><span class="mi">342</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="o">==+</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">+=</span><span class="s2">&quot;px&quot;</span><span class="p">),</span><span class="nx">d</span><span class="o">==+</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">+=</span><span class="s2">&quot;px&quot;</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">coordsize</span><span class="o">=</span><span class="nx">u</span><span class="o">*</span><span class="mi">1</span><span class="nx">e3</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="nx">u</span><span class="o">*</span><span class="mi">1</span><span class="nx">e3</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">coordorigin</span><span class="o">=</span><span class="s2">&quot;0 0&quot;</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">span</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">span</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="s2">&quot;position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;&quot;</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">span</span><span class="p">),</span><span class="nx">k</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s2">&quot;top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">c</span><span class="o">==</span><span class="mi">1</span><span class="o">?</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">k</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="nx">g</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="nx">h</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="s2">&quot;absolute&quot;</span><span class="p">)</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">firstChild</span><span class="o">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">renderfix</span><span class="o">=</span><span class="kd">function</span><span class="p">(){};</span><span class="k">return</span> <span class="nx">i</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">clear</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.clear&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">span</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">_g</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">span</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="s2">&quot;position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">span</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="kc">null</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">remove</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">eve</span><span class="p">(</span><span class="s2">&quot;raphael.remove&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span> <span class="k">in</span> <span class="k">this</span><span class="p">)</span><span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="k">typeof</span> <span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">_removedFactory</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">};</span><span class="kd">var</span> <span class="nx">G</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">st</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">H</span> <span class="k">in</span> <span class="nx">E</span><span class="p">)</span><span class="nx">E</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">H</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">G</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="nx">H</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">G</span><span class="p">[</span><span class="nx">H</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">arguments</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">)})}}(</span><span class="nx">H</span><span class="p">))}(</span><span class="nb">window</span><span class="p">.</span><span class="nx">Raphael</span><span class="p">)</span>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
