<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="doc-style.css" />
  <script src="doc-filelist.js"></script>
  <script>
    var relativeDir = "";
    var thisFile = "README.md";
    var defaultSidebar = true;
  </script>
  <script src="doc-script.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1.0" /></head>
<body>
  <nav>
<div class="logo"><a href="http://alinex.github.io"
  onmouseover="logo.src='https://alinex.github.io/images/Alinex-200.png'"
  onmouseout="logo.src='https://alinex.github.io/images/Alinex-black-200.png'">
  <img name="logo" src="https://alinex.github.io/images/Alinex-black-200.png"
    width="150" title="Alinex Universe Homepage" />
  </a>
  <img src="http://alinex.github.io/images/Alinex-200.png"
    style="display:none" alt="preloading" />
</div>
<div class="links">
  <a href="http://alinex.github.io/blog"
    class="btn btn-primary"><span class="glyphicon-pencil"></span> Blog</a>
  <a href="http://alinex.github.io/develop"
    class="btn btn-primary"><span class="glyphicon-book"></span> Develop</a>
  <a href="http://alinex.github.io/code.html"
    class="btn btn-warning"><span class="glyphicon-cog"></span> Code</a>
</div>
</nav><div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#package-alinex-util">Package: alinex-util</a>
      </div>

      <div class="heading h2">
        <a href="#install">Install</a>
      </div>

      <div class="heading h2">
        <a href="#general-usage">General Usage</a>
      </div>

      <div class="heading h2">
        <a href="#all-types">All types</a>
      </div>

      <div class="heading h3">
        <a href="#inspect">inspect</a>
      </div>

      <div class="heading h3">
        <a href="#clone">clone</a>
      </div>

      <div class="heading h3">
        <a href="#extend">extend</a>
      </div>

      <div class="heading h2">
        <a href="#string-type">String type</a>
      </div>

      <div class="heading h3">
        <a href="#starts">starts</a>
      </div>

      <div class="heading h3">
        <a href="#ends">ends</a>
      </div>

      <div class="heading h3">
        <a href="#repeat">repeat</a>
      </div>

      <div class="heading h3">
        <a href="#lpad">lpad</a>
      </div>

      <div class="heading h3">
        <a href="#rpad">rpad</a>
      </div>

      <div class="heading h3">
        <a href="#cpad">cpad</a>
      </div>

      <div class="heading h3">
        <a href="#trim">trim</a>
      </div>

      <div class="heading h3">
        <a href="#ucfirst">ucFirst</a>
      </div>

      <div class="heading h3">
        <a href="#lcfirst">lcFirst</a>
      </div>

      <div class="heading h3">
        <a href="#contains">contains</a>
      </div>

      <div class="heading h3">
        <a href="#wordwrap">wordwrap</a>
      </div>

      <div class="heading h3">
        <a href="#shorten">shorten</a>
      </div>

      <div class="heading h3">
        <a href="#tolist">toList</a>
      </div>

      <div class="heading h3">
        <a href="#toregexp">toRegExp</a>
      </div>

      <div class="heading h2">
        <a href="#number-type">Number type</a>
      </div>

      <div class="heading h3">
        <a href="#isinteger">isInteger</a>
      </div>

      <div class="heading h3">
        <a href="#parseint">parseInt</a>
      </div>

      <div class="heading h3">
        <a href="#parseseconds">parseSeconds</a>
      </div>

      <div class="heading h3">
        <a href="#parsemseconds">parseMSeconds</a>
      </div>

      <div class="heading h2">
        <a href="#object">Object</a>
      </div>

      <div class="heading h3">
        <a href="#iscyclic">isCyclic</a>
      </div>

      <div class="heading h3">
        <a href="#getcyclic">getCyclic</a>
      </div>

      <div class="heading h3">
        <a href="#extend-deprecated">extend (deprecated)</a>
      </div>

      <div class="heading h3">
        <a href="#extendarrayconcat-deprecated">extendArrayConcat (deprecated)</a>
      </div>

      <div class="heading h3">
        <a href="#extendarrayreplace-deprecated">extendArrayReplace (deprecated)</a>
      </div>

      <div class="heading h3">
        <a href="#clone-deprecated">clone (deprecated)</a>
      </div>

      <div class="heading h3">
        <a href="#isempty">isEmpty</a>
      </div>

      <div class="heading h3">
        <a href="#path">path</a>
      </div>

      <div class="heading h3">
        <a href="#pathsearch">pathSearch</a>
      </div>

      <div class="heading h3">
        <a href="#filter">filter</a>
      </div>

      <div class="heading h3">
        <a href="#lckeys">lcKeys</a>
      </div>

      <div class="heading h2">
        <a href="#array-object">Array object</a>
      </div>

      <div class="heading h3">
        <a href="#last">last</a>
      </div>

      <div class="heading h3">
        <a href="#unique">unique</a>
      </div>

      <div class="heading h3">
        <a href="#sortby">sortBy</a>
      </div>

      <div class="heading h2">
        <a href="#function-wrapper">Function Wrapper</a>
      </div>

      <div class="heading h3">
        <a href="#once">once</a>
      </div>

      <div class="heading h3">
        <a href="#onceskip">onceSkip</a>
      </div>

      <div class="heading h3">
        <a href="#oncethrow">onceThrow</a>
      </div>

      <div class="heading h3">
        <a href="#oncetime">onceTime</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container" tabindex="0"><a id="fork" href="https://github.com/alinex/node-util" title="Fork me on GitHub"></a>
    <div class="docs markdown"><div class="pilwrap" id="package-alinex-util">
  <h1>
    <a href="#package-alinex-util" name="package-alinex-util" class="pilcrow"></a>
Package: alinex-util
  </h1>
</div>
<p><a href="https://travis-ci.org/alinex/node-util"><img src="https://travis-ci.org/alinex/node-util.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/r/alinex/node-util?branch=master"><img src="https://coveralls.io/repos/alinex/node-util/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://gemnasium.com/alinex/node-util"><img src="https://gemnasium.com/alinex/node-util.png" alt="Dependency Status"></a></p>
<p>This module will be used as incubator for different small helper methods which
are generally used for different general class types:</p>
<ul>
<li>general helper</li>
<li>string helper</li>
<li>number helper</li>
<li>array helper</li>
<li>object helper</li>
</ul>
<blockquote>
<p>It is one of the modules of the <a href="http://alinex.github.io/code.html">Alinex Universe</a>
following the code standards defined in the <a href="http://alinex.github.io/develop">General Docs</a>.</p>
</blockquote>
<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow"></a>
Install
  </h2>
</div>
<p><a href="https://www.npmjs.com/package/alinex-util"><img src="https://nodei.co/npm/alinex-util.png?downloads=true&amp;downloadRank=true&amp;stars=true" alt="NPM">
<img src="https://nodei.co/npm-dl/alinex-util.png?months=9&amp;height=3" alt="Downloads">
</a></p>
<p>The easiest way is to let npm add the module directly to your modules
(from within you node modules directory):</p>
<pre><code class="sh">npm install alinex-util --save
</code></pre>
<p>And update it to the latest version later:</p>
<pre><code class="sh">npm update alinex-util --save
</code></pre>
<p>Always have a look at the latest <a href="Changelog.md.html">changes</a>.</p>
<div class="pilwrap" id="general-usage">
  <h2>
    <a href="#general-usage" name="general-usage" class="pilcrow"></a>
General Usage
  </h2>
</div>
<p>All methods in this package can be called from the util object:</p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
raw = { eins: <span class="hljs-number">1</span> }
copy = util.clone raw
<span class="hljs-built_in">console</span>.log util.inspect copy
</code></pre>
<p>Or you may directly import only the needed objects with:</p>
<pre><code class="coffee">{string, object} = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
array = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util/lib/array'</span>
</code></pre>
<p>The first line loaded all but uses only some methods, while the second line
only loads the needed type library.</p>
<p>The library may be used as replacement for the node util package because it also
exports the 'inspect()' method which is the only needed method from this core
package.</p>
<p>See the description below for each of the contained methods.</p>
<div class="pilwrap" id="all-types">
  <h2>
    <a href="#all-types" name="all-types" class="pilcrow"></a>
All types
  </h2>
</div>
<p>The methods which are usable for all types are directly accessible in the main
module. All others are used through a collection named after their type.</p>
<div class="pilwrap" id="inspect">
  <h3>
    <a href="#inspect" name="inspect" class="pilcrow"></a>
inspect
  </h3>
</div>
<p>The <a href="https://nodejs.org/api/util.html#util_util_inspect_object_options">inspect</a>
method is from the node js util package directly inherited. Use it like described
there.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code> to be cloned</li>
<li><code>options</code> (optional) object with:
<ul>
<li><code>showHidden</code> - if true then the object's non-enumerable and symbol properties
will be shown too. Defaults to false.</li>
<li><code>depth</code> - tells inspect how many times to recurse while formatting the object.
This is useful for inspecting large complicated objects. Defaults to 2. To make
it recurse indefinitely pass null.</li>
<li><code>colors</code> - if true, then the output will be styled with ANSI color codes.
Defaults to false. Colors are customizable, see Customizing util.inspect colors.</li>
<li><code>customInspect</code> - if false, then custom inspect(depth, opts) functions defined
on the objects being inspected won't be called. Defaults to true.</li>
</ul>
</li>
</ul>
<div class="pilwrap" id="clone">
  <h3>
    <a href="#clone" name="clone" class="pilcrow"></a>
clone
  </h3>
</div>
<p>This method will create a clone of the given object.
As possible all methods will be cloned, but if object instances are used they
will be referenced.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
to be cloned</li>
<li><code>depth</code>
(optional) maximum level of cloning deper levels will be referenced</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>object</code>
clone of the given object.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = { eins: <span class="hljs-number">1</span> }
result = util.clone test
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = { eins: <span class="hljs-number">1</span> }
</code></pre>
<div class="pilwrap" id="extend">
  <h3>
    <a href="#extend" name="extend" class="pilcrow"></a>
extend
  </h3>
</div>
<p>Extend an object with another one.</p>
<p>This method will extend a given object with the entries from additional
objects. Therefore it will do a deep extend.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>mode</code> (optional) string 'MODE ...' defining how the extend should work</li>
<li><code>object</code> (if not called as Object method)
base object to be extended</li>
<li><code>extender</code>...
multiple extenders may be given with will be cloned into the object.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>object</code>
the given and maybe changed object.</li>
</ul>
<p><strong>Modes:</strong></p>
<p>Multiple modes can be used with space as separator:</p>
<ul>
<li><code>CLONE</code> - clone object and all extenders before extending, keeps the resulting
objects untouched (works only globally)</li>
<li><code>OVERWRITE</code> - allow overwrite of array and object mode in specific elements</li>
<li><code>ARRAY_CONCAT</code> - (default) if no other array-mode set, will concat additional
elements</li>
<li><code>ARRAY_REPLACE</code> - for all arrays, replace the previouse array completely instead
of extending them</li>
<li><code>ARRAY_OVERWRITE</code> - overwrite the same index instead of extending the array</li>
<li><code>OBJECT_EXTEND</code> - (default) if no other object-mode given, will add/replace
properties with the new ones</li>
<li><code>OBJECT_REPLACE</code> - will always replace the object completely with the new one,
if the keys are different</li>
</ul>
<p>This mode may also be changed on any specific element by giving a different mode
just for this operation in the extending element itself. Therefore it has to be
enabled with 'MODE OVERWRITE' gölobally and then an array
should has the mode as first element or an object as an attribute.</p>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = { eins: <span class="hljs-number">1</span> }
util.extend test, { zwei: <span class="hljs-number">2</span> }, { eins: <span class="hljs-string">'eins'</span> }, { drei: <span class="hljs-number">3</span> }
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">test = { zwei: <span class="hljs-number">2</span>, eins: <span class="hljs-string">'eins'</span>, drei: <span class="hljs-number">3</span> }
</code></pre>
<p>But keep in mind that this will change the first object, to the result, too.</p>
<p>You may set a mode globally or in a specific level like described show:</p>
<pre><code class="coffee">test1 = {a: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], b: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], c: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]}
test2 = {a: [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], c: [<span class="hljs-string">'a'</span>]}
ext = util.extend <span class="hljs-string">'MODE ARRAY_REPLACE'</span>, test1, test2
<span class="hljs-comment"># ext = {a: [4, 5, 6], b: [1, 2, 3], c: ['a']}</span>
</code></pre>
<pre><code class="coffee">test1 = {a: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], b: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], c: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]}
test2 = {a: [<span class="hljs-string">'MODE ARRAY_REPLACE'</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], c: [<span class="hljs-string">'a'</span>]}
ext = util.extend test1, test2
<span class="hljs-comment"># ext = {a: [4, 5, 6], b: [1, 2, 3], c: [1, 2, 3, 'a']}</span>
</code></pre>
<pre><code class="coffee">test1 = {t1: {a: <span class="hljs-number">1</span>, b: <span class="hljs-number">2</span>, c: <span class="hljs-number">3</span>}, t2: {d: <span class="hljs-number">4</span>, e: <span class="hljs-number">5</span>, f: <span class="hljs-number">6</span>}}
test2 = {t1: {OBJECT_REPLACE: <span class="hljs-literal">true</span>, a: <span class="hljs-number">4</span>, b: <span class="hljs-number">5</span>}, t2: {d: <span class="hljs-number">9</span>}}
ext = util.extend test1, test2
<span class="hljs-comment"># ext = {t1: {a: 4, b: 5}, t2: {d: 9, e: 5, f: 6}}</span>
</code></pre>
<div class="pilwrap" id="string-type">
  <h2>
    <a href="#string-type" name="string-type" class="pilcrow"></a>
String type
  </h2>
</div>
<div class="pilwrap" id="starts">
  <h3>
    <a href="#starts" name="starts" class="pilcrow"></a>
starts
  </h3>
</div>
<p>This is a handy method to check that a certain string starts with the given
phrase.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code> (if not called as String method)
text to be checked</li>
<li><code>literal</code>
phrase to match</li>
<li><code>start</code> (optional)
offset character position to start looking for</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>true</code> if <code>string</code> starts with <code>literal</code></li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'abcdefg'</span>
result = util.string.starts test, <span class="hljs-string">'ab'</span>
</code></pre>
<p>This results to:</p>
<pre><code class="text">result = true
</code></pre>
<div class="pilwrap" id="ends">
  <h3>
    <a href="#ends" name="ends" class="pilcrow"></a>
ends
  </h3>
</div>
<p>This is a handy method to check that a certain string ends with the given
phrase.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code> (if not called as String method)
text to be checked</li>
<li><code>literal</code>
phrase to match</li>
<li><code>back</code> (optional)
offset character position from the end to look for</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>true</code> if <code>string</code> ends with <code>literal</code></li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'abcdefg'</span>
result = util.string.ends test, <span class="hljs-string">'fg'</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = <span class="hljs-literal">true</span>
</code></pre>
<div class="pilwrap" id="repeat">
  <h3>
    <a href="#repeat" name="repeat" class="pilcrow"></a>
repeat
  </h3>
</div>
<p>Repeat a given string multiple times.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code> (if not called as String method)
text to be repeated</li>
<li><code>n</code>
number of repeats</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the repeated test</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'ab'</span>
result = util.string.repeat test, <span class="hljs-number">3</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = <span class="hljs-string">'ababab'</span>
</code></pre>
<div class="pilwrap" id="lpad">
  <h3>
    <a href="#lpad" name="lpad" class="pilcrow"></a>
lpad
  </h3>
</div>
<p>Left pad string to specified length.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be padded</li>
<li><code>n</code>
final length of text</li>
<li><code>char</code>
character used for padding (defaults to ' ')</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the padded text</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'5'</span>
result = util.string.lpad test, <span class="hljs-number">3</span>, <span class="hljs-string">'0'</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = <span class="hljs-string">'005'</span>
</code></pre>
<div class="pilwrap" id="rpad">
  <h3>
    <a href="#rpad" name="rpad" class="pilcrow"></a>
rpad
  </h3>
</div>
<p>Right pad string to specified length.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be padded</li>
<li><code>n</code>
final length of text</li>
<li><code>char</code>
character used for padding (defaults to ' ')</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the padded text</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'abc'</span>
result = util.string.rpad test, <span class="hljs-number">5</span>, <span class="hljs-string">' '</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = <span class="hljs-string">'abc  '</span>
</code></pre>
<div class="pilwrap" id="cpad">
  <h3>
    <a href="#cpad" name="cpad" class="pilcrow"></a>
cpad
  </h3>
</div>
<p>Center pad string to specified length. This will add the padding on both sides.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be padded</li>
<li><code>n</code>
final length of text</li>
<li><code>char</code>
character used for padding (defaults to ' ')</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the padded text</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'abc'</span>
result = util.string.cpad test, <span class="hljs-number">5</span>, <span class="hljs-string">' '</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = <span class="hljs-string">'abc  '</span>
</code></pre>
<div class="pilwrap" id="trim">
  <h3>
    <a href="#trim" name="trim" class="pilcrow"></a>
trim
  </h3>
</div>
<p>Trim given characters</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be trimmed</li>
<li><code>chars</code>
list of characters to trim off (defaults to ' \n\t')</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the padded text</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'/var/local/'</span>
result = util.string.trim test, <span class="hljs-string">'/'</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = <span class="hljs-string">'var/local'</span>
</code></pre>
<div class="pilwrap" id="ucfirst">
  <h3>
    <a href="#ucfirst" name="ucfirst" class="pilcrow"></a>
ucFirst
  </h3>
</div>
<p>Make first letter upper case.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code> (if not called as String method)
text to be changed</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the same text but with first letter in upper case</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'abcdefg'</span>
result = util.string.ucfirst test
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = <span class="hljs-string">'Abcdefg'</span>
</code></pre>
<div class="pilwrap" id="lcfirst">
  <h3>
    <a href="#lcfirst" name="lcfirst" class="pilcrow"></a>
lcFirst
  </h3>
</div>
<p>Make first letter lower case.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code> (if not called as String method)
text to be changed</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the same text but with first letter in lower case</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'ABCDEFG'</span>
result = util.string.lcFirst test
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = <span class="hljs-string">'aBCDEFG'</span>
</code></pre>
<div class="pilwrap" id="contains">
  <h3>
    <a href="#contains" name="contains" class="pilcrow"></a>
contains
  </h3>
</div>
<p>Is substring contained?</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be check</li>
<li><code>phrase</code>
text to be searched for</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>(bool) <code>true</code> if phrase is contained in string</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'abcdefg'</span>
result1 = util.string.contains test, <span class="hljs-string">'bc'</span>
result2 = util.string.contains test, <span class="hljs-string">'gh'</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result1 = <span class="hljs-literal">true</span>
result2 = <span class="hljs-literal">false</span>
</code></pre>
<div class="pilwrap" id="wordwrap">
  <h3>
    <a href="#wordwrap" name="wordwrap" class="pilcrow"></a>
wordwrap
  </h3>
</div>
<p>Word wraps a given text as needed.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>width</code>
maximum amount of characters per line</li>
<li><code>break</code>
string that will be added whenever it's needed to break the line</li>
<li><code>cutType</code>
0 = words longer than &quot;maxLength&quot; will not be broken
1 = words will be broken when needed
2 = any word that trespass the limit will be broken</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>(string) returns the new text</li>
</ul>
<div class="pilwrap" id="shorten">
  <h3>
    <a href="#shorten" name="shorten" class="pilcrow"></a>
shorten
  </h3>
</div>
<p>This will shorten the given text and add ellipsis if it is too long. This is done
word aware.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>limit</code>
maximum number of characters</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>(string) the new text</li>
</ul>
<div class="pilwrap" id="tolist">
  <h3>
    <a href="#tolist" name="tolist" class="pilcrow"></a>
toList
  </h3>
</div>
<p>Convert text into list or list of array (recordset).</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>rowDelimiter</code>
text or regular expression to divide into lines (default '\n')</li>
<li><code>colDelimiter</code>
text or regular expression to divide into columns</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>(array) the new list</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'one,two,three\n1,2,3\n4,5,6'</span>
list = util.string.toList test, <span class="hljs-regexp">/\n/</span>
table = util.string.toList test, <span class="hljs-regexp">/\n/</span>, <span class="hljs-regexp">/,/</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">list = [
  <span class="hljs-string">'one,teo,three'</span>
  <span class="hljs-string">'1,2,3'</span>
  <span class="hljs-string">'4,5,6'</span>
]
table = [
  [<span class="hljs-string">'one'</span>, <span class="hljs-string">'two'</span>, <span class="hljs-string">'three'</span>]
  [<span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span>]
  [<span class="hljs-string">'4'</span>, <span class="hljs-string">'5'</span>, <span class="hljs-string">'6'</span>]
]
</code></pre>
<div class="pilwrap" id="toregexp">
  <h3>
    <a href="#toregexp" name="toregexp" class="pilcrow"></a>
toRegExp
  </h3>
</div>
<p>Convert text into regular expression object if possible..</p>
<p><strong>Returns:</strong></p>
<ul>
<li>(RegExp) or the string as it was</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = <span class="hljs-string">'/\n/'</span>
test = util.string.toRegExp test
list = util.string.split test
</code></pre>
<div class="pilwrap" id="number-type">
  <h2>
    <a href="#number-type" name="number-type" class="pilcrow"></a>
Number type
  </h2>
</div>
<div class="pilwrap" id="isinteger">
  <h3>
    <a href="#isinteger" name="isinteger" class="pilcrow"></a>
isInteger
  </h3>
</div>
<p>Check for Integer.</p>
<p>This method will check that the given value is an integer.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>value</code>
to be analyzed</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>true</code> if <code>value</code> is an integer</li>
</ul>
<div class="pilwrap" id="parseint">
  <h3>
    <a href="#parseint" name="parseint" class="pilcrow"></a>
parseInt
  </h3>
</div>
<p>Strict parse for Integer.</p>
<p>This will fail on all strings which are no real integer.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>value</code>
to be analyzed</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>value</code> as Number or <code>NaN</code></li>
</ul>
<p>To check if you got a number or invalid string use <code>isNaN()</code>.</p>
<div class="pilwrap" id="parseseconds">
  <h3>
    <a href="#parseseconds" name="parseseconds" class="pilcrow"></a>
parseSeconds
  </h3>
</div>
<p>Parse human readable time to seconds.</p>
<p>This will fail on all strings which are no real integer.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>value</code>
to be analyzed</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>value</code> as Number of seconds or <code>NaN</code></li>
</ul>
<p>To check if you got a number or invalid string use <code>isNaN()</code>.</p>
<p><strong>Example:</strong></p>
<pre><code class="coffee">number.parseSeconds <span class="hljs-number">200</span>          <span class="hljs-comment"># 200</span>
number.parseSeconds <span class="hljs-string">'200s'</span>       <span class="hljs-comment"># 200</span>
number.parseSeconds <span class="hljs-string">'200S'</span>       <span class="hljs-comment"># 200</span>
number.parseSeconds <span class="hljs-string">'5m'</span>         <span class="hljs-comment"># 300</span>
number.parseSeconds <span class="hljs-string">'1h'</span>         <span class="hljs-comment"># 3600</span>
number.parseSeconds <span class="hljs-string">'2.5h'</span>       <span class="hljs-comment"># 9000</span>
number.parseSeconds <span class="hljs-string">'1d'</span>         <span class="hljs-comment"># 86400</span>
number.parseSeconds <span class="hljs-string">'2h 5m 100s'</span> <span class="hljs-comment"># 7600</span>
</code></pre>
<div class="pilwrap" id="parsemseconds">
  <h3>
    <a href="#parsemseconds" name="parsemseconds" class="pilcrow"></a>
parseMSeconds
  </h3>
</div>
<p>Parse human readable time to milliseconds. It will work the same as above and
you may specify <code>ms</code> as additional unit here.</p>
<div class="pilwrap" id="object">
  <h2>
    <a href="#object" name="object" class="pilcrow"></a>
Object
  </h2>
</div>
<div class="pilwrap" id="iscyclic">
  <h3>
    <a href="#iscyclic" name="iscyclic" class="pilcrow"></a>
isCyclic
  </h3>
</div>
<p>This will check an object if it contains circular references.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code> (if not called as Object method)
base object to be checked</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>boolean</code>
true if the object contains circular references</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = { eins: <span class="hljs-number">1</span> }
util.object.isCyclic test <span class="hljs-comment"># will be false</span>
test.zwei = test.eins
util.object.isCyclic test <span class="hljs-comment"># will be true</span>
</code></pre>
<div class="pilwrap" id="getcyclic">
  <h3>
    <a href="#getcyclic" name="getcyclic" class="pilcrow"></a>
getCyclic
  </h3>
</div>
<p>Detects circular references but instead of only checking it list all cyclic objects.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code> (if not called as Object method)
base object to be checked</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>array</code>
list of objects which are circular</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = { eins: <span class="hljs-number">1</span> }
util.object.getCyclic test <span class="hljs-comment"># empty list []</span>
test.zwei = test.eins
util.object.getCyclic test <span class="hljs-comment"># [{ eins: 1 }]</span>
</code></pre>
<div class="pilwrap" id="extend-deprecated">
  <h3>
    <a href="#extend-deprecated" name="extend-deprecated" class="pilcrow"></a>
extend (deprecated)
  </h3>
</div>
<p>Extend an object with another one.</p>
<p>This method will extend a given object with the entries from additional
objects. Therefore it will do a deep extend.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code> (if not called as Object method)
base object to be extended</li>
<li><code>extender</code>...
multiple extenders may be given with will be cloned into the object.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>object</code>
the given and maybe changed object.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = { eins: <span class="hljs-number">1</span> }
util.extend test, { zwei: <span class="hljs-number">2</span> }, { eins: <span class="hljs-string">'eins'</span> }, { drei: <span class="hljs-number">3</span> }
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">test = { eins: <span class="hljs-string">'eins'</span>, zwei: <span class="hljs-number">2</span>, drei: <span class="hljs-number">3</span> }
</code></pre>
<p>To remove a key from the structure by overloading set it's value to null.</p>
<div class="pilwrap" id="extendarrayconcat-deprecated">
  <h3>
    <a href="#extendarrayconcat-deprecated" name="extendarrayconcat-deprecated" class="pilcrow"></a>
extendArrayConcat (deprecated)
  </h3>
</div>
<p>This method is like extend but will concat arrays elements directly instead
of concat the element clones. This keeps the references under the first array.</p>
<div class="pilwrap" id="extendarrayreplace-deprecated">
  <h3>
    <a href="#extendarrayreplace-deprecated" name="extendarrayreplace-deprecated" class="pilcrow"></a>
extendArrayReplace (deprecated)
  </h3>
</div>
<p>This method is like extend but will replace arrays elements directly instead
of concat the element clones.</p>
<div class="pilwrap" id="clone-deprecated">
  <h3>
    <a href="#clone-deprecated" name="clone-deprecated" class="pilcrow"></a>
clone (deprecated)
  </h3>
</div>
<p>Deep cloning of an object.</p>
<p>This method will create a clone of the given object.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code> (if not called as Object method)
to be cloned</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>object</code>
clone of the given  object.</li>
</ul>
<div class="pilwrap" id="isempty">
  <h3>
    <a href="#isempty" name="isempty" class="pilcrow"></a>
isEmpty
  </h3>
</div>
<p>Check if object is empty or uninitialized.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
to be checked</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>boolean</code>
true if object is empty</li>
</ul>
<div class="pilwrap" id="path">
  <h3>
    <a href="#path" name="path" class="pilcrow"></a>
path
  </h3>
</div>
<p>This method allows you to access an element deep in an object's structure by
giving only the path to the element.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
to be searched</li>
<li><code>path</code>
(string or Array) specifying which element to reference</li>
<li><code>separator</code>
(string or RegExp) used as separator, defaults to <code>/</code></li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>element at the position of the path or <code>undefined</code> if not found</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test =
  string: <span class="hljs-string">'test'</span>
  object:
    numbers:
      one: <span class="hljs-number">1</span>
      two: <span class="hljs-number">2</span>
  list: [
    one: <span class="hljs-number">11</span>
  ,
    two: <span class="hljs-number">12</span>
  ]
result = util.object.path test, <span class="hljs-string">'/object/numbers'</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = { one: <span class="hljs-number">1</span>, two: <span class="hljs-number">2</span> }
</code></pre>
<div class="pilwrap" id="pathsearch">
  <h3>
    <a href="#pathsearch" name="pathsearch" class="pilcrow"></a>
pathSearch
  </h3>
</div>
<p>Like path but here you may give a search pattern to find the element. It may
also find multiple elements which will be returned in a list.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
to be searched</li>
<li><code>path</code>
(string or Array) specifying which element to reference</li>
<li><code>separator</code>
(string or RegExp) used as separator, defaults to <code>/</code></li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>element at the position of the path or <code>undefined</code> if not found</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test =
  string: <span class="hljs-string">'test'</span>
  object:
    numbers:
      one: <span class="hljs-number">1</span>
      two: <span class="hljs-number">2</span>
  list: [
    one: <span class="hljs-number">11</span>
  ,
    two: <span class="hljs-number">12</span>
  ]
result = util.object.pathSearch test, <span class="hljs-string">'**/one'</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = <span class="hljs-number">1</span>
</code></pre>
<p><strong>Pattern</strong></p>
<p>You may specify like in the following examples (using the default separator).</p>
<pre><code class="text">name - get first element with this name
group/sub/name - get element with path
</code></pre>
<p>You can search by using asterisk as directory placeholder or a double asterisk to
go multiple level depth:</p>
<pre><code class="text">name/*/min - within any subelement
name/*/*/min - within any subelement (two level depth)
name/**/min - within any subelement in any depth
</code></pre>
<p>You may also use regexp notation to find the correct element:</p>
<pre><code class="text">name/test[AB]/min - pattern match with one missing character
name/test\d+/min - pattern match with multiple missing characters
</code></pre>
<p>See the <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/RegExp">Mozilla Developer Network</a>
for the possible syntax but without modifier.</p>
<div class="pilwrap" id="filter">
  <h3>
    <a href="#filter" name="filter" class="pilcrow"></a>
filter
  </h3>
</div>
<p>Like the <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">filter</a>
method of arrays you may filter object entries here.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
to be filtered</li>
<li><code>allow</code>
(function) to be called like <code>allow(value, key, object)</code> and if it returns true
the entry will be copied to the resulting object</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>data object with all or some entries from the original</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test =
  one: <span class="hljs-number">1</span>
  two: <span class="hljs-number">2</span>
  three: <span class="hljs-number">3</span>
  four: <span class="hljs-number">4</span>
result = util.object.filter test, <span class="hljs-function"><span class="hljs-params">(value)</span> -&gt;</span> value &lt; <span class="hljs-number">3</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result =
  one: <span class="hljs-number">1</span>
  two: <span class="hljs-number">2</span>
</code></pre>
<div class="pilwrap" id="lckeys">
  <h3>
    <a href="#lckeys" name="lckeys" class="pilcrow"></a>
lcKeys
  </h3>
</div>
<p>Make the keys within a deep object all lowercase.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
to be optimized</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>data object with all keys in lowercase</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test =
  One: <span class="hljs-number">1</span>
  TWO:
    three: <span class="hljs-number">3</span>
    fouR: <span class="hljs-number">4</span>
result = util.object.lcKeys test
</code></pre>
<p>Will result in:</p>
<pre><code class="coffee">result =
  one: <span class="hljs-number">1</span>
  two:
    three: <span class="hljs-number">3</span>
    four: <span class="hljs-number">4</span>
</code></pre>
<div class="pilwrap" id="array-object">
  <h2>
    <a href="#array-object" name="array-object" class="pilcrow"></a>
Array object
  </h2>
</div>
<div class="pilwrap" id="last">
  <h3>
    <a href="#last" name="last" class="pilcrow"></a>
last
  </h3>
</div>
<p>Get the last element.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>array</code>
of elements to work on</li>
<li><code>back</code> (optional)
offset character position from the end to look for</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>last element value</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = [ <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span> ]
result = util.array.last test
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = <span class="hljs-number">5</span>
</code></pre>
<div class="pilwrap" id="unique">
  <h3>
    <a href="#unique" name="unique" class="pilcrow"></a>
unique
  </h3>
</div>
<p>Remove duplicate entries from array.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>array</code>
of elements to work on</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>new array with duplicates removed</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = [ <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">1</span>,<span class="hljs-number">5</span> ]
result = util.array.unique test
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]
</code></pre>
<div class="pilwrap" id="sortby">
  <h3>
    <a href="#sortby" name="sortby" class="pilcrow"></a>
sortBy
  </h3>
</div>
<p>Sort array of objects.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>array</code>
of objects to work on</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>new array in sorted order</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="coffee">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
test = [
  {first: <span class="hljs-string">'Johann Sebastion'</span>, last: <span class="hljs-string">'Bach'</span>}
  {first: <span class="hljs-string">'Wolfgang Amadeus'</span>, last: <span class="hljs-string">'Mozart'</span>}
  {first: <span class="hljs-string">'Joseph'</span>, last: <span class="hljs-string">'Haydn'</span>}
  {first: <span class="hljs-string">'Richard'</span>, last: <span class="hljs-string">'Wagner'</span>}
  {first: <span class="hljs-string">'Antonio'</span>, last: <span class="hljs-string">'Vivaldi'</span>}
  {first: <span class="hljs-string">'Michael'</span>, last: <span class="hljs-string">'Haydn'</span>}
  {first: <span class="hljs-string">'Franz'</span>, last: <span class="hljs-string">'Schubert'</span>}
]
<span class="hljs-comment"># sort by last name ascending and first name descending</span>
result = util.array.sortBy test, <span class="hljs-string">'last'</span>, <span class="hljs-string">'-first'</span>
</code></pre>
<p>This results to:</p>
<pre><code class="coffee">result = [
  {first: <span class="hljs-string">'Johann Sebastion'</span>, last: <span class="hljs-string">'Bach'</span>}
  {first: <span class="hljs-string">'Michael'</span>, last: <span class="hljs-string">'Haydn'</span>}
  {first: <span class="hljs-string">'Joseph'</span>, last: <span class="hljs-string">'Haydn'</span>}
  {first: <span class="hljs-string">'Wolfgang Amadeus'</span>, last: <span class="hljs-string">'Mozart'</span>}
  {first: <span class="hljs-string">'Franz'</span>, last: <span class="hljs-string">'Schubert'</span>}
  {first: <span class="hljs-string">'Antonio'</span>, last: <span class="hljs-string">'Vivaldi'</span>}
  {first: <span class="hljs-string">'Richard'</span>, last: <span class="hljs-string">'Wagner'</span>}  
]
</code></pre>
<p>Like displayed above you may give one or multiple field names to sort by the
earlier has precedence. If field name starts with '-' sign it will sort in
descending order.</p>
<div class="pilwrap" id="function-wrapper">
  <h2>
    <a href="#function-wrapper" name="function-wrapper" class="pilcrow"></a>
Function Wrapper
  </h2>
</div>
<p>The following functions are used to wrap functions to give them more functionality.
You will get a resulting function which can be called any time.</p>
<p>In all of the following methods you may give an optional context to use as first
parameter. So to call it from class do so like:</p>
<pre><code class="coffee">class = Test
  init: util.function.once this, (cb) -&gt;
    # method...
    cb null, @status
</code></pre>
<p>That allows your function to access class members and methods. Keep in mind to use
<code>=&gt;</code> if you use sub functions.</p>
<p>If you use it in <code>module.exports</code> then do it as follows:</p>
<pre><code class="coffee"><span class="hljs-built_in">module</span>.exports =
  anyMethod: <span class="hljs-function"><span class="hljs-params">(cb)</span> -&gt;</span>
  <span class="hljs-comment"># and so on</span>

<span class="hljs-built_in">module</span>.exports.init = util.function.once <span class="hljs-built_in">module</span>.exports, <span class="hljs-function"><span class="hljs-params">(cb)</span> -&gt;</span>
  <span class="hljs-comment"># method...</span>
  @anyMethod cb
</code></pre>
<p>Like you see above you have to declare this method separately so that the <code>util.function.once</code>
method can access the now already defined module.exports object.</p>
<div class="pilwrap" id="once">
  <h3>
    <a href="#once" name="once" class="pilcrow"></a>
once
  </h3>
</div>
<p>The second and later calls will return with the same result:</p>
<pre><code class="coffee">fn = util.function.once (cb) -&gt;
  time = process.hrtime()
  setTimeout -&gt;
    cb <span class="hljs-literal">null</span>, time[<span class="hljs-number">1</span>]
  , <span class="hljs-number">1000</span>
</code></pre>
<p>Use this to make some initializations which only have to run once but neither
function may start because it is not done:</p>
<pre><code class="coffee">async.parallel [ fn, fn ], <span class="hljs-function"><span class="hljs-params">(err, results)</span> -&gt;</span>
  <span class="hljs-comment"># same as with `once.atime` it will come here exactly after the</span>
  <span class="hljs-comment"># first call finished because the second one will get the</span>
  <span class="hljs-comment"># result the same time</span>
  <span class="hljs-comment"># results here will be the same integer, twice</span>
  fn (err, result) -&gt;
    <span class="hljs-comment"># and this call will return imediately with the previous result</span>
</code></pre>
<div class="pilwrap" id="onceskip">
  <h3>
    <a href="#onceskip" name="onceskip" class="pilcrow"></a>
onceSkip
  </h3>
</div>
<p>A function may be wrapped with the once method:</p>
<pre><code class="coffee">fn = util.function.onceSkip (a, b, cb) -&gt; cb <span class="hljs-literal">null</span>, a + b
</code></pre>
<p>And now you can call the function as normal but on the second call it will
return imediately without running the code:</p>
<pre><code class="coffee">fn <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-function"><span class="hljs-params">(err, x)</span> -&gt;</span>
  <span class="hljs-regexp">//</span> x will now be <span class="hljs-number">5</span>
  fn <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-function"><span class="hljs-params">(err, x)</span> -&gt;</span>
    <span class="hljs-regexp">//</span> err will now be set <span class="hljs-literal">on</span> the second call
</code></pre>
<p>You may use this helper in case of initialization (wait) there a specific
method have to run once before any other call can succeed. Or then events
are involved and an error event will trigger the callback and the end event will
do the same.</p>
<div class="pilwrap" id="oncethrow">
  <h3>
    <a href="#oncethrow" name="oncethrow" class="pilcrow"></a>
onceThrow
  </h3>
</div>
<p>Throw an error if it is called a second time:</p>
<pre><code class="coffee">fn = util.function.onceThrow (a, b, cb) -&gt; cb <span class="hljs-literal">null</span>, a + b
</code></pre>
<p>If you call this method multiple times it will throw an exception:</p>
<pre><code class="coffee">fn <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-function"><span class="hljs-params">(err, x)</span> -&gt;</span>
  <span class="hljs-comment"># x will now be 5</span>
  fn <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-function"><span class="hljs-params">(err, x)</span> -&gt;</span>
    <span class="hljs-comment"># will neither get there because an exception is thrown above</span>
</code></pre>
<div class="pilwrap" id="oncetime">
  <h3>
    <a href="#oncetime" name="oncetime" class="pilcrow"></a>
onceTime
  </h3>
</div>
<p>Only run it once at a time, queue following requests and send them the result
of the next run. All calls get the same result, but then the process is already
started it will list the following calls for the next round. This assures that
their result is from the newest data set because you may changed something
while the first run was already working.</p>
<pre><code class="coffee">fn = util.function.onceTime (cb) -&gt;
  time = process.hrtime()
  setTimeout -&gt;
    cb <span class="hljs-literal">null</span>, time[<span class="hljs-number">1</span>]
  , <span class="hljs-number">1000</span>
</code></pre>
<p>And now you may call it multiple times but it will not run more than once
simultaneously. But all simultaneous calls will get the same result.</p>
<pre><code class="coffee">async.parallel [ fn, fn ], <span class="hljs-function"><span class="hljs-params">(err, results)</span> -&gt;</span>
  <span class="hljs-comment"># will come here exactly after the first call finished (because the</span>
  <span class="hljs-comment"># second will do so the same time)</span>
  <span class="hljs-comment"># results here will be the same integer, twice</span>
</code></pre>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h2>
</div>
<p>Copyright 2014-2016 Alexander Schilling</p>
<p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<blockquote>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
</blockquote>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
</div>
  </div>
</body>
</html>
