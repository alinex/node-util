<!DOCTYPE html>
<html>
<head>
  <title>string.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../doc-style.css" />
  <script src="../doc-filelist.js"></script>
  <script>
    var relativeDir = "../";
    var thisFile = "home/alex/github/node-util/src/string.coffee";
    var defaultSidebar = true;
  </script>
  <script src="../doc-script.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1.0" /></head>
<body>
  <nav>
<div class="logo"><a href="http://alinex.github.io"
  onmouseover="logo.src='https://alinex.github.io/images/Alinex-200.png'"
  onmouseout="logo.src='https://alinex.github.io/images/Alinex-black-200.png'">
  <img name="logo" src="https://alinex.github.io/images/Alinex-black-200.png"
    width="150" title="Alinex Universe Homepage" />
  </a>
  <img src="http://alinex.github.io/images/Alinex-200.png"
    style="display:none" alt="preloading" />
</div>
<div class="links">
  <a href="http://alinex.github.io/blog"
    class="btn btn-primary"><span class="glyphicon-pencil"></span> Blog</a>
  <a href="http://alinex.github.io/develop"
    class="btn btn-primary"><span class="glyphicon-book"></span> Develop</a>
  <a href="http://alinex.github.io/code.html"
    class="btn btn-warning"><span class="glyphicon-cog"></span> Code</a>
</div>
</nav><div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#utility-functions-for-strings">Utility functions for strings.</a>
      </div>

      <div class="heading h2">
        <a href="#check-for-specific-string-start">Check for specific string start</a>
      </div>

      <div class="heading h2">
        <a href="#check-for-specific-string-ending">Check for specific string ending</a>
      </div>

      <div class="heading h2">
        <a href="#repeat-string-n-times">Repeat string n times</a>
      </div>

      <div class="heading h2">
        <a href="#left-pad-string-to-specified-length">Left pad string to specified length</a>
      </div>

      <div class="heading h2">
        <a href="#right-pad-string-to-specified-length">Right pad string to specified length</a>
      </div>

      <div class="heading h2">
        <a href="#center-pad-string-to-specified-length">Center pad string to specified length</a>
      </div>

      <div class="heading h2">
        <a href="#trim-given-characters">Trim given characters</a>
      </div>

      <div class="heading h2">
        <a href="#upper-case-first-character">Upper case first character</a>
      </div>

      <div class="heading h2">
        <a href="#lower-case-first-character">Lower case first character</a>
      </div>

      <div class="heading h2">
        <a href="#check-if-string-contains-substring">Check if string contains substring</a>
      </div>

      <div class="heading h3">
        <a href="#wordwrap">WordWrap</a>
      </div>

      <div class="heading h3">
        <a href="#shorten">Shorten</a>
      </div>

      <div class="heading h3">
        <a href="#convert-to-list">Convert to list</a>
      </div>

      <div class="heading h2">
        <a href="#add-object-helpers-to-the-object-class">Add object helpers to the Object class</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container" tabindex="0"><a id="fork" href="https://github.com/alinex/node-util" title="Fork me on GitHub"></a>
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="utility-functions-for-strings">
  <h1>
    <a href="#utility-functions-for-strings" name="utility-functions-for-strings" class="pilcrow"></a>
Utility functions for strings.
  </h1>
</div>

        </td>
        <td class="code highlight">
          
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="check-for-specific-string-start">
  <h2>
    <a href="#check-for-specific-string-start" name="check-for-specific-string-start" class="pilcrow"></a>
Check for specific string start
  </h2>
</div>
<p>Peek at the beginning of a given string to see if it matches a sequence.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be checked</li>
<li><code>literal</code>
phrase to match</li>
<li><code>start</code> (optional)
offset character position to start looking for</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>true</code> if <code>string</code> starts with <code>literal</code></li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.starts = <span class="hljs-function"><span class="hljs-params">(string, literal, start)</span> -&gt;</span>
  literal <span class="hljs-keyword">is</span> string.substr start, literal.length</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="check-for-specific-string-ending">
  <h2>
    <a href="#check-for-specific-string-ending" name="check-for-specific-string-ending" class="pilcrow"></a>
Check for specific string ending
  </h2>
</div>
<p>Peek at the end of a given string to see if it matches a sequence.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be checked</li>
<li><code>literal</code>
phrase to match</li>
<li><code>back</code> (optional)
offset character position from the end to look for</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>true</code> if <code>string</code> ends with <code>literal</code></li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.ends = <span class="hljs-function"><span class="hljs-params">(string, literal, back)</span> -&gt;</span>
  len = literal.length
  literal <span class="hljs-keyword">is</span> string.substr string.length - len - (back <span class="hljs-keyword">or</span> <span class="hljs-number">0</span>), len</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="repeat-string-n-times">
  <h2>
    <a href="#repeat-string-n-times" name="repeat-string-n-times" class="pilcrow"></a>
Repeat string n times
  </h2>
</div>
<p>Use clever algorithm to have O(log(n)) string concatenation operations.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be repeated</li>
<li><code>n</code>
number of repeats</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the repeated text</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.repeat = <span class="hljs-function"><span class="hljs-params">(string, n)</span> -&gt;</span>
  res = <span class="hljs-string">''</span>
  <span class="hljs-keyword">while</span> n &gt; <span class="hljs-number">0</span>
    res += string <span class="hljs-keyword">if</span> n &amp; <span class="hljs-number">1</span>
    n &gt;&gt;&gt;= <span class="hljs-number">1</span>
    string += string
  res</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="left-pad-string-to-specified-length">
  <h2>
    <a href="#left-pad-string-to-specified-length" name="left-pad-string-to-specified-length" class="pilcrow"></a>
Left pad string to specified length
  </h2>
</div>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be padded</li>
<li><code>n</code>
final length of text</li>
<li><code>char</code>
character used for padding (defaults to ' ')</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the padded text</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.lpad = <span class="hljs-function"><span class="hljs-params">(string, length, char = <span class="hljs-string">' '</span>)</span> -&gt;</span>
  string = string.toString() <span class="hljs-keyword">unless</span> <span class="hljs-keyword">typeof</span> string <span class="hljs-keyword">is</span> <span class="hljs-string">'string'</span>
  <span class="hljs-keyword">return</span> string <span class="hljs-keyword">unless</span> length &gt;= string.length
  exports.repeat(char, length - string.length) + string</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="right-pad-string-to-specified-length">
  <h2>
    <a href="#right-pad-string-to-specified-length" name="right-pad-string-to-specified-length" class="pilcrow"></a>
Right pad string to specified length
  </h2>
</div>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be padded</li>
<li><code>n</code>
final length of text</li>
<li><code>char</code>
character used for padding (defaults to ' ')</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the padded text</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.rpad = <span class="hljs-function"><span class="hljs-params">(string, length, char = <span class="hljs-string">' '</span>)</span> -&gt;</span>
  string = string.toString() <span class="hljs-keyword">unless</span> <span class="hljs-keyword">typeof</span> string <span class="hljs-keyword">is</span> <span class="hljs-string">'string'</span>
  <span class="hljs-keyword">return</span> string <span class="hljs-keyword">unless</span> length &gt;= string.length
  string + exports.repeat(char, length - string.length)</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="center-pad-string-to-specified-length">
  <h2>
    <a href="#center-pad-string-to-specified-length" name="center-pad-string-to-specified-length" class="pilcrow"></a>
Center pad string to specified length
  </h2>
</div>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be padded</li>
<li><code>n</code>
final length of text</li>
<li><code>char</code>
character used for padding (defaults to ' ')</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the padded text</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.cpad = <span class="hljs-function"><span class="hljs-params">(string, length, char = <span class="hljs-string">' '</span>)</span> -&gt;</span>
  string = string.toString() <span class="hljs-keyword">unless</span> <span class="hljs-keyword">typeof</span> string <span class="hljs-keyword">is</span> <span class="hljs-string">'string'</span>
  <span class="hljs-keyword">return</span> string <span class="hljs-keyword">unless</span> length &gt;= string.length
  lpad = exports.repeat char, Math.floor (length - string.length) / <span class="hljs-number">2</span>
  rpad = exports.repeat char, Math.ceil (length - string.length) / <span class="hljs-number">2</span>
  lpad + string + rpad</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="trim-given-characters">
  <h2>
    <a href="#trim-given-characters" name="trim-given-characters" class="pilcrow"></a>
Trim given characters
  </h2>
</div>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be trimmed</li>
<li><code>chars</code>
list of characters to trim off (defaults to ' \n\t')</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the padded text</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.trim = <span class="hljs-function"><span class="hljs-params">(string, chars = <span class="hljs-string">" \n\t"</span>)</span> -&gt;</span>
  string = string.substring <span class="hljs-number">1</span> <span class="hljs-keyword">while</span> string <span class="hljs-keyword">and</span> ~chars.indexOf string.charAt <span class="hljs-number">0</span>
  <span class="hljs-keyword">while</span> string <span class="hljs-keyword">and</span> ~chars.indexOf string.charAt string.length-<span class="hljs-number">1</span>
    string = string.substring <span class="hljs-number">0</span>, string.length-<span class="hljs-number">1</span>
  string</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="upper-case-first-character">
  <h2>
    <a href="#upper-case-first-character" name="upper-case-first-character" class="pilcrow"></a>
Upper case first character
  </h2>
</div>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be changed</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the text with first letter upper case</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.ucFirst = <span class="hljs-function"><span class="hljs-params">(string)</span> -&gt;</span>
  string.charAt(<span class="hljs-number">0</span>).toUpperCase() + string.slice(<span class="hljs-number">1</span>)</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="lower-case-first-character">
  <h2>
    <a href="#lower-case-first-character" name="lower-case-first-character" class="pilcrow"></a>
Lower case first character
  </h2>
</div>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be changed</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>the text with first letter lower case</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.lcFirst = <span class="hljs-function"><span class="hljs-params">(string)</span> -&gt;</span>
  string.charAt(<span class="hljs-number">0</span>).toLowerCase() + string.slice(<span class="hljs-number">1</span>)</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="check-if-string-contains-substring">
  <h2>
    <a href="#check-if-string-contains-substring" name="check-if-string-contains-substring" class="pilcrow"></a>
Check if string contains substring
  </h2>
</div>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>string</code>
text to be check</li>
<li><code>phrase</code>
text to be searched for</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>(bool) <code>true</code> if phrase is contained in string</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.contains = <span class="hljs-function"><span class="hljs-params">(string, phrase)</span> -&gt;</span>
  string.indexOf(phrase) <span class="hljs-keyword">isnt</span> -<span class="hljs-number">1</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="wordwrap">
  <h3>
    <a href="#wordwrap" name="wordwrap" class="pilcrow"></a>
WordWrap
  </h3>
</div>
<ul>
<li>width -
maximum amount of characters per line</li>
<li>break
string that will be added whenever it's needed to break the line</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.wordwrap = wordwrap = <span class="hljs-function"><span class="hljs-params">(str, width = <span class="hljs-number">80</span>, brk = <span class="hljs-string">'\n'</span>)</span> -&gt;</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>check if string to short</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  <span class="hljs-keyword">return</span> str <span class="hljs-keyword">if</span> str.length &lt;= width</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>check if already has a break</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  p = str.indexOf brk
  <span class="hljs-keyword">if</span> -<span class="hljs-number">1</span> &lt; p &lt;= width
    <span class="hljs-keyword">return</span> str.substring(<span class="hljs-number">0</span>, p+<span class="hljs-number">1</span>) + wordwrap str.substring(p + <span class="hljs-number">1</span>), width, brk</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>find possible break in range</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  p = width
  p-- <span class="hljs-keyword">while</span> p &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> str[p] <span class="hljs-keyword">isnt</span> <span class="hljs-string">' '</span>
  <span class="hljs-keyword">if</span> p &gt; <span class="hljs-number">0</span>
    <span class="hljs-keyword">return</span> str.substring(<span class="hljs-number">0</span>, p) + brk + wordwrap str.substring(p + <span class="hljs-number">1</span>), width, brk</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>too long, break on next possition</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  p = width
  p++ <span class="hljs-keyword">while</span> p &lt; str.length <span class="hljs-keyword">and</span> str[p] <span class="hljs-keyword">isnt</span> <span class="hljs-string">' '</span>
  <span class="hljs-keyword">if</span> p &lt; str.length
    <span class="hljs-keyword">return</span> str.substring(<span class="hljs-number">0</span>, p) + brk + wordwrap str.substring(p + <span class="hljs-number">1</span>), width, brk</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>not possible to break</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  str</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="shorten">
  <h3>
    <a href="#shorten" name="shorten" class="pilcrow"></a>
Shorten
  </h3>
</div>
<ul>
<li>limit
maximum number of characters</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.shorten = <span class="hljs-function"><span class="hljs-params">(str, limit)</span> -&gt;</span>
  <span class="hljs-keyword">return</span> str <span class="hljs-keyword">if</span> str.length &lt; limit</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>need to shorten</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  str = str[<span class="hljs-number">0.</span>.limit-<span class="hljs-number">3</span>].replace <span class="hljs-regexp">/\s\S*?$/</span>, <span class="hljs-string">''</span>
  <span class="hljs-keyword">return</span> str + <span class="hljs-string">'...'</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="convert-to-list">
  <h3>
    <a href="#convert-to-list" name="convert-to-list" class="pilcrow"></a>
Convert to list
  </h3>
</div>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.toList = <span class="hljs-function"><span class="hljs-params">(text, rowDelimiter = <span class="hljs-regexp">/\n/</span>, colDelimiter)</span> -&gt;</span>
  list = text.split rowDelimiter
  <span class="hljs-keyword">return</span> list <span class="hljs-keyword">unless</span> colDelimiter
  list.map (e) -&gt; e.split colDelimiter

exports.toRegExp = <span class="hljs-function"><span class="hljs-params">(text)</span> -&gt;</span>
  <span class="hljs-keyword">return</span> text <span class="hljs-keyword">unless</span> <span class="hljs-keyword">typeof</span> text <span class="hljs-keyword">is</span> <span class="hljs-string">'string'</span>
  match = text.replace <span class="hljs-string">'\t'</span>, <span class="hljs-string">'\\t'</span>
  .replace <span class="hljs-string">'\n'</span>, <span class="hljs-string">'\\n'</span>
  .replace <span class="hljs-string">'\r'</span>, <span class="hljs-string">'\\r'</span>
  .match <span class="hljs-regexp">/^\/(.*)\/([gim]+)?$/</span>
  <span class="hljs-keyword">return</span> text <span class="hljs-keyword">unless</span> match
  <span class="hljs-keyword">new</span> RegExp match[<span class="hljs-number">1</span>], match[<span class="hljs-number">2</span>]</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="add-object-helpers-to-the-object-class">
  <h2>
    <a href="#add-object-helpers-to-the-object-class" name="add-object-helpers-to-the-object-class" class="pilcrow"></a>
Add object helpers to the Object class
  </h2>
</div>
<p>This will allow to call the methods directly on an object.</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.addToPrototype = <span class="hljs-function">-&gt;</span>
  String.prototype.starts = <span class="hljs-function"><span class="hljs-params">(literal, start)</span> -&gt;</span>
    exports.starts <span class="hljs-keyword">this</span>, literal, start
  String.prototype.ends = <span class="hljs-function"><span class="hljs-params">(literal, back)</span> -&gt;</span>
    exports.ends <span class="hljs-keyword">this</span>, literal, back
  String.prototype.repeat = <span class="hljs-function"><span class="hljs-params">(n)</span> -&gt;</span>
    exports.repeat <span class="hljs-keyword">this</span>, n
  String.prototype.rpad = <span class="hljs-function"><span class="hljs-params">(n, char)</span> -&gt;</span>
    exports.rpad <span class="hljs-keyword">this</span>, n, char
  String.prototype.lpad = <span class="hljs-function"><span class="hljs-params">(n, char)</span> -&gt;</span>
    exports.lpad <span class="hljs-keyword">this</span>, n, char
  String.prototype.cpad = <span class="hljs-function"><span class="hljs-params">(n, char)</span> -&gt;</span>
    exports.cpad <span class="hljs-keyword">this</span>, n, char
  String.prototype.ucFirst = <span class="hljs-function">-&gt;</span>
    exports.ucFirst <span class="hljs-keyword">this</span>
  String.prototype.lcFirst = <span class="hljs-function">-&gt;</span>
    exports.lcFirst <span class="hljs-keyword">this</span>
  String.prototype.contains = <span class="hljs-function"><span class="hljs-params">(phrase)</span> -&gt;</span>
    exports.contains <span class="hljs-keyword">this</span>, phrase
  String.prototype.wordwrap = <span class="hljs-function"><span class="hljs-params">(width, brk, cut)</span> -&gt;</span>
    exports.wordwrap <span class="hljs-keyword">this</span>, width, brk, cut
  String.prototype.shorten = <span class="hljs-function"><span class="hljs-params">(limit)</span> -&gt;</span>
    exports.shorten <span class="hljs-keyword">this</span>, limit
  String.prototype.toList = <span class="hljs-function"><span class="hljs-params">(rowDelimiter, colDelimiter)</span> -&gt;</span>
    exports.toList <span class="hljs-keyword">this</span>, rowDelimiter, colDelimiter
  String.prototype.toRegExp = <span class="hljs-function">-&gt;</span>
    exports.toRegExp <span class="hljs-keyword">this</span></pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
