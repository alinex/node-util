<!DOCTYPE html>
<html>
<head>
  <title>object.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../doc-style.css" />
  <script src="../doc-filelist.js"></script>
  <script>
    var relativeDir = "../";
    var thisFile = "home/alex/github/node-util/src/object.coffee";
    var defaultSidebar = true;
  </script>
  <script src="../doc-script.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1.0" /></head>
<body>
  <nav>
<div class="logo"><a href="http://alinex.github.io"
  onmouseover="logo.src='https://alinex.github.io/images/Alinex-200.png'"
  onmouseout="logo.src='https://alinex.github.io/images/Alinex-black-200.png'">
  <img name="logo" src="https://alinex.github.io/images/Alinex-black-200.png"
    width="150" title="Alinex Universe Homepage" />
  </a>
  <img src="http://alinex.github.io/images/Alinex-200.png"
    style="display:none" alt="preloading" />
</div>
<div class="links">
  <a href="http://alinex.github.io/blog"
    class="btn btn-primary"><span class="glyphicon-pencil"></span> Blog</a>
  <a href="http://alinex.github.io/develop"
    class="btn btn-primary"><span class="glyphicon-book"></span> Develop</a>
  <a href="http://alinex.github.io/code.html"
    class="btn btn-warning"><span class="glyphicon-cog"></span> Code</a>
</div>
</nav><div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#utility-functions-for-objects">Utility functions for objects.</a>
      </div>

      <div class="heading h2">
        <a href="#extend-object">Extend object</a>
      </div>

      <div class="heading h2">
        <a href="#extend-object-with-concat">Extend object (with concat)</a>
      </div>

      <div class="heading h2">
        <a href="#extend-object-with-replace-of-arrays">Extend object (with replace of arrays)</a>
      </div>

      <div class="heading h2">
        <a href="#deep-cloning-object">Deep cloning object</a>
      </div>

      <div class="heading h2">
        <a href="#check-for-empty-objects">Check for empty objects</a>
      </div>

      <div class="heading h2">
        <a href="#access-path-in-object">Access path in object</a>
      </div>

      <div class="heading h2">
        <a href="#find-path-in-object">Find path in object</a>
      </div>

      <div class="heading h2">
        <a href="#filter-object">Filter object</a>
      </div>

      <div class="heading h2">
        <a href="#make-objects-keys-to-lowercase">Make object&#39;s keys to lowercase</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container" tabindex="0"><a id="fork" href="https://github.com/alinex/node-util" title="Fork me on GitHub"></a>
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="utility-functions-for-objects">
  <h1>
    <a href="#utility-functions-for-objects" name="utility-functions-for-objects" class="pilcrow"></a>
Utility functions for objects.
  </h1>
</div>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">
debug = <span class="hljs-built_in">require</span>(<span class="hljs-string">'debug'</span>)(<span class="hljs-string">'util:object'</span>)
debugPathSearch = <span class="hljs-built_in">require</span>(<span class="hljs-string">'debug'</span>)(<span class="hljs-string">'util:object:pathsearch'</span>)
debugExtend = <span class="hljs-built_in">require</span>(<span class="hljs-string">'debug'</span>)(<span class="hljs-string">'util:object:extend'</span>)
util = <span class="hljs-built_in">require</span> <span class="hljs-string">'util'</span>
chalk = <span class="hljs-built_in">require</span> <span class="hljs-string">'chalk'</span>

deprecatedExtend = <span class="hljs-literal">false</span>
deprecatedExtendArrayConcat = <span class="hljs-literal">false</span>
deprecatedExtendArrayReplace = <span class="hljs-literal">false</span>
deprecatedClone = <span class="hljs-literal">false</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="extend-object">
  <h2>
    <a href="#extend-object" name="extend-object" class="pilcrow"></a>
Extend object
  </h2>
</div>
<p>This method will extend a given object with the entries from additional
objects. Therefore it will do a deep extend and make all elements from the
added objects cloned.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
base object to be extended</li>
<li><code>extender</code>...
multiple extenders may be given with will be cloned into the object.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>object</code>
the given and maybe changed object.</li>
</ul>
<p>Use the <code>constructor.name</code> for equal object check because the constructor
object may differ to another copy of the same class if generated in the sandbox.</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">extend = <span class="hljs-built_in">module</span>.exports.extend = <span class="hljs-function"><span class="hljs-params">(obj, ext...)</span> -&gt;</span>
  <span class="hljs-keyword">unless</span> deprecatedExtend
    <span class="hljs-built_in">console</span>.warn <span class="hljs-string">"object.extend() in alinex-util is deprecated since v 2.0.0"</span>
    deprecatedExtend = <span class="hljs-literal">true</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>clone if no extenders given</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  <span class="hljs-keyword">return</span> extend <span class="hljs-literal">null</span>, obj <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> ext?
  obj = <span class="hljs-literal">null</span> <span class="hljs-keyword">unless</span> obj
  debugExtend <span class="hljs-string">"-&gt; extend <span class="hljs-subst">#{chalk.grey util.inspect obj}</span>"</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>use all extenders</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  <span class="hljs-keyword">for</span> src <span class="hljs-keyword">in</span> ext
    <span class="hljs-keyword">continue</span> <span class="hljs-keyword">unless</span> src?
    debugExtend <span class="hljs-string">"   by <span class="hljs-subst">#{chalk.grey util.inspect src}</span>"</span>
    obj = {} <span class="hljs-keyword">unless</span> obj</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>empty object</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">    <span class="hljs-keyword">continue</span> <span class="hljs-keyword">if</span> src.constructor?.name <span class="hljs-keyword">is</span> Object.name <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> Object.keys(src).length
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">typeof</span> src <span class="hljs-keyword">isnt</span> <span class="hljs-string">'object'</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>simple variables or function</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      obj = src
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> Array.isArray src</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>array</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      obj = [] <span class="hljs-keyword">unless</span> Array.isArray obj
      <span class="hljs-keyword">for</span> val, i <span class="hljs-keyword">in</span> src
        debugExtend <span class="hljs-string">"array[<span class="hljs-subst">#{i}</span>]"</span>
        obj.push extend <span class="hljs-literal">null</span>, val
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> src <span class="hljs-keyword">instanceof</span> Date
      debugExtend <span class="hljs-string">"Date"</span>
      obj = <span class="hljs-keyword">new</span> Date src.getTime()
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> src <span class="hljs-keyword">instanceof</span> RegExp
      debugExtend <span class="hljs-string">"RegExp"</span>
      flags = <span class="hljs-string">''</span>
      flags += <span class="hljs-string">'g'</span> <span class="hljs-keyword">if</span> src.<span class="hljs-built_in">global</span>
      flags += <span class="hljs-string">'i'</span> <span class="hljs-keyword">if</span> src.ignoreCase
      flags += <span class="hljs-string">'m'</span> <span class="hljs-keyword">if</span> src.multiline
      flags += <span class="hljs-string">'y'</span> <span class="hljs-keyword">if</span> src.sticky
      obj = <span class="hljs-keyword">new</span> RegExp src.source, flags
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> src.constructor.name <span class="hljs-keyword">isnt</span> Object.name
      debugExtend <span class="hljs-string">"unknown instance (referenced)"</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<pre><code>exact copy/clone not working on instances
 obj = extendInstance obj, src
</code></pre>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      obj = src
    <span class="hljs-keyword">else</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>object structure</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      <span class="hljs-keyword">for</span> own key, val <span class="hljs-keyword">of</span> src
        debugExtend <span class="hljs-string">"object.<span class="hljs-subst">#{key}</span> <span class="hljs-subst">#{chalk.grey util.inspect val}</span>"</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>test to assure a key like 'toString' won't map to the standard function</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">        base = <span class="hljs-keyword">if</span> key <span class="hljs-keyword">in</span> Object.keys(obj) <span class="hljs-keyword">then</span> obj[key] <span class="hljs-keyword">else</span> <span class="hljs-literal">undefined</span>
        obj[key] = extend <span class="hljs-literal">null</span>, base, val
        <span class="hljs-keyword">delete</span> obj[key] <span class="hljs-keyword">if</span> val <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span>
  debugExtend <span class="hljs-string">"&lt;- <span class="hljs-subst">#{chalk.grey util.inspect obj}</span>"</span>
  obj</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="extend-object-with-concat">
  <h2>
    <a href="#extend-object-with-concat" name="extend-object-with-concat" class="pilcrow"></a>
Extend object (with concat)
  </h2>
</div>
<p>This method is like extend but will concat arrays elements directly instead
of concat the element clones. This keeps the references under the first array.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
base object to be extended</li>
<li><code>extender</code>...
multiple extenders may be given with will be cloned into the object.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>object</code>
the given and maybe changed object.</li>
</ul>
<p>Use the <code>constructor.name</code> for equal object check because the constructor
object may differ to another copy of the same class if generated in the sandbox.</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">extendArrayConcat = <span class="hljs-built_in">module</span>.exports.extendArrayConcat = <span class="hljs-function"><span class="hljs-params">(obj, ext...)</span> -&gt;</span>
  <span class="hljs-keyword">unless</span> deprecatedExtendArrayConcat
    <span class="hljs-built_in">console</span>.warn <span class="hljs-string">"object.extendArrayConcat() in alinex-util is deprecated since v 2.0.0"</span>
    deprecatedExtendArrayConcat = <span class="hljs-literal">true</span>
  debug <span class="hljs-string">"-&gt; extend <span class="hljs-subst">#{chalk.grey util.inspect obj}</span> (with concat)"</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>clone if no extenders given</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  <span class="hljs-keyword">return</span> extendArrayConcat <span class="hljs-literal">null</span>, obj <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> ext?
  obj = <span class="hljs-literal">null</span> <span class="hljs-keyword">unless</span> obj</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>use all extenders</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  <span class="hljs-keyword">for</span> src <span class="hljs-keyword">in</span> ext
    <span class="hljs-keyword">continue</span> <span class="hljs-keyword">unless</span> src?
    debug <span class="hljs-string">"by <span class="hljs-subst">#{chalk.grey util.inspect src}</span>"</span>
    obj = {} <span class="hljs-keyword">unless</span> obj
    <span class="hljs-keyword">continue</span> <span class="hljs-keyword">if</span> src.constructor?.name <span class="hljs-keyword">is</span> Object.name <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> Object.keys(src).length
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">typeof</span> src <span class="hljs-keyword">isnt</span> <span class="hljs-string">'object'</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>simple variables or function</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      obj = src
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> Array.isArray src
      debug <span class="hljs-string">"array concat"</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>array</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      obj = [] <span class="hljs-keyword">unless</span> Array.isArray obj
      obj.push.apply obj, src
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> src <span class="hljs-keyword">instanceof</span> Date
      debug <span class="hljs-string">"Date"</span>
      obj = <span class="hljs-keyword">new</span> Date src.getTime()
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> src <span class="hljs-keyword">instanceof</span> RegExp
      debug <span class="hljs-string">"RegExp"</span>
      flags = <span class="hljs-string">''</span>
      flags += <span class="hljs-string">'g'</span> <span class="hljs-keyword">if</span> src.<span class="hljs-built_in">global</span>
      flags += <span class="hljs-string">'i'</span> <span class="hljs-keyword">if</span> src.ignoreCase
      flags += <span class="hljs-string">'m'</span> <span class="hljs-keyword">if</span> src.multiline
      flags += <span class="hljs-string">'y'</span> <span class="hljs-keyword">if</span> src.sticky
      obj = <span class="hljs-keyword">new</span> RegExp src.source, flags
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> src.constructor.name <span class="hljs-keyword">isnt</span> Object.name
      debug <span class="hljs-string">"unknown instance (referenced)"</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<pre><code>exact copy/clone not working on instances
 obj = extendInstance obj, src
</code></pre>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      obj = src
    <span class="hljs-keyword">else</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>object structure</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      <span class="hljs-keyword">for</span> own key, val <span class="hljs-keyword">of</span> src
        debug <span class="hljs-string">"object.<span class="hljs-subst">#{key}</span> <span class="hljs-subst">#{chalk.grey util.inspect val}</span>"</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>test to assure a key like 'toString' won't map to the standard function</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">        base = <span class="hljs-keyword">if</span> key <span class="hljs-keyword">in</span> Object.keys(obj) <span class="hljs-keyword">then</span> obj[key] <span class="hljs-keyword">else</span> <span class="hljs-literal">undefined</span>
        obj[key] = extendArrayConcat base, val
        <span class="hljs-keyword">delete</span> obj[key] <span class="hljs-keyword">if</span> val <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span>
  debug <span class="hljs-string">"&lt;- <span class="hljs-subst">#{chalk.grey util.inspect obj}</span>"</span>
  obj</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="extend-object-with-replace-of-arrays">
  <h2>
    <a href="#extend-object-with-replace-of-arrays" name="extend-object-with-replace-of-arrays" class="pilcrow"></a>
Extend object (with replace of arrays)
  </h2>
</div>
<p>This method is like extend but will concat arrays elements directly instead
of concat the element clones. This keeps the references under the first array.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
base object to be extended</li>
<li><code>extender</code>...
multiple extenders may be given with will be cloned into the object.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>object</code>
the given and maybe changed object.</li>
</ul>
<p>Use the <code>constructor.name</code> for equal object check because the constructor
object may differ to another copy of the same class if generated in the sandbox.</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript"><span class="hljs-built_in">module</span>.exports.extendArrayReplace = <span class="hljs-function"><span class="hljs-params">(obj, ext...)</span> -&gt;</span>
  <span class="hljs-keyword">unless</span> deprecatedExtendArrayReplace
    <span class="hljs-built_in">console</span>.warn <span class="hljs-string">"object.extendArrayReplace() in alinex-util is deprecated since v 2.0.0"</span>
    deprecatedExtendArrayReplace = <span class="hljs-literal">true</span>
  debug <span class="hljs-string">"-&gt; extend <span class="hljs-subst">#{chalk.grey util.inspect obj}</span> (with replace)"</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>clone if no extenders given</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  <span class="hljs-keyword">return</span> extendArrayConcat <span class="hljs-literal">null</span>, obj <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> ext?
  obj = <span class="hljs-literal">null</span> <span class="hljs-keyword">unless</span> obj</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>use all extenders</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  <span class="hljs-keyword">for</span> src <span class="hljs-keyword">in</span> ext
    <span class="hljs-keyword">continue</span> <span class="hljs-keyword">unless</span> src?
    debug <span class="hljs-string">"by <span class="hljs-subst">#{chalk.grey util.inspect src}</span>"</span>
    obj = {} <span class="hljs-keyword">unless</span> obj
    <span class="hljs-keyword">continue</span> <span class="hljs-keyword">if</span> src.constructor?.name <span class="hljs-keyword">is</span> Object.name <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> Object.keys(src).length
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">typeof</span> src <span class="hljs-keyword">isnt</span> <span class="hljs-string">'object'</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>simple variables or function</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      obj = src
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> Array.isArray src
      debug <span class="hljs-string">"array replace"</span>
      obj = src
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> src <span class="hljs-keyword">instanceof</span> Date
      debug <span class="hljs-string">"Date"</span>
      obj = <span class="hljs-keyword">new</span> Date src.getTime()
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> src <span class="hljs-keyword">instanceof</span> RegExp
      debug <span class="hljs-string">"RegExp"</span>
      flags = <span class="hljs-string">''</span>
      flags += <span class="hljs-string">'g'</span> <span class="hljs-keyword">if</span> src.<span class="hljs-built_in">global</span>
      flags += <span class="hljs-string">'i'</span> <span class="hljs-keyword">if</span> src.ignoreCase
      flags += <span class="hljs-string">'m'</span> <span class="hljs-keyword">if</span> src.multiline
      flags += <span class="hljs-string">'y'</span> <span class="hljs-keyword">if</span> src.sticky
      obj = <span class="hljs-keyword">new</span> RegExp src.source, flags
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> src.constructor.name <span class="hljs-keyword">isnt</span> Object.name
      debug <span class="hljs-string">"unknown instance (referenced)"</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<pre><code>exact copy/clone not working on instances
 obj = extendInstance obj, src
</code></pre>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      obj = src
    <span class="hljs-keyword">else</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>object structure</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">      <span class="hljs-keyword">for</span> own key, val <span class="hljs-keyword">of</span> src
        debug <span class="hljs-string">"object.<span class="hljs-subst">#{key}</span> <span class="hljs-subst">#{chalk.grey util.inspect val}</span>"</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<p>test to assure a key like 'toString' won't map to the standard function</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">        base = <span class="hljs-keyword">if</span> key <span class="hljs-keyword">in</span> Object.keys(obj) <span class="hljs-keyword">then</span> obj[key] <span class="hljs-keyword">else</span> <span class="hljs-literal">undefined</span>
        obj[key] = extendArrayConcat base, val
        <span class="hljs-keyword">delete</span> obj[key] <span class="hljs-keyword">if</span> val <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span>
  debug <span class="hljs-string">"&lt;- <span class="hljs-subst">#{chalk.grey util.inspect obj}</span>"</span>
  obj</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="deep-cloning-object">
  <h2>
    <a href="#deep-cloning-object" name="deep-cloning-object" class="pilcrow"></a>
Deep cloning object
  </h2>
</div>
<p>This method will create a clone of the given object.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
to be cloned</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>object</code>
clone of the given  object.</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript"><span class="hljs-built_in">module</span>.exports.clone = <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span>
  <span class="hljs-keyword">unless</span> deprecatedClone
    <span class="hljs-built_in">console</span>.warn <span class="hljs-string">"object.clone() in alinex-util is deprecated since v 2.0.0"</span>
    deprecatedClone = <span class="hljs-literal">true</span>
  extend <span class="hljs-literal">null</span>, obj</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="check-for-empty-objects">
  <h2>
    <a href="#check-for-empty-objects" name="check-for-empty-objects" class="pilcrow"></a>
Check for empty objects
  </h2>
</div>
<p>This method will check if an object is empty. This is also true for undefined
objects.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>object</code>
to be checked</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>boolean</code>
true if object is empty</li>
</ul>

        </td>
        <td class="code highlight">
          <pre class="coffeescript"><span class="hljs-built_in">module</span>.exports.isEmpty = <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<p>true for undefined objects</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> <span class="hljs-keyword">unless</span> obj?
  <span class="hljs-keyword">return</span> obj.length <span class="hljs-keyword">is</span> <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> obj.length?
  Object.keys(obj).length <span class="hljs-keyword">is</span> <span class="hljs-number">0</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="access-path-in-object">
  <h2>
    <a href="#access-path-in-object" name="access-path-in-object" class="pilcrow"></a>
Access path in object
  </h2>
</div>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.path = <span class="hljs-function"><span class="hljs-params">(obj, path, separator = <span class="hljs-string">'/'</span>)</span> -&gt;</span>
  path = path.split separator <span class="hljs-keyword">if</span> <span class="hljs-keyword">typeof</span> path <span class="hljs-keyword">is</span> <span class="hljs-string">'string'</span>
  debug <span class="hljs-string">"get path <span class="hljs-subst">#{util.inspect path}</span> from <span class="hljs-subst">#{util.inspect obj}</span>"</span>
  ref = obj
  <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> path
    <span class="hljs-keyword">continue</span> <span class="hljs-keyword">unless</span> k
    ref = ref[k]</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<p>console.log ref</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  <span class="hljs-keyword">return</span> ref</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="find-path-in-object">
  <h2>
    <a href="#find-path-in-object" name="find-path-in-object" class="pilcrow"></a>
Find path in object
  </h2>
</div>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">pathSearch = exports.pathSearch = <span class="hljs-function"><span class="hljs-params">(obj, path, separator = <span class="hljs-string">'/'</span>)</span> -&gt;</span>
  path = path.split separator <span class="hljs-keyword">if</span> <span class="hljs-keyword">typeof</span> path <span class="hljs-keyword">is</span> <span class="hljs-string">'string'</span>
  debugPathSearch <span class="hljs-string">"get path <span class="hljs-subst">#{util.inspect path}</span> from <span class="hljs-subst">#{util.inspect obj}</span>"</span>
  <span class="hljs-keyword">return</span> obj <span class="hljs-keyword">unless</span> path.length
  cur = path.shift()</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<p>step over empty paths like //</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  cur = path.shift() <span class="hljs-keyword">while</span> cur <span class="hljs-keyword">is</span> <span class="hljs-string">''</span> <span class="hljs-keyword">and</span> path.length
  <span class="hljs-keyword">return</span> obj <span class="hljs-keyword">if</span> cur <span class="hljs-keyword">is</span> <span class="hljs-string">''</span>
  result = obj
  <span class="hljs-keyword">switch</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<p>wildcard path</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">    <span class="hljs-keyword">when</span> cur <span class="hljs-keyword">is</span> <span class="hljs-string">'*'</span>
      <span class="hljs-keyword">unless</span> path.length
        result = []
        result.push val <span class="hljs-keyword">for</span> key, val <span class="hljs-keyword">of</span> obj
        <span class="hljs-keyword">return</span> result
      <span class="hljs-keyword">for</span> key, val <span class="hljs-keyword">of</span> obj
        <span class="hljs-keyword">continue</span> <span class="hljs-keyword">unless</span> <span class="hljs-keyword">typeof</span> val <span class="hljs-keyword">is</span> <span class="hljs-string">'object'</span>
        result = pathSearch val, path[<span class="hljs-number">0.</span>.]
        <span class="hljs-keyword">return</span> result <span class="hljs-keyword">if</span> result?
      <span class="hljs-keyword">return</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<p>recursive wildcard</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">    <span class="hljs-keyword">when</span> cur <span class="hljs-keyword">is</span> <span class="hljs-string">'**'</span>
      <span class="hljs-keyword">return</span> obj <span class="hljs-keyword">unless</span> path.length
      result = pathSearch result, path[<span class="hljs-number">0.</span>.]
      <span class="hljs-keyword">return</span> result <span class="hljs-keyword">if</span> result?
      path.unshift cur
      <span class="hljs-keyword">for</span> key, val <span class="hljs-keyword">of</span> obj
        <span class="hljs-keyword">continue</span> <span class="hljs-keyword">unless</span> <span class="hljs-keyword">typeof</span> val <span class="hljs-keyword">is</span> <span class="hljs-string">'object'</span>
        result = pathSearch val, path[<span class="hljs-number">0.</span>.]
        <span class="hljs-keyword">return</span> result <span class="hljs-keyword">if</span> result?
      <span class="hljs-keyword">return</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<p>regexp matching</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">    <span class="hljs-keyword">when</span> cur.match <span class="hljs-regexp">/\W/</span>
      cur = <span class="hljs-keyword">new</span> RegExp <span class="hljs-string">"^<span class="hljs-subst">#{cur}</span>$"</span>
      result = []
      <span class="hljs-keyword">for</span> key, val <span class="hljs-keyword">of</span> obj
        result.push val <span class="hljs-keyword">if</span> key.match cur
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">unless</span> result.length
      result = result[<span class="hljs-number">0</span>] <span class="hljs-keyword">if</span> result.length <span class="hljs-keyword">is</span> <span class="hljs-number">1</span>
      result</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<p>concrete name</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">    <span class="hljs-keyword">else</span>
      result = obj?[cur]
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">unless</span> result?
      <span class="hljs-keyword">return</span> pathSearch result, path <span class="hljs-keyword">if</span> path.length
      result</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="filter-object">
  <h2>
    <a href="#filter-object" name="filter-object" class="pilcrow"></a>
Filter object
  </h2>
</div>
<p>This will create a new object with all keys that pass the test implemented
by the provided allow(value, key, object)</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.filter = <span class="hljs-function"><span class="hljs-params">(obj, allow)</span> -&gt;</span>
  result = {}
  <span class="hljs-keyword">for</span> key <span class="hljs-keyword">of</span> obj
    <span class="hljs-keyword">if</span> obj.hasOwnProperty(key) <span class="hljs-keyword">and</span> allow obj[key], key, obj
      result[key] = obj[key]
  result</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="make-objects-keys-to-lowercase">
  <h2>
    <a href="#make-objects-keys-to-lowercase" name="make-objects-keys-to-lowercase" class="pilcrow"></a>
Make object's keys to lowercase
  </h2>
</div>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">lcKeys = exports.lcKeys = <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span>
  <span class="hljs-keyword">return</span> obj <span class="hljs-keyword">if</span> <span class="hljs-keyword">typeof</span> obj <span class="hljs-keyword">isnt</span> <span class="hljs-string">'object'</span> <span class="hljs-keyword">or</span> Array.isArray obj
  lc = {}
  <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> Object.keys obj
    lc[key.toLowerCase()] = lcKeys obj[key]
  lc</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
